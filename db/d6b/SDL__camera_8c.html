<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDL3: SDL-main/src/camera/SDL_camera.c File Reference</title>
<link rel="icon" href="../../logo.png" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">SDL3<span id="projectnumber">&#160;3.2.18</span>
   </div>
   <div id="projectbrief">SDL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('db/d6b/SDL__camera_8c.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">SDL_camera.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/d4e/SDL__internal_8h.html">SDL_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d3/d62/SDL__syscamera_8h.html">SDL_syscamera.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d2f/SDL__camera__c_8h.html">SDL_camera_c.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d71/SDL__pixels__c_8h.html">../video/SDL_pixels_c.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d81/SDL__surface__c_8h.html">../video/SDL_surface_c.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d8/dfa/SDL__systhread_8h.html">../thread/SDL_systhread.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for SDL_camera.c:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../dc/da6/SDL__camera_8c__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:FindOnePhysicalCameraByCallbackData" id="r_FindOnePhysicalCameraByCallbackData"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/db1/structFindOnePhysicalCameraByCallbackData.html">FindOnePhysicalCameraByCallbackData</a></td></tr>
<tr class="memitem:GetOneCameraData" id="r_GetOneCameraData"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/daf/structGetOneCameraData.html">GetOneCameraData</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7339d64a37ad3662269f5067a9f22bba" id="r_a7339d64a37ad3662269f5067a9f22bba"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7339d64a37ad3662269f5067a9f22bba">FILL_STUB</a>(<a class="el" href="../../d3/dda/eglext_8h.html#acc11468aee54b60420a8f429a6619ab3">x</a>)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9732896c70cc54618eeea854db195a26" id="r_a9732896c70cc54618eeea854db195a26"><td class="memItemLeft" align="right" valign="top">typedef struct FindOnePhysicalCameraByCallbackData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9732896c70cc54618eeea854db195a26">FindOnePhysicalCameraByCallbackData</a></td></tr>
<tr class="memitem:a22ac335a97a1cbe246575ef9c7b807f3" id="r_a22ac335a97a1cbe246575ef9c7b807f3"><td class="memItemLeft" align="right" valign="top">typedef struct GetOneCameraData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22ac335a97a1cbe246575ef9c7b807f3">GetOneCameraData</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a29bdfd58ef6ef51972870147a1efa12c" id="r_a29bdfd58ef6ef51972870147a1efa12c"><td class="memItemLeft" align="right" valign="top">static int <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a29bdfd58ef6ef51972870147a1efa12c">CameraSpecCmp</a> (const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *vpa, const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *vpb)</td></tr>
<tr class="memitem:a03e068ea12aee6918e95902871cb3523" id="r_a03e068ea12aee6918e95902871cb3523"><td class="memItemLeft" align="right" valign="top">static int <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03e068ea12aee6918e95902871cb3523">CameraThread</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *devicep)</td></tr>
<tr class="memitem:a772c13b82642ecd50db4f34abe014c50" id="r_a772c13b82642ecd50db4f34abe014c50"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a772c13b82642ecd50db4f34abe014c50">ChooseBestCameraSpec</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device, const <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *spec, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *closest)</td></tr>
<tr class="memitem:ab7a71f9714b725dee33350131a9d91f0" id="r_ab7a71f9714b725dee33350131a9d91f0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device)</td></tr>
<tr class="memitem:ae2b75a7cd66311b1fe7430be88f5141b" id="r_ae2b75a7cd66311b1fe7430be88f5141b"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae2b75a7cd66311b1fe7430be88f5141b">CompleteCameraEntryPoints</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)</td></tr>
<tr class="memitem:a0ba8fe72217bbe6c8ed6c7c9183cefc3" id="r_a0ba8fe72217bbe6c8ed6c7c9183cefc3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ba8fe72217bbe6c8ed6c7c9183cefc3">DestroyCameraHashItem</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *userdata, const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *key, const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *<a class="el" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>)</td></tr>
<tr class="memitem:a98d8522c86d27a0645a31cded1ba11b2" id="r_a98d8522c86d27a0645a31cded1ba11b2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98d8522c86d27a0645a31cded1ba11b2">FindOnePhysicalCameraByCallback</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *userdata, const <a class="el" href="../../da/d27/structSDL__HashTable.html">SDL_HashTable</a> *table, const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *key, const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *<a class="el" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>)</td></tr>
<tr class="memitem:a75a5a75873e3130285b34e63e636cbca" id="r_a75a5a75873e3130285b34e63e636cbca"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a75a5a75873e3130285b34e63e636cbca">GetFrameBufLen</a> (const <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *spec)</td></tr>
<tr class="memitem:a3c8dfa75ac9e8c49d95996ac1f1d5a3f" id="r_a3c8dfa75ac9e8c49d95996ac1f1d5a3f"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c8dfa75ac9e8c49d95996ac1f1d5a3f">GetOneCamera</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *userdata, const <a class="el" href="../../da/d27/structSDL__HashTable.html">SDL_HashTable</a> *table, const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *key, const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *<a class="el" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>)</td></tr>
<tr class="memitem:ad3a8df31f50f2edcc09c5d7acbae12f0" id="r_ad3a8df31f50f2edcc09c5d7acbae12f0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera</a> (<a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> devid)</td></tr>
<tr class="memitem:a8bf505e8dab4dacd60f34b93c15fc783" id="r_a8bf505e8dab4dacd60f34b93c15fc783"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device) <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a617b4906fd737636813dd68d54f72952">SDL_NO_THREAD_SAFETY_ANALYSIS</a></td></tr>
<tr class="memitem:aaa382a79d36a025d9368556d49202d48" id="r_aaa382a79d36a025d9368556d49202d48"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa382a79d36a025d9368556d49202d48">RefPhysicalCamera</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device)</td></tr>
<tr class="memitem:ab22ee16a96e2cb69d7d87f64f8c234e1" id="r_ab22ee16a96e2cb69d7d87f64f8c234e1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device) <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a617b4906fd737636813dd68d54f72952">SDL_NO_THREAD_SAFETY_ANALYSIS</a></td></tr>
<tr class="memitem:adb656bd4baa9b1811c13486a98370d16" id="r_adb656bd4baa9b1811c13486a98370d16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb656bd4baa9b1811c13486a98370d16">SDL_AcquireCameraFrame</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *camera, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a> *timestampNS)</td></tr>
<tr class="memitem:afb7c241c357906c05f5b76ca6e5f8efc" id="r_afb7c241c357906c05f5b76ca6e5f8efc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afb7c241c357906c05f5b76ca6e5f8efc">SDL_AddCamera</a> (const char *<a class="el" href="../../d3/dda/eglext_8h.html#aa72c2236be3f1b815a31199583ccf019">name</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccd">SDL_CameraPosition</a> position, int num_specs, const <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *specs, <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *<a class="el" href="../../d3/dda/eglext_8h.html#a48fc485a2a8834589d1f1afeec65193c">handle</a>)</td></tr>
<tr class="memitem:a844dfbbc4f846916eebc9298da054200" id="r_a844dfbbc4f846916eebc9298da054200"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a844dfbbc4f846916eebc9298da054200">SDL_AddCameraFormat</a> (<a class="el" href="../../da/d28/structCameraFormatAddData.html">CameraFormatAddData</a> *<a class="el" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#a97d088d4072b630501f1b2b99a216a25">SDL_Colorspace</a> colorspace, int w, int h, int framerate_numerator, int framerate_denominator)</td></tr>
<tr class="memitem:acd24207c14e2b43ccdf28e8107f3f2a5" id="r_acd24207c14e2b43ccdf28e8107f3f2a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device)</td></tr>
<tr class="memitem:a1c95febe36642a6bee0885f1078c6cc2" id="r_a1c95febe36642a6bee0885f1078c6cc2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c95febe36642a6bee0885f1078c6cc2">SDL_CameraInit</a> (const char *driver_name)</td></tr>
<tr class="memitem:aaf114744da523edc8f10da088e887bc8" id="r_aaf114744da523edc8f10da088e887bc8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf114744da523edc8f10da088e887bc8">SDL_CameraPermissionOutcome</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> approved)</td></tr>
<tr class="memitem:aada59aeebd93ce01f07435a3741fc972" id="r_aada59aeebd93ce01f07435a3741fc972"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aada59aeebd93ce01f07435a3741fc972">SDL_CameraThreadIterate</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device)</td></tr>
<tr class="memitem:a5fabfda78c2d93fd14ce4f46af5e7b51" id="r_a5fabfda78c2d93fd14ce4f46af5e7b51"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5fabfda78c2d93fd14ce4f46af5e7b51">SDL_CameraThreadSetup</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device)</td></tr>
<tr class="memitem:a3c15ae6704e2737e76ad92a7f9d0618b" id="r_a3c15ae6704e2737e76ad92a7f9d0618b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c15ae6704e2737e76ad92a7f9d0618b">SDL_CameraThreadShutdown</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device)</td></tr>
<tr class="memitem:a929af4fe2f26fcdb7090178c86535121" id="r_a929af4fe2f26fcdb7090178c86535121"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a929af4fe2f26fcdb7090178c86535121">SDL_CloseCamera</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *camera)</td></tr>
<tr class="memitem:adba84bc0b57d02c7e2aea48bd2202e72" id="r_adba84bc0b57d02c7e2aea48bd2202e72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adba84bc0b57d02c7e2aea48bd2202e72">SDL_FindPhysicalCameraByCallback</a> (<a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(*callback)(<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device, <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *userdata), <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *userdata)</td></tr>
<tr class="memitem:ae46c1e9aabce1b542216f9fd36d06f05" id="r_ae46c1e9aabce1b542216f9fd36d06f05"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae46c1e9aabce1b542216f9fd36d06f05">SDL_GetCameraDriver</a> (int index)</td></tr>
<tr class="memitem:ad07f724e49b2712b4393d71a88f9c9da" id="r_ad07f724e49b2712b4393d71a88f9c9da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad07f724e49b2712b4393d71a88f9c9da">SDL_GetCameraFormat</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *camera, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *spec)</td></tr>
<tr class="memitem:aabba86e97fffff0d55fae7efe2ecff94" id="r_aabba86e97fffff0d55fae7efe2ecff94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aabba86e97fffff0d55fae7efe2ecff94">SDL_GetCameraID</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *camera)</td></tr>
<tr class="memitem:a52e6a78e489760b12c2652f6fbb3e70e" id="r_a52e6a78e489760b12c2652f6fbb3e70e"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52e6a78e489760b12c2652f6fbb3e70e">SDL_GetCameraName</a> (<a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> instance_id)</td></tr>
<tr class="memitem:ac15e9525ddbbd34f7b1335bcfb678751" id="r_ac15e9525ddbbd34f7b1335bcfb678751"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac15e9525ddbbd34f7b1335bcfb678751">SDL_GetCameraPermissionState</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *camera)</td></tr>
<tr class="memitem:a5af1812f716601276da09d886ac6af8b" id="r_a5af1812f716601276da09d886ac6af8b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccd">SDL_CameraPosition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5af1812f716601276da09d886ac6af8b">SDL_GetCameraPosition</a> (<a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> instance_id)</td></tr>
<tr class="memitem:aac8ec527b1a4e4c41b376f7fff527b72" id="r_aac8ec527b1a4e4c41b376f7fff527b72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d40/SDL__properties_8h.html#a4e582827c1502da505ab48cc3c1a685e">SDL_PropertiesID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aac8ec527b1a4e4c41b376f7fff527b72">SDL_GetCameraProperties</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *camera)</td></tr>
<tr class="memitem:aedc4ec75d9d6168e900bb424ef338a3d" id="r_aedc4ec75d9d6168e900bb424ef338a3d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aedc4ec75d9d6168e900bb424ef338a3d">SDL_GetCameras</a> (int *<a class="el" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a>)</td></tr>
<tr class="memitem:ac0d4f13cf5999309fef70689c342fdfa" id="r_ac0d4f13cf5999309fef70689c342fdfa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac0d4f13cf5999309fef70689c342fdfa">SDL_GetCameraSupportedFormats</a> (<a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> instance_id, int *<a class="el" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a>)</td></tr>
<tr class="memitem:a72f927d66365b876fd54a7b3ae91e14e" id="r_a72f927d66365b876fd54a7b3ae91e14e"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72f927d66365b876fd54a7b3ae91e14e">SDL_GetCameraThreadName</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device, char *buf, size_t buflen)</td></tr>
<tr class="memitem:aa02987079d7a46900e4580991dee903f" id="r_aa02987079d7a46900e4580991dee903f"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa02987079d7a46900e4580991dee903f">SDL_GetCurrentCameraDriver</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)</td></tr>
<tr class="memitem:a725ebcc6a250f491975c68d2b8035a7f" id="r_a725ebcc6a250f491975c68d2b8035a7f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a725ebcc6a250f491975c68d2b8035a7f">SDL_GetNumCameraDrivers</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)</td></tr>
<tr class="memitem:a52469fec975f103f2456d9e03a868fba" id="r_a52469fec975f103f2456d9e03a868fba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a52469fec975f103f2456d9e03a868fba">SDL_OpenCamera</a> (<a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> instance_id, const <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *spec)</td></tr>
<tr class="memitem:a9827f6dc8f7b2ba442714446aea1e522" id="r_a9827f6dc8f7b2ba442714446aea1e522"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9827f6dc8f7b2ba442714446aea1e522">SDL_PrepareCameraSurfaces</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device)</td></tr>
<tr class="memitem:a6fca7b5907990a504def9694c2ab4dc6" id="r_a6fca7b5907990a504def9694c2ab4dc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6fca7b5907990a504def9694c2ab4dc6">SDL_QuitCamera</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)</td></tr>
<tr class="memitem:a8fc1cdd8252e34f341fab7774213065d" id="r_a8fc1cdd8252e34f341fab7774213065d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8fc1cdd8252e34f341fab7774213065d">SDL_ReleaseCameraFrame</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *camera, <a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *frame)</td></tr>
<tr class="memitem:a3d7121bb9252d15e5556b11caa40493e" id="r_a3d7121bb9252d15e5556b11caa40493e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d7121bb9252d15e5556b11caa40493e">SDL_UpdateCamera</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)</td></tr>
<tr class="memitem:ac5d9e3c62323ba5c687a9ec0c635cd90" id="r_ac5d9e3c62323ba5c687a9ec0c635cd90"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac5d9e3c62323ba5c687a9ec0c635cd90">UnrefPhysicalCamera</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device)</td></tr>
<tr class="memitem:aef669a153850af3731049f6f7ec07b38" id="r_aef669a153850af3731049f6f7ec07b38"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8">SDL_CameraFrameResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aef669a153850af3731049f6f7ec07b38">ZombieAcquireFrame</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device, <a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *frame, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a> *timestampNS)</td></tr>
<tr class="memitem:a991802312b4b2edaee34b6daaa80d1e9" id="r_a991802312b4b2edaee34b6daaa80d1e9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a991802312b4b2edaee34b6daaa80d1e9">ZombieReleaseFrame</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device, <a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *frame)</td></tr>
<tr class="memitem:a4044eb918456131d4ad258e3b1060ca9" id="r_a4044eb918456131d4ad258e3b1060ca9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4044eb918456131d4ad258e3b1060ca9">ZombieWaitDevice</a> (<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a596a6cd902c28567cd287d0ec8e53092" id="r_a596a6cd902c28567cd287d0ec8e53092"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="../../dd/d3c/structCameraBootStrap.html">CameraBootStrap</a> *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a596a6cd902c28567cd287d0ec8e53092">bootstrap</a> []</td></tr>
<tr class="memitem:a68f96075182c4eb80c9aa0765e87bb33" id="r_a68f96075182c4eb80c9aa0765e87bb33"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d6/ddc/structSDL__CameraDriver.html">SDL_CameraDriver</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a></td></tr>
</table>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a7339d64a37ad3662269f5067a9f22bba" name="a7339d64a37ad3662269f5067a9f22bba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7339d64a37ad3662269f5067a9f22bba">&#9670;&#160;</a></span>FILL_STUB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILL_STUB</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="../../d3/dda/eglext_8h.html#acc11468aee54b60420a8f429a6619ab3">x</a></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.x != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div>
<div class="ttc" id="aSDL__assert_8h_html_af03d71e27f06835f6a09358943c33b1d"><div class="ttname"><a href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a></div><div class="ttdeci">#define SDL_assert(condition)</div><div class="ttdef"><b>Definition</b> SDL_assert.h:478</div></div>
<div class="ttc" id="aSDL__begin__code_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> SDL_begin_code.h:469</div></div>
<div class="ttc" id="aSDL__camera_8c_html_a68f96075182c4eb80c9aa0765e87bb33"><div class="ttname"><a href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a></div><div class="ttdeci">static SDL_CameraDriver camera_driver</div><div class="ttdef"><b>Definition</b> SDL_camera.c:62</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#ae2b75a7cd66311b1fe7430be88f5141b">CompleteCameraEntryPoints()</a>.</p>

</div>
</div>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="a9732896c70cc54618eeea854db195a26" name="a9732896c70cc54618eeea854db195a26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9732896c70cc54618eeea854db195a26">&#9670;&#160;</a></span>FindOnePhysicalCameraByCallbackData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct FindOnePhysicalCameraByCallbackData FindOnePhysicalCameraByCallbackData</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a22ac335a97a1cbe246575ef9c7b807f3" name="a22ac335a97a1cbe246575ef9c7b807f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22ac335a97a1cbe246575ef9c7b807f3">&#9670;&#160;</a></span>GetOneCameraData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct GetOneCameraData GetOneCameraData</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a29bdfd58ef6ef51972870147a1efa12c" name="a29bdfd58ef6ef51972870147a1efa12c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29bdfd58ef6ef51972870147a1efa12c">&#9670;&#160;</a></span>CameraSpecCmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> CameraSpecCmp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>vpa</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>vpb</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  347</span>{</div>
<div class="line"><span class="lineno">  348</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *a = (<span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *) vpa;</div>
<div class="line"><span class="lineno">  349</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *b = (<span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *) vpb;</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    <span class="comment">// driver shouldn&#39;t send specs like this, check here since we&#39;re eventually going to sniff the whole array anyhow.</span></div>
<div class="line"><span class="lineno">  352</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> != <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>);</div>
<div class="line"><span class="lineno">  353</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> &gt; 0);</div>
<div class="line"><span class="lineno">  354</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> &gt; 0);</div>
<div class="line"><span class="lineno">  355</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> != <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>);</div>
<div class="line"><span class="lineno">  356</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> &gt; 0);</div>
<div class="line"><span class="lineno">  357</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> &gt; 0);</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a> afmt = a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>;</div>
<div class="line"><span class="lineno">  360</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a> bfmt = b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>;</div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#ac2a8124d1f6842ddf7ef5cc01c760818">SDL_ISPIXELFORMAT_FOURCC</a>(afmt) &amp;&amp; !<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#ac2a8124d1f6842ddf7ef5cc01c760818">SDL_ISPIXELFORMAT_FOURCC</a>(bfmt)) {</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  363</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#ac2a8124d1f6842ddf7ef5cc01c760818">SDL_ISPIXELFORMAT_FOURCC</a>(afmt) &amp;&amp; <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#ac2a8124d1f6842ddf7ef5cc01c760818">SDL_ISPIXELFORMAT_FOURCC</a>(bfmt)) {</div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  365</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a>(afmt) &gt; <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a>(bfmt)) {</div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  367</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a>(bfmt) &gt; <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a>(afmt)) {</div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  369</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> &gt; b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>) {</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  371</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> &gt; a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>) {</div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  373</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> &gt; b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>) {</div>
<div class="line"><span class="lineno">  374</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  375</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> &gt; a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>) {</div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  377</span>    }</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    <span class="comment">// still here? We care about framerate less than format or size, but faster is better than slow.</span></div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span> (a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> &amp;&amp; !b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a>) {</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  382</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> &amp;&amp; b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a>) {</div>
<div class="line"><span class="lineno">  383</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  384</span>    }</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> fpsa = ((float)a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> / a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a>);</div>
<div class="line"><span class="lineno">  387</span>    <span class="keyword">const</span> <span class="keywordtype">float</span> fpsb = ((float)b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> / b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a>);</div>
<div class="line"><span class="lineno">  388</span>    <span class="keywordflow">if</span> (fpsa &gt; fpsb) {</div>
<div class="line"><span class="lineno">  389</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  390</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fpsb &gt; fpsa) {</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  392</span>    }</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aca9184cda593c7f6b778d713ba3ab014">SDL_COLORSPACERANGE</a>(a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a>) == <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#a3fd571fdefd033854f39e95e45628582a6bdaedfa29329c8a0e6d479882b43bef">SDL_COLOR_RANGE_FULL</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  395</span>        <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aca9184cda593c7f6b778d713ba3ab014">SDL_COLORSPACERANGE</a>(b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a>) != <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#a3fd571fdefd033854f39e95e45628582a6bdaedfa29329c8a0e6d479882b43bef">SDL_COLOR_RANGE_FULL</a>) {</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  397</span>    }</div>
<div class="line"><span class="lineno">  398</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aca9184cda593c7f6b778d713ba3ab014">SDL_COLORSPACERANGE</a>(a-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a>) != <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#a3fd571fdefd033854f39e95e45628582a6bdaedfa29329c8a0e6d479882b43bef">SDL_COLOR_RANGE_FULL</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  399</span>        <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aca9184cda593c7f6b778d713ba3ab014">SDL_COLORSPACERANGE</a>(b-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a>) == <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#a3fd571fdefd033854f39e95e45628582a6bdaedfa29329c8a0e6d479882b43bef">SDL_COLOR_RANGE_FULL</a>) {</div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  401</span>    }</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">return</span> 0;  <span class="comment">// apparently, they&#39;re equal.</span></div>
<div class="line"><span class="lineno">  404</span>}</div>
<div class="ttc" id="aSDL__pixels_8h_html_a3fd571fdefd033854f39e95e45628582a6bdaedfa29329c8a0e6d479882b43bef"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#a3fd571fdefd033854f39e95e45628582a6bdaedfa29329c8a0e6d479882b43bef">SDL_COLOR_RANGE_FULL</a></div><div class="ttdeci">@ SDL_COLOR_RANGE_FULL</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:726</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a></div><div class="ttdeci">SDL_PixelFormat</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:549</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a></div><div class="ttdeci">@ SDL_PIXELFORMAT_UNKNOWN</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:550</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa66e860806303ec149fb8c213aeed488"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a></div><div class="ttdeci">#define SDL_BITSPERPIXEL(format)</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:340</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_ac2a8124d1f6842ddf7ef5cc01c760818"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#ac2a8124d1f6842ddf7ef5cc01c760818">SDL_ISPIXELFORMAT_FOURCC</a></div><div class="ttdeci">#define SDL_ISPIXELFORMAT_FOURCC(format)</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:506</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aca9184cda593c7f6b778d713ba3ab014"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aca9184cda593c7f6b778d713ba3ab014">SDL_COLORSPACERANGE</a></div><div class="ttdeci">#define SDL_COLORSPACERANGE(cspace)</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:881</div></div>
<div class="ttc" id="astructSDL__CameraSpec_html"><div class="ttname"><a href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a></div><div class="ttdef"><b>Definition</b> SDL_camera.h:116</div></div>
<div class="ttc" id="astructSDL__CameraSpec_html_a236cdb78c2d67866a8999c16cf9d8dee"><div class="ttname"><a href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">SDL_CameraSpec::framerate_denominator</a></div><div class="ttdeci">int framerate_denominator</div><div class="ttdef"><b>Definition</b> SDL_camera.h:122</div></div>
<div class="ttc" id="astructSDL__CameraSpec_html_a2a4f6720b790bb1022fefbeb87385d13"><div class="ttname"><a href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">SDL_CameraSpec::framerate_numerator</a></div><div class="ttdeci">int framerate_numerator</div><div class="ttdef"><b>Definition</b> SDL_camera.h:121</div></div>
<div class="ttc" id="astructSDL__CameraSpec_html_a4aa78ca2c23f1459cd1d591b3e98e6ab"><div class="ttname"><a href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">SDL_CameraSpec::format</a></div><div class="ttdeci">SDL_PixelFormat format</div><div class="ttdef"><b>Definition</b> SDL_camera.h:117</div></div>
<div class="ttc" id="astructSDL__CameraSpec_html_a746c6ca6700173f48d6293944d99c9ac"><div class="ttname"><a href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">SDL_CameraSpec::width</a></div><div class="ttdeci">int width</div><div class="ttdef"><b>Definition</b> SDL_camera.h:119</div></div>
<div class="ttc" id="astructSDL__CameraSpec_html_ab1d76516ab7e03c5d1002b0c0ea1c4c5"><div class="ttname"><a href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">SDL_CameraSpec::height</a></div><div class="ttdeci">int height</div><div class="ttdef"><b>Definition</b> SDL_camera.h:120</div></div>
<div class="ttc" id="astructSDL__CameraSpec_html_ae91c86d64fa947c642d9ec6ac5f36e44"><div class="ttname"><a href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">SDL_CameraSpec::colorspace</a></div><div class="ttdeci">SDL_Colorspace colorspace</div><div class="ttdef"><b>Definition</b> SDL_camera.h:118</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">SDL_CameraSpec::colorspace</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">SDL_CameraSpec::format</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">SDL_CameraSpec::framerate_denominator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">SDL_CameraSpec::framerate_numerator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">SDL_CameraSpec::height</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#a3fd571fdefd033854f39e95e45628582a6bdaedfa29329c8a0e6d479882b43bef">SDL_COLOR_RANGE_FULL</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aca9184cda593c7f6b778d713ba3ab014">SDL_COLORSPACERANGE</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#ac2a8124d1f6842ddf7ef5cc01c760818">SDL_ISPIXELFORMAT_FOURCC</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>, and <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">SDL_CameraSpec::width</a>.</p>

<p class="reference">Referenced by <a class="el" href="#afb7c241c357906c05f5b76ca6e5f8efc">SDL_AddCamera()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a29bdfd58ef6ef51972870147a1efa12c_icgraph.svg" width="308" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a03e068ea12aee6918e95902871cb3523" name="a03e068ea12aee6918e95902871cb3523"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03e068ea12aee6918e95902871cb3523">&#9670;&#160;</a></span>CameraThread()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> CameraThread </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>devicep</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  936</span>{</div>
<div class="line"><span class="lineno">  937</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = (<a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *) devicep;</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span><span class="preprocessor">    #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  940</span>    <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: dev[%p] Start thread &#39;CameraThread&#39;&quot;</span>, devicep);</div>
<div class="line"><span class="lineno">  941</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(device != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  944</span>    <a class="code hl_function" href="#a5fabfda78c2d93fd14ce4f46af5e7b51">SDL_CameraThreadSetup</a>(device);</div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  947</span>        <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a8b66a1e1e52fff272129ef3306d2c1ca">WaitDevice</a>(device)) {</div>
<div class="line"><span class="lineno">  948</span>            <a class="code hl_function" href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected</a>(device);  <span class="comment">// doh. (but don&#39;t break out of the loop, just be a zombie for now!)</span></div>
<div class="line"><span class="lineno">  949</span>        }</div>
<div class="line"><span class="lineno">  950</span>    } <span class="keywordflow">while</span> (<a class="code hl_function" href="#aada59aeebd93ce01f07435a3741fc972">SDL_CameraThreadIterate</a>(device));</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>    <a class="code hl_function" href="#a3c15ae6704e2737e76ad92a7f9d0618b">SDL_CameraThreadShutdown</a>(device);</div>
<div class="line"><span class="lineno">  953</span> </div>
<div class="line"><span class="lineno">  954</span><span class="preprocessor">    #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  955</span>    <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: dev[%p] End thread &#39;CameraThread&#39;&quot;</span>, devicep);</div>
<div class="line"><span class="lineno">  956</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  959</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_a3c15ae6704e2737e76ad92a7f9d0618b"><div class="ttname"><a href="#a3c15ae6704e2737e76ad92a7f9d0618b">SDL_CameraThreadShutdown</a></div><div class="ttdeci">void SDL_CameraThreadShutdown(SDL_Camera *device)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:927</div></div>
<div class="ttc" id="aSDL__camera_8c_html_a5fabfda78c2d93fd14ce4f46af5e7b51"><div class="ttname"><a href="#a5fabfda78c2d93fd14ce4f46af5e7b51">SDL_CameraThreadSetup</a></div><div class="ttdeci">void SDL_CameraThreadSetup(SDL_Camera *device)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:784</div></div>
<div class="ttc" id="aSDL__camera_8c_html_aada59aeebd93ce01f07435a3741fc972"><div class="ttname"><a href="#aada59aeebd93ce01f07435a3741fc972">SDL_CameraThreadIterate</a></div><div class="ttdeci">bool SDL_CameraThreadIterate(SDL_Camera *device)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:801</div></div>
<div class="ttc" id="aSDL__camera_8c_html_acd24207c14e2b43ccdf28e8107f3f2a5"><div class="ttname"><a href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected</a></div><div class="ttdeci">void SDL_CameraDisconnected(SDL_Camera *device)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:516</div></div>
<div class="ttc" id="aSDL__log_8h_html_a529abf4d553ed303628c1d5261e8de80"><div class="ttname"><a href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_Log(SDL_PRINTF_FORMAT_STRING const char *fmt,...) SDL_PRINTF_VARARG_FUNC(1)</div><div class="ttdef"><b>Definition</b> SDL_log.c:478</div></div>
<div class="ttc" id="astructSDL__Camera_html"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a></div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:87</div></div>
<div class="ttc" id="astructSDL__Camera_html_a8b66a1e1e52fff272129ef3306d2c1ca"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a8b66a1e1e52fff272129ef3306d2c1ca">SDL_Camera::WaitDevice</a></div><div class="ttdeci">bool(* WaitDevice)(SDL_Camera *device)</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:101</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected()</a>, <a class="el" href="#aada59aeebd93ce01f07435a3741fc972">SDL_CameraThreadIterate()</a>, <a class="el" href="#a5fabfda78c2d93fd14ce4f46af5e7b51">SDL_CameraThreadSetup()</a>, <a class="el" href="#a3c15ae6704e2737e76ad92a7f9d0618b">SDL_CameraThreadShutdown()</a>, <a class="el" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log()</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>, and <a class="el" href="../../d0/d7e/structSDL__Camera.html#a8b66a1e1e52fff272129ef3306d2c1ca">SDL_Camera::WaitDevice</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a03e068ea12aee6918e95902871cb3523_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a03e068ea12aee6918e95902871cb3523_icgraph.svg" width="298" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a772c13b82642ecd50db4f34abe014c50" name="a772c13b82642ecd50db4f34abe014c50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a772c13b82642ecd50db4f34abe014c50">&#9670;&#160;</a></span>ChooseBestCameraSpec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> ChooseBestCameraSpec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *</td>          <td class="paramname"><span class="paramname"><em>spec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *</td>          <td class="paramname"><span class="paramname"><em>closest</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1066</span>{</div>
<div class="line"><span class="lineno"> 1067</span>    <span class="comment">// Find the closest available native format/size...</span></div>
<div class="line"><span class="lineno"> 1068</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1069</span>    <span class="comment">// We want the exact size if possible, even if we have</span></div>
<div class="line"><span class="lineno"> 1070</span>    <span class="comment">// to convert formats, because we can _probably_ do that</span></div>
<div class="line"><span class="lineno"> 1071</span>    <span class="comment">// conversion losslessly at less expense verses scaling.</span></div>
<div class="line"><span class="lineno"> 1072</span>    <span class="comment">//</span></div>
<div class="line"><span class="lineno"> 1073</span>    <span class="comment">// Failing that, we want the size that&#39;s closest to the</span></div>
<div class="line"><span class="lineno"> 1074</span>    <span class="comment">// requested aspect ratio, then the closest size within</span></div>
<div class="line"><span class="lineno"> 1075</span>    <span class="comment">// that.</span></div>
<div class="line"><span class="lineno"> 1076</span> </div>
<div class="line"><span class="lineno"> 1077</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a995406d407faf4cfa1ca9dd904672ab6">SDL_zerop</a>(closest);</div>
<div class="line"><span class="lineno"> 1078</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>) <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>) == 0);  <span class="comment">// since we SDL_zerop&#39;d to this value.</span></div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>    <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a060be6f6bf611c9c34fc40b86a9648c6">num_specs</a> == 0) {  <span class="comment">// device listed no specs! You get whatever you want!</span></div>
<div class="line"><span class="lineno"> 1081</span>        <span class="keywordflow">if</span> (spec) {</div>
<div class="line"><span class="lineno"> 1082</span>            <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aa20b552293de849b3c1c7576cb158e9e">SDL_copyp</a>(closest, spec);</div>
<div class="line"><span class="lineno"> 1083</span>        }</div>
<div class="line"><span class="lineno"> 1084</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1085</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!spec) {  <span class="comment">// nothing specifically requested, get the best format we can...</span></div>
<div class="line"><span class="lineno"> 1086</span>        <span class="comment">// we sorted this into the &quot;best&quot; format order when adding the camera.</span></div>
<div class="line"><span class="lineno"> 1087</span>        <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aa20b552293de849b3c1c7576cb158e9e">SDL_copyp</a>(closest, &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>[0]);</div>
<div class="line"><span class="lineno"> 1088</span>    } <span class="keywordflow">else</span> {  <span class="comment">// specific thing requested, try to get as close to that as possible...</span></div>
<div class="line"><span class="lineno"> 1089</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> num_specs = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a060be6f6bf611c9c34fc40b86a9648c6">num_specs</a>;</div>
<div class="line"><span class="lineno"> 1090</span>        <span class="keywordtype">int</span> wantw = spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>;</div>
<div class="line"><span class="lineno"> 1091</span>        <span class="keywordtype">int</span> wanth = spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>;</div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>        <span class="keywordflow">if</span> (wantw &gt; 0 &amp;&amp; wanth &gt; 0) {</div>
<div class="line"><span class="lineno"> 1094</span>            <span class="comment">// Find the sizes with the closest aspect ratio and then find the best fit of those.</span></div>
<div class="line"><span class="lineno"> 1095</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> wantaspect = ((float)wantw) / ((<span class="keywordtype">float</span>)wanth);</div>
<div class="line"><span class="lineno"> 1096</span>            <span class="keyword">const</span> <span class="keywordtype">float</span> epsilon = 1e-6f;</div>
<div class="line"><span class="lineno"> 1097</span>            <span class="keywordtype">float</span> closestaspect = -9999999.0f;</div>
<div class="line"><span class="lineno"> 1098</span>            <span class="keywordtype">float</span> closestdiff = 999999.0f;</div>
<div class="line"><span class="lineno"> 1099</span>            <span class="keywordtype">int</span> closestdiffw = 9999999;</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_specs; i++) {</div>
<div class="line"><span class="lineno"> 1102</span>                <span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *thisspec = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>[i];</div>
<div class="line"><span class="lineno"> 1103</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> thisw = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>;</div>
<div class="line"><span class="lineno"> 1104</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> thish = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>;</div>
<div class="line"><span class="lineno"> 1105</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> thisaspect = ((float)thisw) / ((<span class="keywordtype">float</span>)thish);</div>
<div class="line"><span class="lineno"> 1106</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> aspectdiff = <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a4e80bbbaae07dc97ddfd3fcaf865120c">SDL_fabsf</a>(wantaspect - thisaspect);</div>
<div class="line"><span class="lineno"> 1107</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> diff = <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a4e80bbbaae07dc97ddfd3fcaf865120c">SDL_fabsf</a>(closestaspect - thisaspect);</div>
<div class="line"><span class="lineno"> 1108</span>                <span class="keyword">const</span> <span class="keywordtype">int</span> diffw = <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#af9b135154fa003723f5bed94d2a77340">SDL_abs</a>(thisw - wantw);</div>
<div class="line"><span class="lineno"> 1109</span>                <span class="keywordflow">if</span> (diff &lt; epsilon) { <span class="comment">// matches current closestaspect? See if resolution is closer in size.</span></div>
<div class="line"><span class="lineno"> 1110</span>                    <span class="keywordflow">if</span> (diffw &lt; closestdiffw) {</div>
<div class="line"><span class="lineno"> 1111</span>                        closestdiffw = diffw;</div>
<div class="line"><span class="lineno"> 1112</span>                        closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> = thisw;</div>
<div class="line"><span class="lineno"> 1113</span>                        closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> = thish;</div>
<div class="line"><span class="lineno"> 1114</span>                    }</div>
<div class="line"><span class="lineno"> 1115</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (aspectdiff &lt; closestdiff) { <span class="comment">// this is a closer aspect ratio? Take it, reset resolution checks.</span></div>
<div class="line"><span class="lineno"> 1116</span>                    closestdiff = aspectdiff;</div>
<div class="line"><span class="lineno"> 1117</span>                    closestaspect = thisaspect;</div>
<div class="line"><span class="lineno"> 1118</span>                    closestdiffw = diffw;</div>
<div class="line"><span class="lineno"> 1119</span>                    closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> = thisw;</div>
<div class="line"><span class="lineno"> 1120</span>                    closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> = thish;</div>
<div class="line"><span class="lineno"> 1121</span>                }</div>
<div class="line"><span class="lineno"> 1122</span>            }</div>
<div class="line"><span class="lineno"> 1123</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1124</span>            <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aa20b552293de849b3c1c7576cb158e9e">SDL_copyp</a>(closest, &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>[0]);</div>
<div class="line"><span class="lineno"> 1125</span>        }</div>
<div class="line"><span class="lineno"> 1126</span> </div>
<div class="line"><span class="lineno"> 1127</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> &gt; 0);</div>
<div class="line"><span class="lineno"> 1128</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> &gt; 0);</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>        <span class="comment">// okay, we have what we think is the best resolution, now we just need the best format that supports it...</span></div>
<div class="line"><span class="lineno"> 1131</span>        <span class="keyword">const</span> <a class="code hl_enumeration" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a> wantfmt = spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>;</div>
<div class="line"><span class="lineno"> 1132</span>        <a class="code hl_enumeration" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a> best_format = <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>;</div>
<div class="line"><span class="lineno"> 1133</span>        <a class="code hl_enumeration" href="../../d9/d3f/SDL__pixels_8h.html#a97d088d4072b630501f1b2b99a216a25">SDL_Colorspace</a> best_colorspace = <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#a97d088d4072b630501f1b2b99a216a25a6a413b7c90de3a92f524c5075b66000d">SDL_COLORSPACE_UNKNOWN</a>;</div>
<div class="line"><span class="lineno"> 1134</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_specs; i++) {</div>
<div class="line"><span class="lineno"> 1135</span>            <span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *thisspec = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>[i];</div>
<div class="line"><span class="lineno"> 1136</span>            <span class="keywordflow">if</span> ((thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> == closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>) &amp;&amp; (thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> == closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>)) {</div>
<div class="line"><span class="lineno"> 1137</span>                <span class="keywordflow">if</span> (best_format == <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>) {</div>
<div class="line"><span class="lineno"> 1138</span>                    best_format = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>;  <span class="comment">// spec list is sorted by what we consider &quot;best&quot; format, so unless we find an exact match later, first size match is the one!</span></div>
<div class="line"><span class="lineno"> 1139</span>                    best_colorspace = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a>;</div>
<div class="line"><span class="lineno"> 1140</span>                }</div>
<div class="line"><span class="lineno"> 1141</span>                <span class="keywordflow">if</span> (thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> == wantfmt) {</div>
<div class="line"><span class="lineno"> 1142</span>                    best_format = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>;</div>
<div class="line"><span class="lineno"> 1143</span>                    best_colorspace = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a>;</div>
<div class="line"><span class="lineno"> 1144</span>                    <span class="keywordflow">break</span>;  <span class="comment">// exact match, stop looking.</span></div>
<div class="line"><span class="lineno"> 1145</span>                }</div>
<div class="line"><span class="lineno"> 1146</span>            }</div>
<div class="line"><span class="lineno"> 1147</span>        }</div>
<div class="line"><span class="lineno"> 1148</span> </div>
<div class="line"><span class="lineno"> 1149</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(best_format != <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>);</div>
<div class="line"><span class="lineno"> 1150</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(best_colorspace != <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#a97d088d4072b630501f1b2b99a216a25a6a413b7c90de3a92f524c5075b66000d">SDL_COLORSPACE_UNKNOWN</a>);</div>
<div class="line"><span class="lineno"> 1151</span>        closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> = best_format;</div>
<div class="line"><span class="lineno"> 1152</span>        closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a> = best_colorspace;</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>        <span class="comment">// We have a resolution and a format, find the closest framerate...</span></div>
<div class="line"><span class="lineno"> 1155</span>        <span class="keyword">const</span> <span class="keywordtype">float</span> wantfps = spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a> ? ((float)spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> / spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a>) : 0.0f;</div>
<div class="line"><span class="lineno"> 1156</span>        <span class="keywordtype">float</span> closestfps = 9999999.0f;</div>
<div class="line"><span class="lineno"> 1157</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_specs; i++) {</div>
<div class="line"><span class="lineno"> 1158</span>            <span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *thisspec = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>[i];</div>
<div class="line"><span class="lineno"> 1159</span>            <span class="keywordflow">if</span> ((thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> == closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>) &amp;&amp; (thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> == closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>) &amp;&amp; (thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> == closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>)) {</div>
<div class="line"><span class="lineno"> 1160</span>                <span class="keywordflow">if</span> ((thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> == spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a>) &amp;&amp; (thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a> == spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a>)) {</div>
<div class="line"><span class="lineno"> 1161</span>                    closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a>;</div>
<div class="line"><span class="lineno"> 1162</span>                    closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a> = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a>;</div>
<div class="line"><span class="lineno"> 1163</span>                    <span class="keywordflow">break</span>;  <span class="comment">// exact match, stop looking.</span></div>
<div class="line"><span class="lineno"> 1164</span>                }</div>
<div class="line"><span class="lineno"> 1165</span> </div>
<div class="line"><span class="lineno"> 1166</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> thisfps = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a> ? ((float)thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> / thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a>) : 0.0f;</div>
<div class="line"><span class="lineno"> 1167</span>                <span class="keyword">const</span> <span class="keywordtype">float</span> fpsdiff = <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a4e80bbbaae07dc97ddfd3fcaf865120c">SDL_fabsf</a>(wantfps - thisfps);</div>
<div class="line"><span class="lineno"> 1168</span>                <span class="keywordflow">if</span> (fpsdiff &lt; closestfps) {  <span class="comment">// this is a closest FPS? Take it until something closer arrives.</span></div>
<div class="line"><span class="lineno"> 1169</span>                    closestfps = fpsdiff;</div>
<div class="line"><span class="lineno"> 1170</span>                    closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a>;</div>
<div class="line"><span class="lineno"> 1171</span>                    closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a> = thisspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a>;</div>
<div class="line"><span class="lineno"> 1172</span>                }</div>
<div class="line"><span class="lineno"> 1173</span>            }</div>
<div class="line"><span class="lineno"> 1174</span>        }</div>
<div class="line"><span class="lineno"> 1175</span>    }</div>
<div class="line"><span class="lineno"> 1176</span> </div>
<div class="line"><span class="lineno"> 1177</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> &gt; 0);</div>
<div class="line"><span class="lineno"> 1178</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> &gt; 0);</div>
<div class="line"><span class="lineno"> 1179</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(closest-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> != <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>);</div>
<div class="line"><span class="lineno"> 1180</span>}</div>
<div class="ttc" id="aSDL__pixels_8h_html_a97d088d4072b630501f1b2b99a216a25"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#a97d088d4072b630501f1b2b99a216a25">SDL_Colorspace</a></div><div class="ttdeci">SDL_Colorspace</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1012</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_a97d088d4072b630501f1b2b99a216a25a6a413b7c90de3a92f524c5075b66000d"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#a97d088d4072b630501f1b2b99a216a25a6a413b7c90de3a92f524c5075b66000d">SDL_COLORSPACE_UNKNOWN</a></div><div class="ttdeci">@ SDL_COLORSPACE_UNKNOWN</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1013</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a4e80bbbaae07dc97ddfd3fcaf865120c"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a4e80bbbaae07dc97ddfd3fcaf865120c">SDL_fabsf</a></div><div class="ttdeci">SDL_DECLSPEC float SDLCALL SDL_fabsf(float x)</div><div class="ttdef"><b>Definition</b> SDL_stdlib.c:208</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a995406d407faf4cfa1ca9dd904672ab6"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a995406d407faf4cfa1ca9dd904672ab6">SDL_zerop</a></div><div class="ttdeci">#define SDL_zerop(x)</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:2626</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_aa20b552293de849b3c1c7576cb158e9e"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#aa20b552293de849b3c1c7576cb158e9e">SDL_copyp</a></div><div class="ttdeci">#define SDL_copyp(dst, src)</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:2511</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_add440eff171ea5f55cb00c4a9ab8672d"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a></div><div class="ttdeci">uint32_t Uint32</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:461</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_af9b135154fa003723f5bed94d2a77340"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#af9b135154fa003723f5bed94d2a77340">SDL_abs</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_abs(int x)</div><div class="ttdef"><b>Definition</b> SDL_stdlib.c:508</div></div>
<div class="ttc" id="astructSDL__Camera_html_a060be6f6bf611c9c34fc40b86a9648c6"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a060be6f6bf611c9c34fc40b86a9648c6">SDL_Camera::num_specs</a></div><div class="ttdeci">int num_specs</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:109</div></div>
<div class="ttc" id="astructSDL__Camera_html_a16c481fddf6faae81e7a6d1a6be883cf"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">SDL_Camera::all_specs</a></div><div class="ttdeci">SDL_CameraSpec * all_specs</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:106</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">SDL_Camera::all_specs</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">SDL_CameraSpec::colorspace</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">SDL_CameraSpec::format</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">SDL_CameraSpec::framerate_denominator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">SDL_CameraSpec::framerate_numerator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">SDL_CameraSpec::height</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a060be6f6bf611c9c34fc40b86a9648c6">SDL_Camera::num_specs</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#af9b135154fa003723f5bed94d2a77340">SDL_abs()</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#a97d088d4072b630501f1b2b99a216a25a6a413b7c90de3a92f524c5075b66000d">SDL_COLORSPACE_UNKNOWN</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aa20b552293de849b3c1c7576cb158e9e">SDL_copyp</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a4e80bbbaae07dc97ddfd3fcaf865120c">SDL_fabsf()</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a995406d407faf4cfa1ca9dd904672ab6">SDL_zerop</a>, and <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">SDL_CameraSpec::width</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a772c13b82642ecd50db4f34abe014c50_cgraph.svg" width="607" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a772c13b82642ecd50db4f34abe014c50_icgraph.svg" width="360" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab7a71f9714b725dee33350131a9d91f0" name="ab7a71f9714b725dee33350131a9d91f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7a71f9714b725dee33350131a9d91f0">&#9670;&#160;</a></span>ClosePhysicalCamera()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> ClosePhysicalCamera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  233</span>{</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">if</span> (!device) {</div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  236</span>    }</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>    <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">shutdown</a>, 1);</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span><span class="comment">// !!! FIXME: the close_cond stuff from audio might help the race condition here.</span></div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>    <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a18b95b347a1ac5c4666a1fd457ddc110">thread</a> != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">  243</span>        <a class="code hl_function" href="../../dd/d1d/SDL__thread_8h.html#adad621658a614eefe3668f649379a198">SDL_WaitThread</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a18b95b347a1ac5c4666a1fd457ddc110">thread</a>, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  244</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a18b95b347a1ac5c4666a1fd457ddc110">thread</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  245</span>    }</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="comment">// release frames that are queued up somewhere...</span></div>
<div class="line"><span class="lineno">  248</span>    <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">needs_conversion</a> &amp;&amp; !device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a>) {</div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="../../d2/d22/structSurfaceList.html">SurfaceList</a> *i = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ab4ab074c3efe08c4074bf01e220d03d9">filled_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>; i != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i = i-&gt;next) {</div>
<div class="line"><span class="lineno">  250</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">ReleaseFrame</a>(device, i-&gt;surface);</div>
<div class="line"><span class="lineno">  251</span>        }</div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">for</span> (<a class="code hl_struct" href="../../d2/d22/structSurfaceList.html">SurfaceList</a> *i = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ad344894416d3d441d2d4c75f1b9ac56e">app_held_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>; i != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i = i-&gt;next) {</div>
<div class="line"><span class="lineno">  253</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">ReleaseFrame</a>(device, i-&gt;surface);</div>
<div class="line"><span class="lineno">  254</span>        }</div>
<div class="line"><span class="lineno">  255</span>    }</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.CloseDevice(device);</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>    <a class="code hl_function" href="../../d6/d40/SDL__properties_8h.html#aee9791a937bea3bb2dd0222948fb89ed">SDL_DestroyProperties</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a2a9c10d990c0c990686fc3b00e14c71f">props</a>);</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>);</div>
<div class="line"><span class="lineno">  262</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  263</span>    <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">conversion_surface</a>);</div>
<div class="line"><span class="lineno">  264</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">conversion_surface</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>); i++) {</div>
<div class="line"><span class="lineno">  267</span>        <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>[i].<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">surface</a>);</div>
<div class="line"><span class="lineno">  268</span>    }</div>
<div class="line"><span class="lineno">  269</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1edc08d14c13f587b33d9e482035e3af">SDL_zeroa</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#aacfd94c2175c847029c9c1967e903299">SDL_aligned_free</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">zombie_pixels</a>);</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">permission</a> = 0;</div>
<div class="line"><span class="lineno">  274</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">zombie_pixels</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  275</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ab4ab074c3efe08c4074bf01e220d03d9">filled_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  276</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">empty_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  277</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ad344894416d3d441d2d4c75f1b9ac56e">app_held_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ab59c4c95ea75eba72e9f84941c94c94e">base_timestamp</a> = 0;</div>
<div class="line"><span class="lineno">  280</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ac788d60c674cb6bc40e51eac5b17cd47">adjust_timestamp</a> = 0;</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3fc86d3302059f5e44d3932b12e6e05a">spec</a>);</div>
<div class="line"><span class="lineno">  283</span>}</div>
<div class="ttc" id="aSDL__atomic_8h_html_a5204fd0a33cb2419dd416665372a5192"><div class="ttname"><a href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_SetAtomicInt(SDL_AtomicInt *a, int v)</div><div class="ttdef"><b>Definition</b> SDL_atomic.c:216</div></div>
<div class="ttc" id="aSDL__properties_8h_html_aee9791a937bea3bb2dd0222948fb89ed"><div class="ttname"><a href="../../d6/d40/SDL__properties_8h.html#aee9791a937bea3bb2dd0222948fb89ed">SDL_DestroyProperties</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_DestroyProperties(SDL_PropertiesID props)</div><div class="ttdef"><b>Definition</b> SDL_properties.c:812</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a16b9e31a9558e1cbc9e417b0f35a7b8a"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a></div><div class="ttdeci">#define SDL_zero(x)</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:2607</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a1edc08d14c13f587b33d9e482035e3af"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a1edc08d14c13f587b33d9e482035e3af">SDL_zeroa</a></div><div class="ttdeci">#define SDL_zeroa(x)</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:2645</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a56cfbf2e664506e5f4bb2e05997be8ae"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a></div><div class="ttdeci">#define SDL_arraysize(array)</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:225</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_aacfd94c2175c847029c9c1967e903299"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#aacfd94c2175c847029c9c1967e903299">SDL_aligned_free</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_aligned_free(void *mem)</div><div class="ttdef"><b>Definition</b> SDL_stdlib.c:566</div></div>
<div class="ttc" id="aSDL__surface_8h_html_a0151b0009da31c75b0ba8e87a718fc27"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_DestroySurface(SDL_Surface *surface)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:2994</div></div>
<div class="ttc" id="aSDL__thread_8h_html_adad621658a614eefe3668f649379a198"><div class="ttname"><a href="../../dd/d1d/SDL__thread_8h.html#adad621658a614eefe3668f649379a198">SDL_WaitThread</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_WaitThread(SDL_Thread *thread, int *status)</div><div class="ttdef"><b>Definition</b> SDL_thread.c:457</div></div>
<div class="ttc" id="astructSDL__Camera_html_a18b95b347a1ac5c4666a1fd457ddc110"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a18b95b347a1ac5c4666a1fd457ddc110">SDL_Camera::thread</a></div><div class="ttdeci">SDL_Thread * thread</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:158</div></div>
<div class="ttc" id="astructSDL__Camera_html_a2a9c10d990c0c990686fc3b00e14c71f"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a2a9c10d990c0c990686fc3b00e14c71f">SDL_Camera::props</a></div><div class="ttdeci">SDL_PropertiesID props</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:161</div></div>
<div class="ttc" id="astructSDL__Camera_html_a3582c805a9fb285a54d29bb64d8816de"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">SDL_Camera::acquire_surface</a></div><div class="ttdeci">SDL_Surface * acquire_surface</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:133</div></div>
<div class="ttc" id="astructSDL__Camera_html_a3fc86d3302059f5e44d3932b12e6e05a"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a3fc86d3302059f5e44d3932b12e6e05a">SDL_Camera::spec</a></div><div class="ttdeci">SDL_CameraSpec spec</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:115</div></div>
<div class="ttc" id="astructSDL__Camera_html_a4b5186308abbcd32ef842eacbb53948d"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">SDL_Camera::zombie_pixels</a></div><div class="ttdeci">Uint8 * zombie_pixels</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:145</div></div>
<div class="ttc" id="astructSDL__Camera_html_a61672b1024b531a8f9810219d9f97dfa"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">SDL_Camera::empty_output_surfaces</a></div><div class="ttdeci">SurfaceList empty_output_surfaces</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:141</div></div>
<div class="ttc" id="astructSDL__Camera_html_a7555906df0319420ee92cae656c79151"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">SDL_Camera::shutdown</a></div><div class="ttdeci">SDL_AtomicInt shutdown</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:154</div></div>
<div class="ttc" id="astructSDL__Camera_html_a93aab3f260dca78b16f77f8dfe01f6d0"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">SDL_Camera::needs_conversion</a></div><div class="ttdeci">bool needs_conversion</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:151</div></div>
<div class="ttc" id="astructSDL__Camera_html_ab4ab074c3efe08c4074bf01e220d03d9"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#ab4ab074c3efe08c4074bf01e220d03d9">SDL_Camera::filled_output_surfaces</a></div><div class="ttdeci">SurfaceList filled_output_surfaces</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:140</div></div>
<div class="ttc" id="astructSDL__Camera_html_ab59c4c95ea75eba72e9f84941c94c94e"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#ab59c4c95ea75eba72e9f84941c94c94e">SDL_Camera::base_timestamp</a></div><div class="ttdeci">Uint64 base_timestamp</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:127</div></div>
<div class="ttc" id="astructSDL__Camera_html_ac788d60c674cb6bc40e51eac5b17cd47"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#ac788d60c674cb6bc40e51eac5b17cd47">SDL_Camera::adjust_timestamp</a></div><div class="ttdeci">Uint64 adjust_timestamp</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:130</div></div>
<div class="ttc" id="astructSDL__Camera_html_acb663807beeb648ddab2656932e0f9d8"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">SDL_Camera::conversion_surface</a></div><div class="ttdeci">SDL_Surface * conversion_surface</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:136</div></div>
<div class="ttc" id="astructSDL__Camera_html_ad344894416d3d441d2d4c75f1b9ac56e"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#ad344894416d3d441d2d4c75f1b9ac56e">SDL_Camera::app_held_output_surfaces</a></div><div class="ttdeci">SurfaceList app_held_output_surfaces</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:142</div></div>
<div class="ttc" id="astructSDL__Camera_html_add254fb7f2c7953c84a8c06e6e284bad"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">SDL_Camera::output_surfaces</a></div><div class="ttdeci">SurfaceList output_surfaces[8]</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:139</div></div>
<div class="ttc" id="astructSDL__Camera_html_adf719dfb055dd2cf7b367f4bcd4c367b"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">SDL_Camera::ReleaseFrame</a></div><div class="ttdeci">void(* ReleaseFrame)(SDL_Camera *device, SDL_Surface *frame)</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:103</div></div>
<div class="ttc" id="astructSDL__Camera_html_ae772791fb0fde41cc5359e02dddcdca1"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">SDL_Camera::needs_scaling</a></div><div class="ttdeci">int needs_scaling</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:148</div></div>
<div class="ttc" id="astructSDL__Camera_html_af71d497b41b45dc8ce218a71a1ee039f"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">SDL_Camera::permission</a></div><div class="ttdeci">int permission</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:164</div></div>
<div class="ttc" id="astructSurfaceList_html"><div class="ttname"><a href="../../d2/d22/structSurfaceList.html">SurfaceList</a></div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:79</div></div>
<div class="ttc" id="astructSurfaceList_html_a3399043d9a2dab7319c7ebf68bf50fcb"><div class="ttname"><a href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">SurfaceList::surface</a></div><div class="ttdeci">SDL_Surface * surface</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:80</div></div>
<div class="ttc" id="astructSurfaceList_html_a6ca802bb5c40207464b504eb0f2c14e1"><div class="ttname"><a href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">SurfaceList::next</a></div><div class="ttdeci">struct SurfaceList * next</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:82</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">SDL_Camera::acquire_surface</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ac788d60c674cb6bc40e51eac5b17cd47">SDL_Camera::adjust_timestamp</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ad344894416d3d441d2d4c75f1b9ac56e">SDL_Camera::app_held_output_surfaces</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ab59c4c95ea75eba72e9f84941c94c94e">SDL_Camera::base_timestamp</a>, <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">SDL_Camera::conversion_surface</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">SDL_Camera::empty_output_surfaces</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ab4ab074c3efe08c4074bf01e220d03d9">SDL_Camera::filled_output_surfaces</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">SDL_Camera::needs_conversion</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">SDL_Camera::needs_scaling</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">SurfaceList::next</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">SDL_Camera::output_surfaces</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">SDL_Camera::permission</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a2a9c10d990c0c990686fc3b00e14c71f">SDL_Camera::props</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">SDL_Camera::ReleaseFrame</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aacfd94c2175c847029c9c1967e903299">SDL_aligned_free()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a>, <a class="el" href="../../d6/d40/SDL__properties_8h.html#aee9791a937bea3bb2dd0222948fb89ed">SDL_DestroyProperties()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface()</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt()</a>, <a class="el" href="../../dd/d1d/SDL__thread_8h.html#adad621658a614eefe3668f649379a198">SDL_WaitThread()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a1edc08d14c13f587b33d9e482035e3af">SDL_zeroa</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">SDL_Camera::shutdown</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a3fc86d3302059f5e44d3932b12e6e05a">SDL_Camera::spec</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">SurfaceList::surface</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a18b95b347a1ac5c4666a1fd457ddc110">SDL_Camera::thread</a>, and <a class="el" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">SDL_Camera::zombie_pixels</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a0ba8fe72217bbe6c8ed6c7c9183cefc3">DestroyCameraHashItem()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a6893c9a68a380345101b729a654a9243">SDL_CloseCamera()</a>, and <a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ab7a71f9714b725dee33350131a9d91f0_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ab7a71f9714b725dee33350131a9d91f0_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae2b75a7cd66311b1fe7430be88f5141b" name="ae2b75a7cd66311b1fe7430be88f5141b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2b75a7cd66311b1fe7430be88f5141b">&#9670;&#160;</a></span>CompleteCameraEntryPoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> CompleteCameraEntryPoints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1391</span>{</div>
<div class="line"><span class="lineno"> 1392</span>    <span class="comment">// this doesn&#39;t currently fill in stub implementations, it just asserts the backend filled them all in.</span></div>
<div class="line"><span class="lineno"> 1393</span><span class="preprocessor">    #define FILL_STUB(x) SDL_assert(camera_driver.impl.x != NULL)</span></div>
<div class="line"><span class="lineno"> 1394</span>    <a class="code hl_define" href="#a7339d64a37ad3662269f5067a9f22bba">FILL_STUB</a>(DetectDevices);</div>
<div class="line"><span class="lineno"> 1395</span>    <a class="code hl_define" href="#a7339d64a37ad3662269f5067a9f22bba">FILL_STUB</a>(OpenDevice);</div>
<div class="line"><span class="lineno"> 1396</span>    <a class="code hl_define" href="#a7339d64a37ad3662269f5067a9f22bba">FILL_STUB</a>(CloseDevice);</div>
<div class="line"><span class="lineno"> 1397</span>    <a class="code hl_define" href="#a7339d64a37ad3662269f5067a9f22bba">FILL_STUB</a>(AcquireFrame);</div>
<div class="line"><span class="lineno"> 1398</span>    <a class="code hl_define" href="#a7339d64a37ad3662269f5067a9f22bba">FILL_STUB</a>(ReleaseFrame);</div>
<div class="line"><span class="lineno"> 1399</span>    <a class="code hl_define" href="#a7339d64a37ad3662269f5067a9f22bba">FILL_STUB</a>(FreeDeviceHandle);</div>
<div class="line"><span class="lineno"> 1400</span>    <a class="code hl_define" href="#a7339d64a37ad3662269f5067a9f22bba">FILL_STUB</a>(Deinitialize);</div>
<div class="line"><span class="lineno"> 1401</span><span class="preprocessor">    #undef FILL_STUB</span></div>
<div class="line"><span class="lineno"> 1402</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_a7339d64a37ad3662269f5067a9f22bba"><div class="ttname"><a href="#a7339d64a37ad3662269f5067a9f22bba">FILL_STUB</a></div><div class="ttdeci">#define FILL_STUB(x)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a7339d64a37ad3662269f5067a9f22bba">FILL_STUB</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a1c95febe36642a6bee0885f1078c6cc2">SDL_CameraInit()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ae2b75a7cd66311b1fe7430be88f5141b_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a0ba8fe72217bbe6c8ed6c7c9183cefc3" name="a0ba8fe72217bbe6c8ed6c7c9183cefc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ba8fe72217bbe6c8ed6c7c9183cefc3">&#9670;&#160;</a></span>DestroyCameraHashItem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> DestroyCameraHashItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>userdata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1437</span>{</div>
<div class="line"><span class="lineno"> 1438</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = (<a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *) <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno"> 1439</span>    <a class="code hl_function" href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1440</span>    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.FreeDeviceHandle(device);</div>
<div class="line"><span class="lineno"> 1441</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a11a334bbe738d23d18903cbc7d8d2d3c">SDL_DestroyMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno"> 1442</span>    <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>);</div>
<div class="line"><span class="lineno"> 1443</span>    <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">name</a>);</div>
<div class="line"><span class="lineno"> 1444</span>    <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device);</div>
<div class="line"><span class="lineno"> 1445</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_ab7a71f9714b725dee33350131a9d91f0"><div class="ttname"><a href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera</a></div><div class="ttdeci">static void ClosePhysicalCamera(SDL_Camera *device)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:232</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_a11a334bbe738d23d18903cbc7d8d2d3c"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#a11a334bbe738d23d18903cbc7d8d2d3c">SDL_DestroyMutex</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_DestroyMutex(SDL_Mutex *mutex)</div><div class="ttdef"><b>Definition</b> SDL_sysmutex.c:54</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a0c50a6dd59993af5802a5418e5dbc27a"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_free(void *mem)</div><div class="ttdef"><b>Definition</b> SDL_malloc.c:6499</div></div>
<div class="ttc" id="aegl_8h_html_ac65f229362223146c236e514997528c0"><div class="ttname"><a href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a></div><div class="ttdeci">EGLConfig EGLint EGLint * value</div><div class="ttdef"><b>Definition</b> egl.h:114</div></div>
<div class="ttc" id="astructSDL__Camera_html_a0833e4b0e326517306a9d6df37dfac4c"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">SDL_Camera::lock</a></div><div class="ttdeci">SDL_Mutex * lock</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:89</div></div>
<div class="ttc" id="astructSDL__Camera_html_a26f6afde6c2e8e123e301ce97529e979"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">SDL_Camera::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:92</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">SDL_Camera::all_specs</a>, <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">SDL_Camera::lock</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">SDL_Camera::name</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a11a334bbe738d23d18903cbc7d8d2d3c">SDL_DestroyMutex()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a>, and <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a1c95febe36642a6bee0885f1078c6cc2">SDL_CameraInit()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a0ba8fe72217bbe6c8ed6c7c9183cefc3_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a0ba8fe72217bbe6c8ed6c7c9183cefc3_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a98d8522c86d27a0645a31cded1ba11b2" name="a98d8522c86d27a0645a31cded1ba11b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98d8522c86d27a0645a31cded1ba11b2">&#9670;&#160;</a></span>FindOnePhysicalCameraByCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> FindOnePhysicalCameraByCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>userdata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../da/d27/structSDL__HashTable.html">SDL_HashTable</a> *</td>          <td class="paramname"><span class="paramname"><em>table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  619</span>{</div>
<div class="line"><span class="lineno">  620</span>    <a class="code hl_struct" href="../../dd/db1/structFindOnePhysicalCameraByCallbackData.html">FindOnePhysicalCameraByCallbackData</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a> = (<a class="code hl_struct" href="../../dd/db1/structFindOnePhysicalCameraByCallbackData.html">FindOnePhysicalCameraByCallbackData</a> *) userdata;</div>
<div class="line"><span class="lineno">  621</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = (<a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *) <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;callback(device, <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;userdata)) {</div>
<div class="line"><span class="lineno">  623</span>        <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;device = device;</div>
<div class="line"><span class="lineno">  624</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// stop iterating.</span></div>
<div class="line"><span class="lineno">  625</span>    }</div>
<div class="line"><span class="lineno">  626</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// keep iterating.</span></div>
<div class="line"><span class="lineno">  627</span>}</div>
<div class="ttc" id="aeglext_8h_html_ad3adec4e83a401f92227746238ff0fd0"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a></div><div class="ttdeci">EGLStreamKHR EGLint EGLint EGLint const void * data</div><div class="ttdef"><b>Definition</b> eglext.h:1324</div></div>
<div class="ttc" id="astructFindOnePhysicalCameraByCallbackData_html"><div class="ttname"><a href="../../dd/db1/structFindOnePhysicalCameraByCallbackData.html">FindOnePhysicalCameraByCallbackData</a></div><div class="ttdef"><b>Definition</b> SDL_camera.c:612</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>.</p>

<p class="reference">Referenced by <a class="el" href="#adba84bc0b57d02c7e2aea48bd2202e72">SDL_FindPhysicalCameraByCallback()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a98d8522c86d27a0645a31cded1ba11b2_icgraph.svg" width="484" height="54"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a75a5a75873e3130285b34e63e636cbca" name="a75a5a75873e3130285b34e63e636cbca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75a5a75873e3130285b34e63e636cbca">&#9670;&#160;</a></span>GetFrameBufLen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t GetFrameBufLen </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *</td>          <td class="paramname"><span class="paramname"><em>spec</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  132</span>{</div>
<div class="line"><span class="lineno">  133</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> w = (<span class="keyword">const</span> size_t) spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>;</div>
<div class="line"><span class="lineno">  134</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> h = (<span class="keyword">const</span> size_t) spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>;</div>
<div class="line"><span class="lineno">  135</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> wxh = w * h;</div>
<div class="line"><span class="lineno">  136</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a> fmt = spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>;</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">switch</span> (fmt) {</div>
<div class="line"><span class="lineno">  139</span>        <span class="comment">// Some YUV formats have a larger Y plane than their U or V planes.</span></div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a706edeff2993aaabae0e8a85dd456d23">SDL_PIXELFORMAT_YV12</a>:</div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a9d5d930c6560d21d02be1d3738160e08">SDL_PIXELFORMAT_IYUV</a>:</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a8fa8e4c226ea2918366e68b239921099">SDL_PIXELFORMAT_NV12</a>:</div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a97f2d6c51817862e1927e462960e7052">SDL_PIXELFORMAT_NV21</a>:</div>
<div class="line"><span class="lineno">  144</span>            <span class="keywordflow">return</span> wxh + (wxh / 2);</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  147</span>    }</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="comment">// this is correct for most things.</span></div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">return</span> wxh * <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#ae4e913515ee84941a70859efedb2023e">SDL_BYTESPERPIXEL</a>(fmt);</div>
<div class="line"><span class="lineno">  151</span>}</div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256a706edeff2993aaabae0e8a85dd456d23"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a706edeff2993aaabae0e8a85dd456d23">SDL_PIXELFORMAT_YV12</a></div><div class="ttdeci">@ SDL_PIXELFORMAT_YV12</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:660</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256a8fa8e4c226ea2918366e68b239921099"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a8fa8e4c226ea2918366e68b239921099">SDL_PIXELFORMAT_NV12</a></div><div class="ttdeci">@ SDL_PIXELFORMAT_NV12</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:670</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256a97f2d6c51817862e1927e462960e7052"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a97f2d6c51817862e1927e462960e7052">SDL_PIXELFORMAT_NV21</a></div><div class="ttdeci">@ SDL_PIXELFORMAT_NV21</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:672</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256a9d5d930c6560d21d02be1d3738160e08"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a9d5d930c6560d21d02be1d3738160e08">SDL_PIXELFORMAT_IYUV</a></div><div class="ttdeci">@ SDL_PIXELFORMAT_IYUV</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:662</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_ae4e913515ee84941a70859efedb2023e"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#ae4e913515ee84941a70859efedb2023e">SDL_BYTESPERPIXEL</a></div><div class="ttdeci">#define SDL_BYTESPERPIXEL(format)</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:361</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">SDL_CameraSpec::format</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">SDL_CameraSpec::height</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#ae4e913515ee84941a70859efedb2023e">SDL_BYTESPERPIXEL</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a9d5d930c6560d21d02be1d3738160e08">SDL_PIXELFORMAT_IYUV</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a8fa8e4c226ea2918366e68b239921099">SDL_PIXELFORMAT_NV12</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a97f2d6c51817862e1927e462960e7052">SDL_PIXELFORMAT_NV21</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a706edeff2993aaabae0e8a85dd456d23">SDL_PIXELFORMAT_YV12</a>, and <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">SDL_CameraSpec::width</a>.</p>

<p class="reference">Referenced by <a class="el" href="#aef669a153850af3731049f6f7ec07b38">ZombieAcquireFrame()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a75a5a75873e3130285b34e63e636cbca_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3c8dfa75ac9e8c49d95996ac1f1d5a3f" name="a3c8dfa75ac9e8c49d95996ac1f1d5a3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c8dfa75ac9e8c49d95996ac1f1d5a3f">&#9670;&#160;</a></span>GetOneCamera()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> GetOneCamera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>userdata</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../da/d27/structSDL__HashTable.html">SDL_HashTable</a> *</td>          <td class="paramname"><span class="paramname"><em>table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>key</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>value</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  710</span>{</div>
<div class="line"><span class="lineno">  711</span>    <a class="code hl_struct" href="../../d9/daf/structGetOneCameraData.html">GetOneCameraData</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a> = (<a class="code hl_struct" href="../../d9/daf/structGetOneCameraData.html">GetOneCameraData</a> *) userdata;</div>
<div class="line"><span class="lineno">  712</span>    <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;result[<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;devs_seen++] = (<a class="code hl_typedef" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a>) (uintptr_t) key;</div>
<div class="line"><span class="lineno">  713</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// keep iterating.</span></div>
<div class="line"><span class="lineno">  714</span>}</div>
<div class="ttc" id="aSDL__camera_8h_html_a626c2c2889444c769280993edf2d2b20"><div class="ttname"><a href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a></div><div class="ttdeci">Uint32 SDL_CameraID</div><div class="ttdef"><b>Definition</b> SDL_camera.h:95</div></div>
<div class="ttc" id="astructGetOneCameraData_html"><div class="ttname"><a href="../../d9/daf/structGetOneCameraData.html">GetOneCameraData</a></div><div class="ttdef"><b>Definition</b> SDL_camera.c:704</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d44/SDL__camera_8h.html#a2a8924a9526ff35d0826df2c15f14dbd">SDL_GetCameras()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a3c8dfa75ac9e8c49d95996ac1f1d5a3f_icgraph.svg" width="300" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad3a8df31f50f2edcc09c5d7acbae12f0" name="ad3a8df31f50f2edcc09c5d7acbae12f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3a8df31f50f2edcc09c5d7acbae12f0">&#9670;&#160;</a></span>ObtainPhysicalCamera()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> * ObtainPhysicalCamera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a></td>          <td class="paramname"><span class="paramname"><em>devid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  312</span>{</div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="#aa02987079d7a46900e4580991dee903f">SDL_GetCurrentCameraDriver</a>()) {</div>
<div class="line"><span class="lineno">  314</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Camera subsystem is not initialized&quot;</span>);</div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  316</span>    }</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  319</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  320</span>    <a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#ad64620a4e65d48b4099d13758581ea66">SDL_FindInHashTable</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash, (<span class="keyword">const</span> <span class="keywordtype">void</span> *) (uintptr_t) devid, (<span class="keyword">const</span> <span class="keywordtype">void</span> **) &amp;device);</div>
<div class="line"><span class="lineno">  321</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">if</span> (!device) {</div>
<div class="line"><span class="lineno">  323</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid camera device instance ID&quot;</span>);</div>
<div class="line"><span class="lineno">  324</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  325</span>        <a class="code hl_function" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a>(device);</div>
<div class="line"><span class="lineno">  326</span>    }</div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordflow">return</span> device;</div>
<div class="line"><span class="lineno">  328</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_a8bf505e8dab4dacd60f34b93c15fc783"><div class="ttname"><a href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a></div><div class="ttdeci">static void ObtainPhysicalCameraObj(SDL_Camera *device) SDL_NO_THREAD_SAFETY_ANALYSIS</div><div class="ttdef"><b>Definition</b> SDL_camera.c:303</div></div>
<div class="ttc" id="aSDL__camera_8c_html_aa02987079d7a46900e4580991dee903f"><div class="ttname"><a href="#aa02987079d7a46900e4580991dee903f">SDL_GetCurrentCameraDriver</a></div><div class="ttdeci">const char * SDL_GetCurrentCameraDriver(void)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:79</div></div>
<div class="ttc" id="aSDL__error_8h_html_ac23553088fda91b9d123eed70e977c43"><div class="ttname"><a href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_SetError(SDL_PRINTF_FORMAT_STRING const char *fmt,...) SDL_PRINTF_VARARG_FUNC(1)</div><div class="ttdef"><b>Definition</b> SDL_error.c:29</div></div>
<div class="ttc" id="aSDL__hashtable_8c_html_ad64620a4e65d48b4099d13758581ea66"><div class="ttname"><a href="../../dc/d3a/SDL__hashtable_8c.html#ad64620a4e65d48b4099d13758581ea66">SDL_FindInHashTable</a></div><div class="ttdeci">bool SDL_FindInHashTable(const SDL_HashTable *table, const void *key, const void **value)</div><div class="ttdef"><b>Definition</b> SDL_hashtable.c:339</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_a9df5e38e016f0a5478d6e2fb21dc0448"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_UnlockRWLock(SDL_RWLock *rwlock)</div><div class="ttdef"><b>Definition</b> SDL_sysrwlock.c:176</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_adddfa1bdb6f88cc71d704ba942aa9c53"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_LockRWLockForReading(SDL_RWLock *rwlock)</div><div class="ttdef"><b>Definition</b> SDL_sysrwlock.c:95</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj()</a>, <a class="el" href="../../dc/d3a/SDL__hashtable_8c.html#ad64620a4e65d48b4099d13758581ea66">SDL_FindInHashTable()</a>, <a class="el" href="#aa02987079d7a46900e4580991dee903f">SDL_GetCurrentCameraDriver()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, and <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d44/SDL__camera_8h.html#a6e7cc378aa9e7e210cb6c2f8d1271845">SDL_GetCameraName()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a043b54c9ca3bcf5b9205f021b814b766">SDL_GetCameraPosition()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a8625e37c2fd02e28d5a7523ae437507e">SDL_GetCameraSupportedFormats()</a>, and <a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ad3a8df31f50f2edcc09c5d7acbae12f0_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ad3a8df31f50f2edcc09c5d7acbae12f0_icgraph.svg" width="443" height="190"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a8bf505e8dab4dacd60f34b93c15fc783" name="a8bf505e8dab4dacd60f34b93c15fc783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bf505e8dab4dacd60f34b93c15fc783">&#9670;&#160;</a></span>ObtainPhysicalCameraObj()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> ObtainPhysicalCameraObj </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  304</span>{</div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordflow">if</span> (device) {</div>
<div class="line"><span class="lineno">  306</span>        <a class="code hl_function" href="#aaa382a79d36a025d9368556d49202d48">RefPhysicalCamera</a>(device);</div>
<div class="line"><span class="lineno">  307</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#ab0bbb94c39385a83a6a1322c1a3b9d64">SDL_LockMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno">  308</span>    }</div>
<div class="line"><span class="lineno">  309</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_aaa382a79d36a025d9368556d49202d48"><div class="ttname"><a href="#aaa382a79d36a025d9368556d49202d48">RefPhysicalCamera</a></div><div class="ttdeci">void RefPhysicalCamera(SDL_Camera *device)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:298</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_ab0bbb94c39385a83a6a1322c1a3b9d64"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#ab0bbb94c39385a83a6a1322c1a3b9d64">SDL_LockMutex</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_LockMutex(SDL_Mutex *mutex)</div><div class="ttdef"><b>Definition</b> SDL_sysmutex.c:64</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#aaa382a79d36a025d9368556d49202d48">RefPhysicalCamera()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#ab0bbb94c39385a83a6a1322c1a3b9d64">SDL_LockMutex()</a>, and <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a617b4906fd737636813dd68d54f72952">SDL_NO_THREAD_SAFETY_ANALYSIS</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a317cda8cda81116a2b29068e39cf1373">SDL_AcquireCameraFrame()</a>, <a class="el" href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected()</a>, <a class="el" href="#aaf114744da523edc8f10da088e887bc8">SDL_CameraPermissionOutcome()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a129d56b60801431e293d9ffc47cddbc1">SDL_GetCameraFormat()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a37478493dd84f59c3f3c30f24813ec4e">SDL_GetCameraID()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#aa3a7c5183c719169d7d05ffea375d188">SDL_GetCameraPermissionState()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a6640fe037210fd6644643efefa1846c9">SDL_GetCameraProperties()</a>, and <a class="el" href="../../da/d44/SDL__camera_8h.html#acc95afd8367126f6047b5eabe9240971">SDL_ReleaseCameraFrame()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a8bf505e8dab4dacd60f34b93c15fc783_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a8bf505e8dab4dacd60f34b93c15fc783_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aaa382a79d36a025d9368556d49202d48" name="aaa382a79d36a025d9368556d49202d48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa382a79d36a025d9368556d49202d48">&#9670;&#160;</a></span>RefPhysicalCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> RefPhysicalCamera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  299</span>{</div>
<div class="line"><span class="lineno">  300</span>    <a class="code hl_define" href="../../d2/dd2/SDL__atomic_8h.html#a9c3b04a6ce4b6907bfb6e2ea4649ff64">SDL_AtomicIncRef</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a8d54e7d6c1284829d1b964753282f3b6">refcount</a>);</div>
<div class="line"><span class="lineno">  301</span>}</div>
<div class="ttc" id="aSDL__atomic_8h_html_a9c3b04a6ce4b6907bfb6e2ea4649ff64"><div class="ttname"><a href="../../d2/dd2/SDL__atomic_8h.html#a9c3b04a6ce4b6907bfb6e2ea4649ff64">SDL_AtomicIncRef</a></div><div class="ttdeci">#define SDL_AtomicIncRef(a)</div><div class="ttdef"><b>Definition</b> SDL_atomic.h:491</div></div>
<div class="ttc" id="astructSDL__Camera_html_a8d54e7d6c1284829d1b964753282f3b6"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a8d54e7d6c1284829d1b964753282f3b6">SDL_Camera::refcount</a></div><div class="ttdeci">SDL_AtomicInt refcount</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:98</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#a8d54e7d6c1284829d1b964753282f3b6">SDL_Camera::refcount</a>, and <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a9c3b04a6ce4b6907bfb6e2ea4649ff64">SDL_AtomicIncRef</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj()</a>, and <a class="el" href="#afb7c241c357906c05f5b76ca6e5f8efc">SDL_AddCamera()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_aaa382a79d36a025d9368556d49202d48_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ab22ee16a96e2cb69d7d87f64f8c234e1" name="ab22ee16a96e2cb69d7d87f64f8c234e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab22ee16a96e2cb69d7d87f64f8c234e1">&#9670;&#160;</a></span>ReleaseCamera()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> ReleaseCamera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  331</span>{</div>
<div class="line"><span class="lineno">  332</span>    <span class="keywordflow">if</span> (device) {</div>
<div class="line"><span class="lineno">  333</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno">  334</span>        <a class="code hl_function" href="#ac5d9e3c62323ba5c687a9ec0c635cd90">UnrefPhysicalCamera</a>(device);</div>
<div class="line"><span class="lineno">  335</span>    }</div>
<div class="line"><span class="lineno">  336</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_ac5d9e3c62323ba5c687a9ec0c635cd90"><div class="ttname"><a href="#ac5d9e3c62323ba5c687a9ec0c635cd90">UnrefPhysicalCamera</a></div><div class="ttdeci">void UnrefPhysicalCamera(SDL_Camera *device)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:286</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_a3214eb540f1b1ecc2155c7a9dd371131"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_UnlockMutex(SDL_Mutex *mutex)</div><div class="ttdef"><b>Definition</b> SDL_sysmutex.c:108</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a617b4906fd737636813dd68d54f72952">SDL_NO_THREAD_SAFETY_ANALYSIS</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex()</a>, and <a class="el" href="#ac5d9e3c62323ba5c687a9ec0c635cd90">UnrefPhysicalCamera()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d44/SDL__camera_8h.html#a317cda8cda81116a2b29068e39cf1373">SDL_AcquireCameraFrame()</a>, <a class="el" href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected()</a>, <a class="el" href="#aaf114744da523edc8f10da088e887bc8">SDL_CameraPermissionOutcome()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a129d56b60801431e293d9ffc47cddbc1">SDL_GetCameraFormat()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a37478493dd84f59c3f3c30f24813ec4e">SDL_GetCameraID()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a6e7cc378aa9e7e210cb6c2f8d1271845">SDL_GetCameraName()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#aa3a7c5183c719169d7d05ffea375d188">SDL_GetCameraPermissionState()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a043b54c9ca3bcf5b9205f021b814b766">SDL_GetCameraPosition()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a6640fe037210fd6644643efefa1846c9">SDL_GetCameraProperties()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a8625e37c2fd02e28d5a7523ae437507e">SDL_GetCameraSupportedFormats()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera()</a>, and <a class="el" href="../../da/d44/SDL__camera_8h.html#acc95afd8367126f6047b5eabe9240971">SDL_ReleaseCameraFrame()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ab22ee16a96e2cb69d7d87f64f8c234e1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ab22ee16a96e2cb69d7d87f64f8c234e1_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="adb656bd4baa9b1811c13486a98370d16" name="adb656bd4baa9b1811c13486a98370d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb656bd4baa9b1811c13486a98370d16">&#9670;&#160;</a></span>SDL_AcquireCameraFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> * SDL_AcquireCameraFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>camera</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a> *</td>          <td class="paramname"><span class="paramname"><em>timestampNS</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquire a frame.</p>
<p>The frame is a memory pointer to the image data, whose size and format are given by the spec requested when opening the device.</p>
<p>This is a non blocking API. If there is a frame available, a non-NULL surface is returned, and timestampNS will be filled with a non-zero value.</p>
<p>Note that an error case can also return NULL, but a NULL by itself is normal and just signifies that a new frame is not yet available. Note that even if a camera device fails outright (a USB camera is unplugged while in use, etc), SDL will send an event separately to notify the app, but continue to provide blank frames at ongoing intervals until <a class="el" href="../../da/d44/SDL__camera_8h.html#a6893c9a68a380345101b729a654a9243">SDL_CloseCamera()</a> is called, so real failure here is almost always an out of memory condition.</p>
<p>After use, the frame should be released with <a class="el" href="../../da/d44/SDL__camera_8h.html#acc95afd8367126f6047b5eabe9240971">SDL_ReleaseCameraFrame()</a>. If you don't do this, the system may stop providing more video!</p>
<p>Do not call <a class="el" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface()</a> on the returned surface! It must be given back to the camera subsystem with SDL_ReleaseCameraFrame!</p>
<p>If the system is waiting for the user to approve access to the camera, as some platforms require, this will return NULL (no frames available); you should either wait for an SDL_EVENT_CAMERA_DEVICE_APPROVED (or SDL_EVENT_CAMERA_DEVICE_DENIED) event, or poll <a class="el" href="../../da/d44/SDL__camera_8h.html#aa3a7c5183c719169d7d05ffea375d188">SDL_GetCameraPermissionState()</a> occasionally until it returns non-zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">camera</td><td>opened camera device. </td></tr>
    <tr><td class="paramname">timestampNS</td><td>a pointer filled in with the frame's timestamp, or 0 on error. Can be NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new frame of video on success, NULL if none is currently available.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#acc95afd8367126f6047b5eabe9240971">SDL_ReleaseCameraFrame</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1253</span>{</div>
<div class="line"><span class="lineno"> 1254</span>    <span class="keywordflow">if</span> (timestampNS) {</div>
<div class="line"><span class="lineno"> 1255</span>        *timestampNS = 0;</div>
<div class="line"><span class="lineno"> 1256</span>    }</div>
<div class="line"><span class="lineno"> 1257</span> </div>
<div class="line"><span class="lineno"> 1258</span>    <span class="keywordflow">if</span> (!camera) {</div>
<div class="line"><span class="lineno"> 1259</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;camera&quot;</span>);</div>
<div class="line"><span class="lineno"> 1260</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1261</span>    }</div>
<div class="line"><span class="lineno"> 1262</span> </div>
<div class="line"><span class="lineno"> 1263</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = camera;  <span class="comment">// currently there&#39;s no separation between physical and logical device.</span></div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>    <a class="code hl_function" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a>(device);</div>
<div class="line"><span class="lineno"> 1266</span> </div>
<div class="line"><span class="lineno"> 1267</span>    <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">permission</a> &lt;= 0) {</div>
<div class="line"><span class="lineno"> 1268</span>        <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1269</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Camera permission has not been granted&quot;</span>);</div>
<div class="line"><span class="lineno"> 1270</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1271</span>    }</div>
<div class="line"><span class="lineno"> 1272</span> </div>
<div class="line"><span class="lineno"> 1273</span>    <a class="code hl_struct" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *result = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>    <span class="comment">// frames are in this list from newest to oldest, so find the end of the list...</span></div>
<div class="line"><span class="lineno"> 1276</span>    <a class="code hl_struct" href="../../d2/d22/structSurfaceList.html">SurfaceList</a> *slistprev = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ab4ab074c3efe08c4074bf01e220d03d9">filled_output_surfaces</a>;</div>
<div class="line"><span class="lineno"> 1277</span>    <a class="code hl_struct" href="../../d2/d22/structSurfaceList.html">SurfaceList</a> *slist = slistprev;</div>
<div class="line"><span class="lineno"> 1278</span>    <span class="keywordflow">while</span> (slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>) {</div>
<div class="line"><span class="lineno"> 1279</span>        slistprev = slist;</div>
<div class="line"><span class="lineno"> 1280</span>        slist = slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>;</div>
<div class="line"><span class="lineno"> 1281</span>    }</div>
<div class="line"><span class="lineno"> 1282</span> </div>
<div class="line"><span class="lineno"> 1283</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> list_is_empty = (slist == slistprev);</div>
<div class="line"><span class="lineno"> 1284</span>    <span class="keywordflow">if</span> (!list_is_empty) { <span class="comment">// report the oldest frame.</span></div>
<div class="line"><span class="lineno"> 1285</span>        <span class="keywordflow">if</span> (timestampNS) {</div>
<div class="line"><span class="lineno"> 1286</span>            *timestampNS = slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a2ebefbccec079cb55ce19da43be91ba5">timestampNS</a>;</div>
<div class="line"><span class="lineno"> 1287</span>        }</div>
<div class="line"><span class="lineno"> 1288</span>        result = slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">surface</a>;</div>
<div class="line"><span class="lineno"> 1289</span>        slistprev-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>;  <span class="comment">// remove from filled list.</span></div>
<div class="line"><span class="lineno"> 1290</span>        slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ad344894416d3d441d2d4c75f1b9ac56e">app_held_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>;  <span class="comment">// add to app_held list.</span></div>
<div class="line"><span class="lineno"> 1291</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ad344894416d3d441d2d4c75f1b9ac56e">app_held_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = slist;</div>
<div class="line"><span class="lineno"> 1292</span>    }</div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span>    <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1295</span> </div>
<div class="line"><span class="lineno"> 1296</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1297</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_ab22ee16a96e2cb69d7d87f64f8c234e1"><div class="ttname"><a href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a></div><div class="ttdeci">static void ReleaseCamera(SDL_Camera *device) SDL_NO_THREAD_SAFETY_ANALYSIS</div><div class="ttdef"><b>Definition</b> SDL_camera.c:330</div></div>
<div class="ttc" id="aSDL__error_8h_html_a5875c9c083a88408e11abeaa8391dfa5"><div class="ttname"><a href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a></div><div class="ttdeci">#define SDL_InvalidParamError(param)</div><div class="ttdef"><b>Definition</b> SDL_error.h:216</div></div>
<div class="ttc" id="astructSDL__Surface_html"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a></div><div class="ttdef"><b>Definition</b> SDL_surface.h:135</div></div>
<div class="ttc" id="astructSurfaceList_html_a2ebefbccec079cb55ce19da43be91ba5"><div class="ttname"><a href="../../d2/d22/structSurfaceList.html#a2ebefbccec079cb55ce19da43be91ba5">SurfaceList::timestampNS</a></div><div class="ttdeci">Uint64 timestampNS</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:81</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#ad344894416d3d441d2d4c75f1b9ac56e">SDL_Camera::app_held_output_surfaces</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ab4ab074c3efe08c4074bf01e220d03d9">SDL_Camera::filled_output_surfaces</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">SurfaceList::next</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">SDL_Camera::permission</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">SurfaceList::surface</a>, and <a class="el" href="../../d2/d22/structSurfaceList.html#a2ebefbccec079cb55ce19da43be91ba5">SurfaceList::timestampNS</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_adb656bd4baa9b1811c13486a98370d16_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afb7c241c357906c05f5b76ca6e5f8efc" name="afb7c241c357906c05f5b76ca6e5f8efc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb7c241c357906c05f5b76ca6e5f8efc">&#9670;&#160;</a></span>SDL_AddCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> * SDL_AddCamera </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccd">SDL_CameraPosition</a></td>          <td class="paramname"><span class="paramname"><em>position</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num_specs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *</td>          <td class="paramname"><span class="paramname"><em>specs</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  408</span>{</div>
<div class="line"><span class="lineno">  409</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#aa72c2236be3f1b815a31199583ccf019">name</a> != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  410</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(num_specs &gt;= 0);</div>
<div class="line"><span class="lineno">  411</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>((specs != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) == (num_specs &gt; 0));</div>
<div class="line"><span class="lineno">  412</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a48fc485a2a8834589d1f1afeec65193c">handle</a> != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  415</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> shutting_down = <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt</a>(&amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.shutting_down);</div>
<div class="line"><span class="lineno">  416</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  417</span>    <span class="keywordflow">if</span> (shutting_down) {</div>
<div class="line"><span class="lineno">  418</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;  <span class="comment">// we&#39;re shutting down, don&#39;t add any devices that are hotplugged at the last possible moment.</span></div>
<div class="line"><span class="lineno">  419</span>    }</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = (<a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *)<a class="code hl_function" href="../../d4/d23/SDL__malloc_8c.html#a7bfedc95facf166f557059a2d98714d0">SDL_calloc</a>(1, <span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a>));</div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">if</span> (!device) {</div>
<div class="line"><span class="lineno">  423</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  424</span>    }</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">name</a> = <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a54dadf35397cf31919b20264f141ca19">SDL_strdup</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#aa72c2236be3f1b815a31199583ccf019">name</a>);</div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">name</a>) {</div>
<div class="line"><span class="lineno">  428</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device);</div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  430</span>    }</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf0a3dc6ad4ce9840590b34db0b4332b">position</a> = position;</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a> = <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#ab9add3b671cc8e5fc22589f347865f5c">SDL_CreateMutex</a>();</div>
<div class="line"><span class="lineno">  435</span>    <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>) {</div>
<div class="line"><span class="lineno">  436</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">name</a>);</div>
<div class="line"><span class="lineno">  437</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device);</div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  439</span>    }</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a> = (<a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *)<a class="code hl_function" href="../../d4/d23/SDL__malloc_8c.html#a7bfedc95facf166f557059a2d98714d0">SDL_calloc</a>(num_specs + 1, <span class="keyword">sizeof</span> (*specs));</div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>) {</div>
<div class="line"><span class="lineno">  443</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a11a334bbe738d23d18903cbc7d8d2d3c">SDL_DestroyMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno">  444</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">name</a>);</div>
<div class="line"><span class="lineno">  445</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device);</div>
<div class="line"><span class="lineno">  446</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  447</span>    }</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordflow">if</span> (num_specs &gt; 0) {</div>
<div class="line"><span class="lineno">  450</span>        <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#ac9bf6bdf657be6d6c13eb1faf2ef9f4b">SDL_memcpy</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>, specs, sizeof (*specs) * num_specs);</div>
<div class="line"><span class="lineno">  451</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a237c3bbd0d3f38b9e13f0559d92da3a3">SDL_qsort</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>, num_specs, sizeof (*specs), <a class="code hl_function" href="#a29bdfd58ef6ef51972870147a1efa12c">CameraSpecCmp</a>);</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>        <span class="comment">// weed out duplicates, just in case.</span></div>
<div class="line"><span class="lineno">  454</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_specs; i++) {</div>
<div class="line"><span class="lineno">  455</span>            <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *a = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>[i];</div>
<div class="line"><span class="lineno">  456</span>            <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *b = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>[i + 1];</div>
<div class="line"><span class="lineno">  457</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#aea33e0632420534e46ffb787f0474211">SDL_memcmp</a>(a, b, <span class="keyword">sizeof</span> (*a)) == 0) {</div>
<div class="line"><span class="lineno">  458</span>                <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#ae61da93dbcdbf3a597d1cf3f84550c2d">SDL_memmove</a>(a, b, <span class="keyword">sizeof</span> (*specs) * (num_specs - i));</div>
<div class="line"><span class="lineno">  459</span>                i--;</div>
<div class="line"><span class="lineno">  460</span>                num_specs--;</div>
<div class="line"><span class="lineno">  461</span>            }</div>
<div class="line"><span class="lineno">  462</span>        }</div>
<div class="line"><span class="lineno">  463</span>    }</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span><span class="preprocessor">    #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  466</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *posstr = <span class="stringliteral">&quot;unknown position&quot;</span>;</div>
<div class="line"><span class="lineno">  467</span>    <span class="keywordflow">if</span> (position == <a class="code hl_enumvalue" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccdaf538dcef9d001e2292f07f9ac86f986b">SDL_CAMERA_POSITION_FRONT_FACING</a>) {</div>
<div class="line"><span class="lineno">  468</span>        posstr = <span class="stringliteral">&quot;front-facing&quot;</span>;</div>
<div class="line"><span class="lineno">  469</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (position == <a class="code hl_enumvalue" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccda04e3e33914a45dc82eb377e2090de6cf">SDL_CAMERA_POSITION_BACK_FACING</a>) {</div>
<div class="line"><span class="lineno">  470</span>        posstr = <span class="stringliteral">&quot;back-facing&quot;</span>;</div>
<div class="line"><span class="lineno">  471</span>    }</div>
<div class="line"><span class="lineno">  472</span>    <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: Adding device &#39;%s&#39; (%s) with %d spec%s%s&quot;</span>, <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#aa72c2236be3f1b815a31199583ccf019">name</a>, posstr, num_specs, (num_specs == 1) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;s&quot;</span>, (num_specs == 0) ? <span class="stringliteral">&quot;&quot;</span> : <span class="stringliteral">&quot;:&quot;</span>);</div>
<div class="line"><span class="lineno">  473</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num_specs; i++) {</div>
<div class="line"><span class="lineno">  474</span>        <span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *spec = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>[i];</div>
<div class="line"><span class="lineno">  475</span>        <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA:   - fmt=%s, w=%d, h=%d, numerator=%d, denominator=%d&quot;</span>, <a class="code hl_function" href="../../d9/d3f/SDL__pixels_8h.html#a7ad3a8a851db0fce6b38af3b943ede8a">SDL_GetPixelFormatName</a>(spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>), spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>, spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>, spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a>, spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a>);</div>
<div class="line"><span class="lineno">  476</span>    }</div>
<div class="line"><span class="lineno">  477</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a060be6f6bf611c9c34fc40b86a9648c6">num_specs</a> = num_specs;</div>
<div class="line"><span class="lineno">  480</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#aa233631d9cbacfd520f15252c339e81f">handle</a> = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a48fc485a2a8834589d1f1afeec65193c">handle</a>;</div>
<div class="line"><span class="lineno">  481</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">instance_id</a> = <a class="code hl_function" href="../../d5/d57/SDL__utils_8c.html#a9d025832784be50b6aa11f07bc900651">SDL_GetNextObjectID</a>();</div>
<div class="line"><span class="lineno">  482</span>    <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">shutdown</a>, 0);</div>
<div class="line"><span class="lineno">  483</span>    <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a42519c47aba9e1c9fa25dd350033b301">zombie</a>, 0);</div>
<div class="line"><span class="lineno">  484</span>    <a class="code hl_function" href="#aaa382a79d36a025d9368556d49202d48">RefPhysicalCamera</a>(device);</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#ad5bf8423f17162a9480600f884c66416">SDL_InsertIntoHashTable</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash, (<span class="keyword">const</span> <span class="keywordtype">void</span> *) (uintptr_t) device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">instance_id</a>, device, <span class="keyword">false</span>)) {</div>
<div class="line"><span class="lineno">  488</span>        <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt</a>(&amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_count, 1);</div>
<div class="line"><span class="lineno">  489</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  490</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a11a334bbe738d23d18903cbc7d8d2d3c">SDL_DestroyMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno">  491</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>);</div>
<div class="line"><span class="lineno">  492</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">name</a>);</div>
<div class="line"><span class="lineno">  493</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(device);</div>
<div class="line"><span class="lineno">  494</span>        device = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  495</span>    }</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>    <span class="comment">// Add a device add event to the pending list, to be pushed when the event queue is pumped (away from any of our internal threads).</span></div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">if</span> (device) {</div>
<div class="line"><span class="lineno">  499</span>        <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *p = (<a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *) <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc</a>(<span class="keyword">sizeof</span> (<a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a>));</div>
<div class="line"><span class="lineno">  500</span>        <span class="keywordflow">if</span> (p) {  <span class="comment">// if allocation fails, you won&#39;t get an event, but we can&#39;t help that.</span></div>
<div class="line"><span class="lineno">  501</span>            p-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#ae87dcacd6ca94cabca923f09c6975d79">type</a> = <a class="code hl_enumvalue" href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaabec5f2ee068c4fb3f5e8789afcfaf4ff">SDL_EVENT_CAMERA_DEVICE_ADDED</a>;</div>
<div class="line"><span class="lineno">  502</span>            p-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#afd6c99cdd7eea066b29eec45e471c4a0">devid</a> = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">instance_id</a>;</div>
<div class="line"><span class="lineno">  503</span>            p-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  504</span>            <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  505</span>            <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail-&gt;next == <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  506</span>            <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail-&gt;next = p;</div>
<div class="line"><span class="lineno">  507</span>            <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail = p;</div>
<div class="line"><span class="lineno">  508</span>        }</div>
<div class="line"><span class="lineno">  509</span>    }</div>
<div class="line"><span class="lineno">  510</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>    <span class="keywordflow">return</span> device;</div>
<div class="line"><span class="lineno">  513</span>}</div>
<div class="ttc" id="aSDL__atomic_8h_html_a443848bbff4a83c87535d069fced7f7b"><div class="ttname"><a href="../../d2/dd2/SDL__atomic_8h.html#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_GetAtomicInt(SDL_AtomicInt *a)</div><div class="ttdef"><b>Definition</b> SDL_atomic.c:301</div></div>
<div class="ttc" id="aSDL__atomic_8h_html_ae0e5b1e62b6699faee6c32dea88c8677"><div class="ttname"><a href="../../d2/dd2/SDL__atomic_8h.html#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_AddAtomicInt(SDL_AtomicInt *a, int v)</div><div class="ttdef"><b>Definition</b> SDL_atomic.c:277</div></div>
<div class="ttc" id="aSDL__camera_8c_html_a29bdfd58ef6ef51972870147a1efa12c"><div class="ttname"><a href="#a29bdfd58ef6ef51972870147a1efa12c">CameraSpecCmp</a></div><div class="ttdeci">static int SDLCALL CameraSpecCmp(const void *vpa, const void *vpb)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:346</div></div>
<div class="ttc" id="aSDL__camera_8h_html_a0bf08ee981166ec991bf2eb6a3bb1ccda04e3e33914a45dc82eb377e2090de6cf"><div class="ttname"><a href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccda04e3e33914a45dc82eb377e2090de6cf">SDL_CAMERA_POSITION_BACK_FACING</a></div><div class="ttdeci">@ SDL_CAMERA_POSITION_BACK_FACING</div><div class="ttdef"><b>Definition</b> SDL_camera.h:136</div></div>
<div class="ttc" id="aSDL__camera_8h_html_a0bf08ee981166ec991bf2eb6a3bb1ccdaf538dcef9d001e2292f07f9ac86f986b"><div class="ttname"><a href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccdaf538dcef9d001e2292f07f9ac86f986b">SDL_CAMERA_POSITION_FRONT_FACING</a></div><div class="ttdeci">@ SDL_CAMERA_POSITION_FRONT_FACING</div><div class="ttdef"><b>Definition</b> SDL_camera.h:135</div></div>
<div class="ttc" id="aSDL__events_8h_html_a3b589e89be6b35c02e0dd34a55f3fccaabec5f2ee068c4fb3f5e8789afcfaf4ff"><div class="ttname"><a href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaabec5f2ee068c4fb3f5e8789afcfaf4ff">SDL_EVENT_CAMERA_DEVICE_ADDED</a></div><div class="ttdeci">@ SDL_EVENT_CAMERA_DEVICE_ADDED</div><div class="ttdef"><b>Definition</b> SDL_events.h:249</div></div>
<div class="ttc" id="aSDL__hashtable_8c_html_ad5bf8423f17162a9480600f884c66416"><div class="ttname"><a href="../../dc/d3a/SDL__hashtable_8c.html#ad5bf8423f17162a9480600f884c66416">SDL_InsertIntoHashTable</a></div><div class="ttdeci">bool SDL_InsertIntoHashTable(SDL_HashTable *table, const void *key, const void *value, bool replace)</div><div class="ttdef"><b>Definition</b> SDL_hashtable.c:293</div></div>
<div class="ttc" id="aSDL__malloc_8c_html_a7bfedc95facf166f557059a2d98714d0"><div class="ttname"><a href="../../d4/d23/SDL__malloc_8c.html#a7bfedc95facf166f557059a2d98714d0">SDL_calloc</a></div><div class="ttdeci">void * SDL_calloc(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition</b> SDL_malloc.c:6462</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_a54259ed0a608baddf6be2570bc54d975"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_LockRWLockForWriting(SDL_RWLock *rwlock)</div><div class="ttdef"><b>Definition</b> SDL_sysrwlock.c:108</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_ab9add3b671cc8e5fc22589f347865f5c"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#ab9add3b671cc8e5fc22589f347865f5c">SDL_CreateMutex</a></div><div class="ttdeci">SDL_DECLSPEC SDL_Mutex *SDLCALL SDL_CreateMutex(void)</div><div class="ttdef"><b>Definition</b> SDL_sysmutex.c:34</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_a7ad3a8a851db0fce6b38af3b943ede8a"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#a7ad3a8a851db0fce6b38af3b943ede8a">SDL_GetPixelFormatName</a></div><div class="ttdeci">SDL_DECLSPEC const char *SDLCALL SDL_GetPixelFormatName(SDL_PixelFormat format)</div><div class="ttdef"><b>Definition</b> SDL_pixels.c:91</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a237c3bbd0d3f38b9e13f0559d92da3a3"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a237c3bbd0d3f38b9e13f0559d92da3a3">SDL_qsort</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_qsort(void *base, size_t nmemb, size_t size, SDL_CompareCallback compare)</div><div class="ttdef"><b>Definition</b> SDL_qsort.c:533</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a40fd54152a5f65f91e9249c458c99afa"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc</a></div><div class="ttdeci">SDL_DECLSPEC SDL_MALLOC void *SDLCALL SDL_malloc(size_t size)</div><div class="ttdef"><b>Definition</b> SDL_malloc.c:6444</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a54dadf35397cf31919b20264f141ca19"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a54dadf35397cf31919b20264f141ca19">SDL_strdup</a></div><div class="ttdeci">SDL_DECLSPEC SDL_MALLOC char *SDLCALL SDL_strdup(const char *str)</div><div class="ttdef"><b>Definition</b> SDL_string.c:1008</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_ac9bf6bdf657be6d6c13eb1faf2ef9f4b"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#ac9bf6bdf657be6d6c13eb1faf2ef9f4b">SDL_memcpy</a></div><div class="ttdeci">#define SDL_memcpy</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:2483</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_ae61da93dbcdbf3a597d1cf3f84550c2d"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#ae61da93dbcdbf3a597d1cf3f84550c2d">SDL_memmove</a></div><div class="ttdeci">#define SDL_memmove</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:2539</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_aea33e0632420534e46ffb787f0474211"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#aea33e0632420534e46ffb787f0474211">SDL_memcmp</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_memcmp(const void *s1, const void *s2, size_t len)</div><div class="ttdef"><b>Definition</b> SDL_string.c:695</div></div>
<div class="ttc" id="aSDL__utils_8c_html_a9d025832784be50b6aa11f07bc900651"><div class="ttname"><a href="../../d5/d57/SDL__utils_8c.html#a9d025832784be50b6aa11f07bc900651">SDL_GetNextObjectID</a></div><div class="ttdeci">Uint32 SDL_GetNextObjectID(void)</div><div class="ttdef"><b>Definition</b> SDL_utils.c:127</div></div>
<div class="ttc" id="aeglext_8h_html_a48fc485a2a8834589d1f1afeec65193c"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a48fc485a2a8834589d1f1afeec65193c">handle</a></div><div class="ttdeci">EGLImageKHR EGLint EGLint * handle</div><div class="ttdef"><b>Definition</b> eglext.h:1082</div></div>
<div class="ttc" id="aeglext_8h_html_aa72c2236be3f1b815a31199583ccf019"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#aa72c2236be3f1b815a31199583ccf019">name</a></div><div class="ttdeci">EGLint name</div><div class="ttdef"><b>Definition</b> eglext.h:120</div></div>
<div class="ttc" id="astructSDL__Camera_html_a42519c47aba9e1c9fa25dd350033b301"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a42519c47aba9e1c9fa25dd350033b301">SDL_Camera::zombie</a></div><div class="ttdeci">SDL_AtomicInt zombie</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:155</div></div>
<div class="ttc" id="astructSDL__Camera_html_aa233631d9cbacfd520f15252c339e81f"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#aa233631d9cbacfd520f15252c339e81f">SDL_Camera::handle</a></div><div class="ttdeci">void * handle</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:121</div></div>
<div class="ttc" id="astructSDL__Camera_html_adf0a3dc6ad4ce9840590b34db0b4332b"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#adf0a3dc6ad4ce9840590b34db0b4332b">SDL_Camera::position</a></div><div class="ttdeci">SDL_CameraPosition position</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:95</div></div>
<div class="ttc" id="astructSDL__Camera_html_afd57032e6bed5ee968483c14ef19afca"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">SDL_Camera::instance_id</a></div><div class="ttdeci">SDL_CameraID instance_id</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:118</div></div>
<div class="ttc" id="astructSDL__PendingCameraEvent_html"><div class="ttname"><a href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a></div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:185</div></div>
<div class="ttc" id="astructSDL__PendingCameraEvent_html_a48b41e47a28e7cb5cdb86b8c1c7a39f5"><div class="ttname"><a href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">SDL_PendingCameraEvent::next</a></div><div class="ttdeci">struct SDL_PendingCameraEvent * next</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:188</div></div>
<div class="ttc" id="astructSDL__PendingCameraEvent_html_ae87dcacd6ca94cabca923f09c6975d79"><div class="ttname"><a href="../../dc/de1/structSDL__PendingCameraEvent.html#ae87dcacd6ca94cabca923f09c6975d79">SDL_PendingCameraEvent::type</a></div><div class="ttdeci">Uint32 type</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:186</div></div>
<div class="ttc" id="astructSDL__PendingCameraEvent_html_afd6c99cdd7eea066b29eec45e471c4a0"><div class="ttname"><a href="../../dc/de1/structSDL__PendingCameraEvent.html#afd6c99cdd7eea066b29eec45e471c4a0">SDL_PendingCameraEvent::devid</a></div><div class="ttdeci">SDL_CameraID devid</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:187</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">SDL_Camera::all_specs</a>, <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="#a29bdfd58ef6ef51972870147a1efa12c">CameraSpecCmp()</a>, <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#afd6c99cdd7eea066b29eec45e471c4a0">SDL_PendingCameraEvent::devid</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">SDL_CameraSpec::format</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">SDL_CameraSpec::framerate_denominator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">SDL_CameraSpec::framerate_numerator</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#aa233631d9cbacfd520f15252c339e81f">SDL_Camera::handle</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">SDL_CameraSpec::height</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">SDL_Camera::instance_id</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">SDL_Camera::lock</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">SDL_Camera::name</a>, <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">SDL_PendingCameraEvent::next</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a060be6f6bf611c9c34fc40b86a9648c6">SDL_Camera::num_specs</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#adf0a3dc6ad4ce9840590b34db0b4332b">SDL_Camera::position</a>, <a class="el" href="#aaa382a79d36a025d9368556d49202d48">RefPhysicalCamera()</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt()</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="../../d4/d23/SDL__malloc_8c.html#a7bfedc95facf166f557059a2d98714d0">SDL_calloc()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccda04e3e33914a45dc82eb377e2090de6cf">SDL_CAMERA_POSITION_BACK_FACING</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccdaf538dcef9d001e2292f07f9ac86f986b">SDL_CAMERA_POSITION_FRONT_FACING</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#ab9add3b671cc8e5fc22589f347865f5c">SDL_CreateMutex()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a11a334bbe738d23d18903cbc7d8d2d3c">SDL_DestroyMutex()</a>, <a class="el" href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaabec5f2ee068c4fb3f5e8789afcfaf4ff">SDL_EVENT_CAMERA_DEVICE_ADDED</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt()</a>, <a class="el" href="../../d5/d57/SDL__utils_8c.html#a9d025832784be50b6aa11f07bc900651">SDL_GetNextObjectID()</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#a7ad3a8a851db0fce6b38af3b943ede8a">SDL_GetPixelFormatName()</a>, <a class="el" href="../../dc/d3a/SDL__hashtable_8c.html#ad5bf8423f17162a9480600f884c66416">SDL_InsertIntoHashTable()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting()</a>, <a class="el" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aea33e0632420534e46ffb787f0474211">SDL_memcmp()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ac9bf6bdf657be6d6c13eb1faf2ef9f4b">SDL_memcpy</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ae61da93dbcdbf3a597d1cf3f84550c2d">SDL_memmove</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a237c3bbd0d3f38b9e13f0559d92da3a3">SDL_qsort()</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a54dadf35397cf31919b20264f141ca19">SDL_strdup()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">SDL_Camera::shutdown</a>, <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#ae87dcacd6ca94cabca923f09c6975d79">SDL_PendingCameraEvent::type</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">SDL_CameraSpec::width</a>, and <a class="el" href="../../d0/d7e/structSDL__Camera.html#a42519c47aba9e1c9fa25dd350033b301">SDL_Camera::zombie</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_afb7c241c357906c05f5b76ca6e5f8efc_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a844dfbbc4f846916eebc9298da054200" name="a844dfbbc4f846916eebc9298da054200"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a844dfbbc4f846916eebc9298da054200">&#9670;&#160;</a></span>SDL_AddCameraFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> SDL_AddCameraFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d28/structCameraFormatAddData.html">CameraFormatAddData</a> *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a></td>          <td class="paramname"><span class="paramname"><em>format</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d3f/SDL__pixels_8h.html#a97d088d4072b630501f1b2b99a216a25">SDL_Colorspace</a></td>          <td class="paramname"><span class="paramname"><em>colorspace</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>w</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>h</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>framerate_numerator</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>framerate_denominator</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   91</span>{</div>
<div class="line"><span class="lineno">   92</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a> != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;allocated_specs &lt;= <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;num_specs) {</div>
<div class="line"><span class="lineno">   94</span>        <span class="keyword">const</span> <span class="keywordtype">int</span> newalloc = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;allocated_specs ? (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;allocated_specs * 2) : 16;</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordtype">void</span> *ptr = <a class="code hl_function" href="../../d4/d23/SDL__malloc_8c.html#a85652d5d4d7f0010772e5276fd9f3516">SDL_realloc</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;specs, sizeof (<a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a>) * newalloc);</div>
<div class="line"><span class="lineno">   96</span>        <span class="keywordflow">if</span> (!ptr) {</div>
<div class="line"><span class="lineno">   97</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   98</span>        }</div>
<div class="line"><span class="lineno">   99</span>        <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;specs = (<a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *) ptr;</div>
<div class="line"><span class="lineno">  100</span>        <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;allocated_specs = newalloc;</div>
<div class="line"><span class="lineno">  101</span>    }</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *spec = &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;specs[<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;num_specs];</div>
<div class="line"><span class="lineno">  104</span>    spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>;</div>
<div class="line"><span class="lineno">  105</span>    spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a> = colorspace;</div>
<div class="line"><span class="lineno">  106</span>    spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> = w;</div>
<div class="line"><span class="lineno">  107</span>    spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> = h;</div>
<div class="line"><span class="lineno">  108</span>    spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> = framerate_numerator;</div>
<div class="line"><span class="lineno">  109</span>    spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a> = framerate_denominator;</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>-&gt;num_specs++;</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  114</span>}</div>
<div class="ttc" id="aSDL__malloc_8c_html_a85652d5d4d7f0010772e5276fd9f3516"><div class="ttname"><a href="../../d4/d23/SDL__malloc_8c.html#a85652d5d4d7f0010772e5276fd9f3516">SDL_realloc</a></div><div class="ttdeci">void * SDL_realloc(void *ptr, size_t size)</div><div class="ttdef"><b>Definition</b> SDL_malloc.c:6481</div></div>
<div class="ttc" id="aeglext_8h_html_a0ea17d37604a80dac378e5f917a091f1"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a></div><div class="ttdeci">EGLint format</div><div class="ttdef"><b>Definition</b> eglext.h:810</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">SDL_CameraSpec::colorspace</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">SDL_CameraSpec::format</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">SDL_CameraSpec::framerate_denominator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">SDL_CameraSpec::framerate_numerator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">SDL_CameraSpec::height</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="../../d4/d23/SDL__malloc_8c.html#a85652d5d4d7f0010772e5276fd9f3516">SDL_realloc()</a>, and <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">SDL_CameraSpec::width</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a844dfbbc4f846916eebc9298da054200_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="acd24207c14e2b43ccdf28e8107f3f2a5" name="acd24207c14e2b43ccdf28e8107f3f2a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd24207c14e2b43ccdf28e8107f3f2a5">&#9670;&#160;</a></span>SDL_CameraDisconnected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> SDL_CameraDisconnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  517</span>{</div>
<div class="line"><span class="lineno">  518</span>    <span class="keywordflow">if</span> (!device) {</div>
<div class="line"><span class="lineno">  519</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  520</span>    }</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span><span class="preprocessor">    #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  523</span>    <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: DISCONNECTED! dev[%p]&quot;</span>, device);</div>
<div class="line"><span class="lineno">  524</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>    <span class="comment">// Save off removal info in a list so we can send events for each, next</span></div>
<div class="line"><span class="lineno">  527</span>    <span class="comment">//  time the event queue pumps, in case something tries to close a device</span></div>
<div class="line"><span class="lineno">  528</span>    <span class="comment">//  from an event filter, as this would risk deadlocks and other disasters</span></div>
<div class="line"><span class="lineno">  529</span>    <span class="comment">//  if done from the device thread.</span></div>
<div class="line"><span class="lineno">  530</span>    <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> pending;</div>
<div class="line"><span class="lineno">  531</span>    pending.<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *pending_tail = &amp;pending;</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    <a class="code hl_function" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a>(device);</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>    <span class="keyword">const</span> <span class="keywordtype">bool</span> first_disconnect = <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a83e9f26beb944b8b01dc7d027634826d">SDL_CompareAndSwapAtomicInt</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a42519c47aba9e1c9fa25dd350033b301">zombie</a>, 0, 1);</div>
<div class="line"><span class="lineno">  537</span>    <span class="keywordflow">if</span> (first_disconnect) {   <span class="comment">// if already disconnected this device, don&#39;t do it twice.</span></div>
<div class="line"><span class="lineno">  538</span>        <span class="comment">// Swap in &quot;Zombie&quot; versions of the usual platform interfaces, so the device will keep</span></div>
<div class="line"><span class="lineno">  539</span>        <span class="comment">// making progress until the app closes it. Otherwise, streams might continue to</span></div>
<div class="line"><span class="lineno">  540</span>        <span class="comment">// accumulate waste data that never drains, apps that depend on audio callbacks to</span></div>
<div class="line"><span class="lineno">  541</span>        <span class="comment">// progress will freeze, etc.</span></div>
<div class="line"><span class="lineno">  542</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a8b66a1e1e52fff272129ef3306d2c1ca">WaitDevice</a> = <a class="code hl_function" href="../../d6/d9b/SDL__audio_8c.html#a9a3581dc04016d1299bfe70bfbd3955a">ZombieWaitDevice</a>;</div>
<div class="line"><span class="lineno">  543</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae7f1792d7559b5b53defbe0414b519d9">AcquireFrame</a> = <a class="code hl_function" href="#aef669a153850af3731049f6f7ec07b38">ZombieAcquireFrame</a>;</div>
<div class="line"><span class="lineno">  544</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">ReleaseFrame</a> = <a class="code hl_function" href="#a991802312b4b2edaee34b6daaa80d1e9">ZombieReleaseFrame</a>;</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>        <span class="comment">// Zombie functions will just report the timestamp as SDL_GetTicksNS(), so we don&#39;t need to adjust anymore to get it to match.</span></div>
<div class="line"><span class="lineno">  547</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ac788d60c674cb6bc40e51eac5b17cd47">adjust_timestamp</a> = 0;</div>
<div class="line"><span class="lineno">  548</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ab59c4c95ea75eba72e9f84941c94c94e">base_timestamp</a> = 0;</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>        <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *p = (<a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *) <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc</a>(<span class="keyword">sizeof</span> (<a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a>));</div>
<div class="line"><span class="lineno">  551</span>        <span class="keywordflow">if</span> (p) {  <span class="comment">// if this failed, no event for you, but you have deeper problems anyhow.</span></div>
<div class="line"><span class="lineno">  552</span>            p-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#ae87dcacd6ca94cabca923f09c6975d79">type</a> = <a class="code hl_enumvalue" href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaa2992499c4473ed7741cc15929c3af89d">SDL_EVENT_CAMERA_DEVICE_REMOVED</a>;</div>
<div class="line"><span class="lineno">  553</span>            p-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#afd6c99cdd7eea066b29eec45e471c4a0">devid</a> = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">instance_id</a>;</div>
<div class="line"><span class="lineno">  554</span>            p-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  555</span>            pending_tail-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a> = p;</div>
<div class="line"><span class="lineno">  556</span>            pending_tail = p;</div>
<div class="line"><span class="lineno">  557</span>        }</div>
<div class="line"><span class="lineno">  558</span>    }</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>    <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">if</span> (first_disconnect) {</div>
<div class="line"><span class="lineno">  563</span>        <span class="keywordflow">if</span> (pending.<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a>) {  <span class="comment">// NULL if event is disabled or disaster struck.</span></div>
<div class="line"><span class="lineno">  564</span>            <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  565</span>            <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  566</span>            <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail-&gt;next == <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  567</span>            <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail-&gt;next = pending.<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a>;</div>
<div class="line"><span class="lineno">  568</span>            <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail = pending_tail;</div>
<div class="line"><span class="lineno">  569</span>            <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  570</span>        }</div>
<div class="line"><span class="lineno">  571</span>    }</div>
<div class="line"><span class="lineno">  572</span>}</div>
<div class="ttc" id="aSDL__atomic_8h_html_a83e9f26beb944b8b01dc7d027634826d"><div class="ttname"><a href="../../d2/dd2/SDL__atomic_8h.html#a83e9f26beb944b8b01dc7d027634826d">SDL_CompareAndSwapAtomicInt</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_CompareAndSwapAtomicInt(SDL_AtomicInt *a, int oldval, int newval)</div><div class="ttdef"><b>Definition</b> SDL_atomic.c:125</div></div>
<div class="ttc" id="aSDL__audio_8c_html_a9a3581dc04016d1299bfe70bfbd3955a"><div class="ttname"><a href="../../d6/d9b/SDL__audio_8c.html#a9a3581dc04016d1299bfe70bfbd3955a">ZombieWaitDevice</a></div><div class="ttdeci">static bool ZombieWaitDevice(SDL_AudioDevice *device)</div><div class="ttdef"><b>Definition</b> SDL_audio.c:305</div></div>
<div class="ttc" id="aSDL__camera_8c_html_a991802312b4b2edaee34b6daaa80d1e9"><div class="ttname"><a href="#a991802312b4b2edaee34b6daaa80d1e9">ZombieReleaseFrame</a></div><div class="ttdeci">static void ZombieReleaseFrame(SDL_Camera *device, SDL_Surface *frame)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:223</div></div>
<div class="ttc" id="aSDL__camera_8c_html_aef669a153850af3731049f6f7ec07b38"><div class="ttname"><a href="#aef669a153850af3731049f6f7ec07b38">ZombieAcquireFrame</a></div><div class="ttdeci">static SDL_CameraFrameResult ZombieAcquireFrame(SDL_Camera *device, SDL_Surface *frame, Uint64 *timestampNS)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:153</div></div>
<div class="ttc" id="aSDL__events_8h_html_a3b589e89be6b35c02e0dd34a55f3fccaa2992499c4473ed7741cc15929c3af89d"><div class="ttname"><a href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaa2992499c4473ed7741cc15929c3af89d">SDL_EVENT_CAMERA_DEVICE_REMOVED</a></div><div class="ttdeci">@ SDL_EVENT_CAMERA_DEVICE_REMOVED</div><div class="ttdef"><b>Definition</b> SDL_events.h:250</div></div>
<div class="ttc" id="astructSDL__Camera_html_ae7f1792d7559b5b53defbe0414b519d9"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#ae7f1792d7559b5b53defbe0414b519d9">SDL_Camera::AcquireFrame</a></div><div class="ttdeci">SDL_CameraFrameResult(* AcquireFrame)(SDL_Camera *device, SDL_Surface *frame, Uint64 *timestampNS)</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:102</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#ae7f1792d7559b5b53defbe0414b519d9">SDL_Camera::AcquireFrame</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ac788d60c674cb6bc40e51eac5b17cd47">SDL_Camera::adjust_timestamp</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ab59c4c95ea75eba72e9f84941c94c94e">SDL_Camera::base_timestamp</a>, <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#afd6c99cdd7eea066b29eec45e471c4a0">SDL_PendingCameraEvent::devid</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">SDL_Camera::instance_id</a>, <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">SDL_PendingCameraEvent::next</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj()</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">SDL_Camera::ReleaseFrame</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a83e9f26beb944b8b01dc7d027634826d">SDL_CompareAndSwapAtomicInt()</a>, <a class="el" href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaa2992499c4473ed7741cc15929c3af89d">SDL_EVENT_CAMERA_DEVICE_REMOVED</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting()</a>, <a class="el" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>, <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#ae87dcacd6ca94cabca923f09c6975d79">SDL_PendingCameraEvent::type</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a8b66a1e1e52fff272129ef3306d2c1ca">SDL_Camera::WaitDevice</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a42519c47aba9e1c9fa25dd350033b301">SDL_Camera::zombie</a>, <a class="el" href="#aef669a153850af3731049f6f7ec07b38">ZombieAcquireFrame()</a>, <a class="el" href="#a991802312b4b2edaee34b6daaa80d1e9">ZombieReleaseFrame()</a>, and <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a9a3581dc04016d1299bfe70bfbd3955a">ZombieWaitDevice()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a03e068ea12aee6918e95902871cb3523">CameraThread()</a>, and <a class="el" href="#aada59aeebd93ce01f07435a3741fc972">SDL_CameraThreadIterate()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_acd24207c14e2b43ccdf28e8107f3f2a5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_acd24207c14e2b43ccdf28e8107f3f2a5_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a1c95febe36642a6bee0885f1078c6cc2" name="a1c95febe36642a6bee0885f1078c6cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c95febe36642a6bee0885f1078c6cc2">&#9670;&#160;</a></span>SDL_CameraInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> SDL_CameraInit </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>driver_name</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1448</span>{</div>
<div class="line"><span class="lineno"> 1449</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#aa02987079d7a46900e4580991dee903f">SDL_GetCurrentCameraDriver</a>()) {</div>
<div class="line"><span class="lineno"> 1450</span>        <a class="code hl_function" href="#a6fca7b5907990a504def9694c2ab4dc6">SDL_QuitCamera</a>(); <span class="comment">// shutdown driver if already running.</span></div>
<div class="line"><span class="lineno"> 1451</span>    }</div>
<div class="line"><span class="lineno"> 1452</span> </div>
<div class="line"><span class="lineno"> 1453</span>    <a class="code hl_struct" href="../../db/ddc/structSDL__RWLock.html">SDL_RWLock</a> *device_hash_lock = <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a90958f670ac5638cd0e715270b74b704">SDL_CreateRWLock</a>();  <span class="comment">// create this early, so if it fails we don&#39;t have to tear down the whole camera subsystem.</span></div>
<div class="line"><span class="lineno"> 1454</span>    <span class="keywordflow">if</span> (!device_hash_lock) {</div>
<div class="line"><span class="lineno"> 1455</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1456</span>    }</div>
<div class="line"><span class="lineno"> 1457</span> </div>
<div class="line"><span class="lineno"> 1458</span>    <a class="code hl_struct" href="../../da/d27/structSDL__HashTable.html">SDL_HashTable</a> *device_hash = <a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#ab8246215b5dff283235612c4fbdf2a08">SDL_CreateHashTable</a>(0, <span class="keyword">false</span>, <a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#afff3711c113fa96e9c5e368bf2f20a18">SDL_HashID</a>, <a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#aed2edf49184dd8aab93afaaab402b201">SDL_KeyMatchID</a>, <a class="code hl_function" href="#a0ba8fe72217bbe6c8ed6c7c9183cefc3">DestroyCameraHashItem</a>, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno"> 1459</span>    <span class="keywordflow">if</span> (!device_hash) {</div>
<div class="line"><span class="lineno"> 1460</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#aa542f2b1d5d09e36af8bdbc0b5d530a4">SDL_DestroyRWLock</a>(device_hash_lock);</div>
<div class="line"><span class="lineno"> 1461</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1462</span>    }</div>
<div class="line"><span class="lineno"> 1463</span> </div>
<div class="line"><span class="lineno"> 1464</span>    <span class="comment">// Select the proper camera driver</span></div>
<div class="line"><span class="lineno"> 1465</span>    <span class="keywordflow">if</span> (!driver_name) {</div>
<div class="line"><span class="lineno"> 1466</span>        driver_name = <a class="code hl_function" href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint</a>(<a class="code hl_define" href="../../d9/d1c/SDL__hints_8h.html#a1207435d187eb2c08a5a5452f0e6a751">SDL_HINT_CAMERA_DRIVER</a>);</div>
<div class="line"><span class="lineno"> 1467</span>    }</div>
<div class="line"><span class="lineno"> 1468</span> </div>
<div class="line"><span class="lineno"> 1469</span>    <span class="keywordtype">bool</span> initialized = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1470</span>    <span class="keywordtype">bool</span> tried_to_init = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1471</span> </div>
<div class="line"><span class="lineno"> 1472</span>    <span class="keywordflow">if</span> (driver_name &amp;&amp; (*driver_name != 0)) {</div>
<div class="line"><span class="lineno"> 1473</span>        <span class="keywordtype">char</span> *driver_name_copy = <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a54dadf35397cf31919b20264f141ca19">SDL_strdup</a>(driver_name);</div>
<div class="line"><span class="lineno"> 1474</span>        <span class="keyword">const</span> <span class="keywordtype">char</span> *driver_attempt = driver_name_copy;</div>
<div class="line"><span class="lineno"> 1475</span> </div>
<div class="line"><span class="lineno"> 1476</span>        <span class="keywordflow">if</span> (!driver_name_copy) {</div>
<div class="line"><span class="lineno"> 1477</span>            <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#aa542f2b1d5d09e36af8bdbc0b5d530a4">SDL_DestroyRWLock</a>(device_hash_lock);</div>
<div class="line"><span class="lineno"> 1478</span>            <a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#a4d0312ee3e9ef2350afd8756b702b1e8">SDL_DestroyHashTable</a>(device_hash);</div>
<div class="line"><span class="lineno"> 1479</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1480</span>        }</div>
<div class="line"><span class="lineno"> 1481</span> </div>
<div class="line"><span class="lineno"> 1482</span>        <span class="keywordflow">while</span> (driver_attempt &amp;&amp; (*driver_attempt != 0) &amp;&amp; !initialized) {</div>
<div class="line"><span class="lineno"> 1483</span>            <span class="keywordtype">char</span> *driver_attempt_end = <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ae199a0d32eca416a60327e9c173dc62e">SDL_strchr</a>(driver_attempt, <span class="charliteral">&#39;,&#39;</span>);</div>
<div class="line"><span class="lineno"> 1484</span>            <span class="keywordflow">if</span> (driver_attempt_end) {</div>
<div class="line"><span class="lineno"> 1485</span>                *driver_attempt_end = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1486</span>            }</div>
<div class="line"><span class="lineno"> 1487</span> </div>
<div class="line"><span class="lineno"> 1488</span>            <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; <a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[i]; i++) {</div>
<div class="line"><span class="lineno"> 1489</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a23b2283e8f2e9ec181e99a052d03b9d2">SDL_strcasecmp</a>(<a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[i]-&gt;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#aa72c2236be3f1b815a31199583ccf019">name</a>, driver_attempt) == 0) {</div>
<div class="line"><span class="lineno"> 1490</span>                    tried_to_init = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1491</span>                    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>);</div>
<div class="line"><span class="lineno"> 1492</span>                    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail = &amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events;</div>
<div class="line"><span class="lineno"> 1493</span>                    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock = device_hash_lock;</div>
<div class="line"><span class="lineno"> 1494</span>                    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash = device_hash;</div>
<div class="line"><span class="lineno"> 1495</span>                    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[i]-&gt;init(&amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl)) {</div>
<div class="line"><span class="lineno"> 1496</span>                        <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.name = <a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[i]-&gt;name;</div>
<div class="line"><span class="lineno"> 1497</span>                        <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.desc = <a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[i]-&gt;desc;</div>
<div class="line"><span class="lineno"> 1498</span>                        initialized = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1499</span>                    }</div>
<div class="line"><span class="lineno"> 1500</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1501</span>                }</div>
<div class="line"><span class="lineno"> 1502</span>            }</div>
<div class="line"><span class="lineno"> 1503</span> </div>
<div class="line"><span class="lineno"> 1504</span>            driver_attempt = (driver_attempt_end) ? (driver_attempt_end + 1) : <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1505</span>        }</div>
<div class="line"><span class="lineno"> 1506</span> </div>
<div class="line"><span class="lineno"> 1507</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(driver_name_copy);</div>
<div class="line"><span class="lineno"> 1508</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1509</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; !initialized &amp;&amp; <a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[i]; i++) {</div>
<div class="line"><span class="lineno"> 1510</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[i]-&gt;demand_only) {</div>
<div class="line"><span class="lineno"> 1511</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1512</span>            }</div>
<div class="line"><span class="lineno"> 1513</span> </div>
<div class="line"><span class="lineno"> 1514</span>            tried_to_init = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1515</span>            <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>);</div>
<div class="line"><span class="lineno"> 1516</span>            <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail = &amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events;</div>
<div class="line"><span class="lineno"> 1517</span>            <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock = device_hash_lock;</div>
<div class="line"><span class="lineno"> 1518</span>            <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash = device_hash;</div>
<div class="line"><span class="lineno"> 1519</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[i]-&gt;init(&amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl)) {</div>
<div class="line"><span class="lineno"> 1520</span>                <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.name = <a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[i]-&gt;name;</div>
<div class="line"><span class="lineno"> 1521</span>                <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.desc = <a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[i]-&gt;desc;</div>
<div class="line"><span class="lineno"> 1522</span>                initialized = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1523</span>            }</div>
<div class="line"><span class="lineno"> 1524</span>        }</div>
<div class="line"><span class="lineno"> 1525</span>    }</div>
<div class="line"><span class="lineno"> 1526</span> </div>
<div class="line"><span class="lineno"> 1527</span>    <span class="keywordflow">if</span> (initialized) {</div>
<div class="line"><span class="lineno"> 1528</span>        <a class="code hl_function" href="../../d5/d57/SDL__utils_8c.html#af7e4783f4a1adbe30d586b2e45032c05">SDL_DebugLogBackend</a>(<span class="stringliteral">&quot;camera&quot;</span>, <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.name);</div>
<div class="line"><span class="lineno"> 1529</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1530</span>        <span class="comment">// specific drivers will set the error message if they fail, but otherwise we do it here.</span></div>
<div class="line"><span class="lineno"> 1531</span>        <span class="keywordflow">if</span> (!tried_to_init) {</div>
<div class="line"><span class="lineno"> 1532</span>            <span class="keywordflow">if</span> (driver_name) {</div>
<div class="line"><span class="lineno"> 1533</span>                <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Camera driver &#39;%s&#39; not available&quot;</span>, driver_name);</div>
<div class="line"><span class="lineno"> 1534</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1535</span>                <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;No available camera driver&quot;</span>);</div>
<div class="line"><span class="lineno"> 1536</span>            }</div>
<div class="line"><span class="lineno"> 1537</span>        }</div>
<div class="line"><span class="lineno"> 1538</span> </div>
<div class="line"><span class="lineno"> 1539</span>        <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>);</div>
<div class="line"><span class="lineno"> 1540</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#aa542f2b1d5d09e36af8bdbc0b5d530a4">SDL_DestroyRWLock</a>(device_hash_lock);</div>
<div class="line"><span class="lineno"> 1541</span>        <a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#a4d0312ee3e9ef2350afd8756b702b1e8">SDL_DestroyHashTable</a>(device_hash);</div>
<div class="line"><span class="lineno"> 1542</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// No driver was available, so fail.</span></div>
<div class="line"><span class="lineno"> 1543</span>    }</div>
<div class="line"><span class="lineno"> 1544</span> </div>
<div class="line"><span class="lineno"> 1545</span>    <a class="code hl_function" href="#ae2b75a7cd66311b1fe7430be88f5141b">CompleteCameraEntryPoints</a>();</div>
<div class="line"><span class="lineno"> 1546</span> </div>
<div class="line"><span class="lineno"> 1547</span>    <span class="comment">// Make sure we have a list of devices available at startup...</span></div>
<div class="line"><span class="lineno"> 1548</span>    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.DetectDevices();</div>
<div class="line"><span class="lineno"> 1549</span> </div>
<div class="line"><span class="lineno"> 1550</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1551</span>}</div>
<div class="ttc" id="aSDL__audio_8c_html_ac42f6bc6906ceedce47583e654398491"><div class="ttname"><a href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a></div><div class="ttdeci">static const AudioBootStrap *const bootstrap[]</div><div class="ttdef"><b>Definition</b> SDL_audio.c:28</div></div>
<div class="ttc" id="aSDL__camera_8c_html_a0ba8fe72217bbe6c8ed6c7c9183cefc3"><div class="ttname"><a href="#a0ba8fe72217bbe6c8ed6c7c9183cefc3">DestroyCameraHashItem</a></div><div class="ttdeci">static void SDLCALL DestroyCameraHashItem(void *userdata, const void *key, const void *value)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:1436</div></div>
<div class="ttc" id="aSDL__camera_8c_html_a6fca7b5907990a504def9694c2ab4dc6"><div class="ttname"><a href="#a6fca7b5907990a504def9694c2ab4dc6">SDL_QuitCamera</a></div><div class="ttdeci">void SDL_QuitCamera(void)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:1404</div></div>
<div class="ttc" id="aSDL__camera_8c_html_ae2b75a7cd66311b1fe7430be88f5141b"><div class="ttname"><a href="#ae2b75a7cd66311b1fe7430be88f5141b">CompleteCameraEntryPoints</a></div><div class="ttdeci">static void CompleteCameraEntryPoints(void)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:1390</div></div>
<div class="ttc" id="aSDL__hashtable_8c_html_a4d0312ee3e9ef2350afd8756b702b1e8"><div class="ttname"><a href="../../dc/d3a/SDL__hashtable_8c.html#a4d0312ee3e9ef2350afd8756b702b1e8">SDL_DestroyHashTable</a></div><div class="ttdeci">void SDL_DestroyHashTable(SDL_HashTable *table)</div><div class="ttdef"><b>Definition</b> SDL_hashtable.c:452</div></div>
<div class="ttc" id="aSDL__hashtable_8c_html_ab8246215b5dff283235612c4fbdf2a08"><div class="ttname"><a href="../../dc/d3a/SDL__hashtable_8c.html#ab8246215b5dff283235612c4fbdf2a08">SDL_CreateHashTable</a></div><div class="ttdeci">SDL_HashTable * SDL_CreateHashTable(int estimated_capacity, bool threadsafe, SDL_HashCallback hash, SDL_HashKeyMatchCallback keymatch, SDL_HashDestroyCallback destroy, void *userdata)</div><div class="ttdef"><b>Definition</b> SDL_hashtable.c:69</div></div>
<div class="ttc" id="aSDL__hashtable_8c_html_aed2edf49184dd8aab93afaaab402b201"><div class="ttname"><a href="../../dc/d3a/SDL__hashtable_8c.html#aed2edf49184dd8aab93afaaab402b201">SDL_KeyMatchID</a></div><div class="ttdeci">bool SDL_KeyMatchID(void *unused, const void *a, const void *b)</div><div class="ttdef"><b>Definition</b> SDL_hashtable.c:518</div></div>
<div class="ttc" id="aSDL__hashtable_8c_html_afff3711c113fa96e9c5e368bf2f20a18"><div class="ttname"><a href="../../dc/d3a/SDL__hashtable_8c.html#afff3711c113fa96e9c5e368bf2f20a18">SDL_HashID</a></div><div class="ttdeci">Uint32 SDL_HashID(void *unused, const void *key)</div><div class="ttdef"><b>Definition</b> SDL_hashtable.c:512</div></div>
<div class="ttc" id="aSDL__hints_8h_html_a0ce2cc6915ec9242fa403afd834a4fea"><div class="ttname"><a href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint</a></div><div class="ttdeci">SDL_DECLSPEC const char *SDLCALL SDL_GetHint(const char *name)</div><div class="ttdef"><b>Definition</b> SDL_hints.c:258</div></div>
<div class="ttc" id="aSDL__hints_8h_html_a1207435d187eb2c08a5a5452f0e6a751"><div class="ttname"><a href="../../d9/d1c/SDL__hints_8h.html#a1207435d187eb2c08a5a5452f0e6a751">SDL_HINT_CAMERA_DRIVER</a></div><div class="ttdeci">#define SDL_HINT_CAMERA_DRIVER</div><div class="ttdef"><b>Definition</b> SDL_hints.h:592</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_a90958f670ac5638cd0e715270b74b704"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#a90958f670ac5638cd0e715270b74b704">SDL_CreateRWLock</a></div><div class="ttdeci">SDL_DECLSPEC SDL_RWLock *SDLCALL SDL_CreateRWLock(void)</div><div class="ttdef"><b>Definition</b> SDL_sysrwlock.c:55</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_aa542f2b1d5d09e36af8bdbc0b5d530a4"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#aa542f2b1d5d09e36af8bdbc0b5d530a4">SDL_DestroyRWLock</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_DestroyRWLock(SDL_RWLock *rwlock)</div><div class="ttdef"><b>Definition</b> SDL_sysrwlock.c:84</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a23b2283e8f2e9ec181e99a052d03b9d2"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a23b2283e8f2e9ec181e99a052d03b9d2">SDL_strcasecmp</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_strcasecmp(const char *str1, const char *str2)</div><div class="ttdef"><b>Definition</b> SDL_string.c:1385</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_ae199a0d32eca416a60327e9c173dc62e"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#ae199a0d32eca416a60327e9c173dc62e">SDL_strchr</a></div><div class="ttdeci">SDL_DECLSPEC char *SDLCALL SDL_strchr(const char *str, int c)</div><div class="ttdef"><b>Definition</b> SDL_string.c:1067</div></div>
<div class="ttc" id="aSDL__utils_8c_html_af7e4783f4a1adbe30d586b2e45032c05"><div class="ttname"><a href="../../d5/d57/SDL__utils_8c.html#af7e4783f4a1adbe30d586b2e45032c05">SDL_DebugLogBackend</a></div><div class="ttdeci">void SDL_DebugLogBackend(const char *subsystem, const char *backend)</div><div class="ttdef"><b>Definition</b> SDL_utils.c:558</div></div>
<div class="ttc" id="astructSDL__HashTable_html"><div class="ttname"><a href="../../da/d27/structSDL__HashTable.html">SDL_HashTable</a></div><div class="ttdef"><b>Definition</b> SDL_hashtable.c:41</div></div>
<div class="ttc" id="astructSDL__RWLock_html"><div class="ttname"><a href="../../db/ddc/structSDL__RWLock.html">SDL_RWLock</a></div><div class="ttdef"><b>Definition</b> SDL_sysrwlock.c:43</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>, <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="#ae2b75a7cd66311b1fe7430be88f5141b">CompleteCameraEntryPoints()</a>, <a class="el" href="#a0ba8fe72217bbe6c8ed6c7c9183cefc3">DestroyCameraHashItem()</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d3a/SDL__hashtable_8c.html#ab8246215b5dff283235612c4fbdf2a08">SDL_CreateHashTable()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a90958f670ac5638cd0e715270b74b704">SDL_CreateRWLock()</a>, <a class="el" href="../../d5/d57/SDL__utils_8c.html#af7e4783f4a1adbe30d586b2e45032c05">SDL_DebugLogBackend()</a>, <a class="el" href="../../dc/d3a/SDL__hashtable_8c.html#a4d0312ee3e9ef2350afd8756b702b1e8">SDL_DestroyHashTable()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#aa542f2b1d5d09e36af8bdbc0b5d530a4">SDL_DestroyRWLock()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a>, <a class="el" href="#aa02987079d7a46900e4580991dee903f">SDL_GetCurrentCameraDriver()</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint()</a>, <a class="el" href="../../dc/d3a/SDL__hashtable_8c.html#afff3711c113fa96e9c5e368bf2f20a18">SDL_HashID()</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#a1207435d187eb2c08a5a5452f0e6a751">SDL_HINT_CAMERA_DRIVER</a>, <a class="el" href="../../dc/d3a/SDL__hashtable_8c.html#aed2edf49184dd8aab93afaaab402b201">SDL_KeyMatchID()</a>, <a class="el" href="#a6fca7b5907990a504def9694c2ab4dc6">SDL_QuitCamera()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a23b2283e8f2e9ec181e99a052d03b9d2">SDL_strcasecmp()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ae199a0d32eca416a60327e9c173dc62e">SDL_strchr()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a54dadf35397cf31919b20264f141ca19">SDL_strdup()</a>, and <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../df/d22/SDL__init_8h.html#aa3304d037f0a5bbb16009a1ee4689b1b">SDL_InitSubSystem()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a1c95febe36642a6bee0885f1078c6cc2_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a1c95febe36642a6bee0885f1078c6cc2_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aaf114744da523edc8f10da088e887bc8" name="aaf114744da523edc8f10da088e887bc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf114744da523edc8f10da088e887bc8">&#9670;&#160;</a></span>SDL_CameraPermissionOutcome()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> SDL_CameraPermissionOutcome </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>approved</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  575</span>{</div>
<div class="line"><span class="lineno">  576</span>    <span class="keywordflow">if</span> (!device) {</div>
<div class="line"><span class="lineno">  577</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  578</span>    }</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>    <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> pending;</div>
<div class="line"><span class="lineno">  581</span>    pending.<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  582</span>    <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *pending_tail = &amp;pending;</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> permission = approved ? 1 : -1;</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>    <a class="code hl_function" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a>(device);</div>
<div class="line"><span class="lineno">  587</span>    <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">permission</a> != permission) {</div>
<div class="line"><span class="lineno">  588</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">permission</a> = permission;</div>
<div class="line"><span class="lineno">  589</span>        <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *p = (<a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *) <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc</a>(<span class="keyword">sizeof</span> (<a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a>));</div>
<div class="line"><span class="lineno">  590</span>        <span class="keywordflow">if</span> (p) {  <span class="comment">// if this failed, no event for you, but you have deeper problems anyhow.</span></div>
<div class="line"><span class="lineno">  591</span>            p-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#ae87dcacd6ca94cabca923f09c6975d79">type</a> = approved ? <a class="code hl_enumvalue" href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaa6f191083fd081964777d25238b0a6f86">SDL_EVENT_CAMERA_DEVICE_APPROVED</a> : <a class="code hl_enumvalue" href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaacf9e5835deb10399cf0b1cd908ad2f51">SDL_EVENT_CAMERA_DEVICE_DENIED</a>;</div>
<div class="line"><span class="lineno">  592</span>            p-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#afd6c99cdd7eea066b29eec45e471c4a0">devid</a> = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">instance_id</a>;</div>
<div class="line"><span class="lineno">  593</span>            p-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  594</span>            pending_tail-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a> = p;</div>
<div class="line"><span class="lineno">  595</span>            pending_tail = p;</div>
<div class="line"><span class="lineno">  596</span>        }</div>
<div class="line"><span class="lineno">  597</span>    }</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">if</span> (pending.<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a>) {  <span class="comment">// NULL if event is disabled or disaster struck.</span></div>
<div class="line"><span class="lineno">  602</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  603</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  604</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail-&gt;next == <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  605</span>        <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail-&gt;next = pending.<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a>;</div>
<div class="line"><span class="lineno">  606</span>        <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail = pending_tail;</div>
<div class="line"><span class="lineno">  607</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  608</span>    }</div>
<div class="line"><span class="lineno">  609</span>}</div>
<div class="ttc" id="aSDL__events_8h_html_a3b589e89be6b35c02e0dd34a55f3fccaa6f191083fd081964777d25238b0a6f86"><div class="ttname"><a href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaa6f191083fd081964777d25238b0a6f86">SDL_EVENT_CAMERA_DEVICE_APPROVED</a></div><div class="ttdeci">@ SDL_EVENT_CAMERA_DEVICE_APPROVED</div><div class="ttdef"><b>Definition</b> SDL_events.h:251</div></div>
<div class="ttc" id="aSDL__events_8h_html_a3b589e89be6b35c02e0dd34a55f3fccaacf9e5835deb10399cf0b1cd908ad2f51"><div class="ttname"><a href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaacf9e5835deb10399cf0b1cd908ad2f51">SDL_EVENT_CAMERA_DEVICE_DENIED</a></div><div class="ttdeci">@ SDL_EVENT_CAMERA_DEVICE_DENIED</div><div class="ttdef"><b>Definition</b> SDL_events.h:252</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#afd6c99cdd7eea066b29eec45e471c4a0">SDL_PendingCameraEvent::devid</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">SDL_Camera::instance_id</a>, <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">SDL_PendingCameraEvent::next</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">SDL_Camera::permission</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaa6f191083fd081964777d25238b0a6f86">SDL_EVENT_CAMERA_DEVICE_APPROVED</a>, <a class="el" href="../../da/d39/SDL__events_8h.html#a3b589e89be6b35c02e0dd34a55f3fccaacf9e5835deb10399cf0b1cd908ad2f51">SDL_EVENT_CAMERA_DEVICE_DENIED</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>, and <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#ae87dcacd6ca94cabca923f09c6975d79">SDL_PendingCameraEvent::type</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_aaf114744da523edc8f10da088e887bc8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aada59aeebd93ce01f07435a3741fc972" name="aada59aeebd93ce01f07435a3741fc972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aada59aeebd93ce01f07435a3741fc972">&#9670;&#160;</a></span>SDL_CameraThreadIterate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> SDL_CameraThreadIterate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  802</span>{</div>
<div class="line"><span class="lineno">  803</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#ab0bbb94c39385a83a6a1322c1a3b9d64">SDL_LockMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">shutdown</a>)) {</div>
<div class="line"><span class="lineno">  806</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno">  807</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// we&#39;re done, shut it down.</span></div>
<div class="line"><span class="lineno">  808</span>    }</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> permission = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">permission</a>;</div>
<div class="line"><span class="lineno">  811</span>    <span class="keywordflow">if</span> (permission &lt;= 0) {</div>
<div class="line"><span class="lineno">  812</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno">  813</span>        <span class="keywordflow">return</span> (permission &lt; 0) ? <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a65e9886d74aaee76545e83dd09011727">false</a> : <span class="keyword">true</span>;  <span class="comment">// if permission was denied, shut it down. if undecided, we&#39;re done for now.</span></div>
<div class="line"><span class="lineno">  814</span>    }</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>    <span class="keywordtype">bool</span> failed = <span class="keyword">false</span>;  <span class="comment">// set to true if disaster worthy of treating the device as lost has happened.</span></div>
<div class="line"><span class="lineno">  817</span>    <a class="code hl_struct" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *acquired = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  818</span>    <a class="code hl_struct" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *output_surface = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  819</span>    <a class="code hl_struct" href="../../d2/d22/structSurfaceList.html">SurfaceList</a> *slist = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  820</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a> timestampNS = 0;</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>    <span class="comment">// AcquireFrame SHOULD NOT BLOCK, as we are holding a lock right now. Block in WaitDevice instead!</span></div>
<div class="line"><span class="lineno">  823</span>    <span class="keyword">const</span> <a class="code hl_enumeration" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8">SDL_CameraFrameResult</a> rc = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae7f1792d7559b5b53defbe0414b519d9">AcquireFrame</a>(device, device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>, &amp;timestampNS);</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>    <span class="keywordflow">if</span> (rc == <a class="code hl_enumvalue" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8aee4f137731d89ffe3d9223e6a8df59b7">SDL_CAMERA_FRAME_READY</a>) {  <span class="comment">// new frame acquired!</span></div>
<div class="line"><span class="lineno">  826</span><span class="preprocessor">        #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  827</span>        <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: New frame available! pixels=%p pitch=%d&quot;</span>, device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a>, device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a>);</div>
<div class="line"><span class="lineno">  828</span><span class="preprocessor">        #endif</span></div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span>        <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a62392ea693421a0903d839eaa0c8cb06">drop_frames</a> &gt; 0) {</div>
<div class="line"><span class="lineno">  831</span><span class="preprocessor">            #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  832</span>            <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: Dropping an initial frame&quot;</span>);</div>
<div class="line"><span class="lineno">  833</span><span class="preprocessor">            #endif</span></div>
<div class="line"><span class="lineno">  834</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a62392ea693421a0903d839eaa0c8cb06">drop_frames</a>--;</div>
<div class="line"><span class="lineno">  835</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">ReleaseFrame</a>(device, device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>);</div>
<div class="line"><span class="lineno">  836</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  837</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a> = 0;</div>
<div class="line"><span class="lineno">  838</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">empty_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> == <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno">  839</span>            <span class="comment">// uhoh, no output frames available! Either the app is slow, or it forgot to release frames when done with them. Drop this new frame.</span></div>
<div class="line"><span class="lineno">  840</span><span class="preprocessor">            #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  841</span>            <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: No empty output surfaces! Dropping frame!&quot;</span>);</div>
<div class="line"><span class="lineno">  842</span><span class="preprocessor">            #endif</span></div>
<div class="line"><span class="lineno">  843</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">ReleaseFrame</a>(device, device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>);</div>
<div class="line"><span class="lineno">  844</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  845</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a> = 0;</div>
<div class="line"><span class="lineno">  846</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  847</span>            <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ac788d60c674cb6bc40e51eac5b17cd47">adjust_timestamp</a>) {</div>
<div class="line"><span class="lineno">  848</span>                device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ac788d60c674cb6bc40e51eac5b17cd47">adjust_timestamp</a> = <a class="code hl_function" href="../../d6/d3c/SDL__timer_8h.html#a2f87dc9adb7ff81451425782b451a505">SDL_GetTicksNS</a>();</div>
<div class="line"><span class="lineno">  849</span>                device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ab59c4c95ea75eba72e9f84941c94c94e">base_timestamp</a> = timestampNS;</div>
<div class="line"><span class="lineno">  850</span>            }</div>
<div class="line"><span class="lineno">  851</span>            timestampNS = (timestampNS - device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ab59c4c95ea75eba72e9f84941c94c94e">base_timestamp</a>) + device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ac788d60c674cb6bc40e51eac5b17cd47">adjust_timestamp</a>;</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>            slist = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">empty_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>;</div>
<div class="line"><span class="lineno">  854</span>            output_surface = slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">surface</a>;</div>
<div class="line"><span class="lineno">  855</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">empty_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>;</div>
<div class="line"><span class="lineno">  856</span>            acquired = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>;</div>
<div class="line"><span class="lineno">  857</span>            slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a2ebefbccec079cb55ce19da43be91ba5">timestampNS</a> = timestampNS;</div>
<div class="line"><span class="lineno">  858</span>        }</div>
<div class="line"><span class="lineno">  859</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rc == <a class="code hl_enumvalue" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8a4e5c996b4ac4e80696d6cfe04a7e29ba">SDL_CAMERA_FRAME_SKIP</a>) {  <span class="comment">// no frame available yet; not an error.</span></div>
<div class="line"><span class="lineno">  860</span><span class="preprocessor">        #if 0 </span><span class="comment">//DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  861</span>        <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: No frame available yet.&quot;</span>);</div>
<div class="line"><span class="lineno">  862</span><span class="preprocessor">        #endif</span></div>
<div class="line"><span class="lineno">  863</span>    } <span class="keywordflow">else</span> {  <span class="comment">// fatal error!</span></div>
<div class="line"><span class="lineno">  864</span><span class="preprocessor">        #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  865</span>        <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: dev[%p] error AcquireFrame: %s&quot;</span>, device, <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError</a>());</div>
<div class="line"><span class="lineno">  866</span><span class="preprocessor">        #endif</span></div>
<div class="line"><span class="lineno">  867</span>        failed = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  868</span>    }</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>    <span class="comment">// we can let go of the lock once we&#39;ve tried to grab a frame of video and maybe moved the output frame off the empty list.</span></div>
<div class="line"><span class="lineno">  871</span>    <span class="comment">// this lets us chew up the CPU for conversion and scaling without blocking other threads.</span></div>
<div class="line"><span class="lineno">  872</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>    <span class="keywordflow">if</span> (failed) {</div>
<div class="line"><span class="lineno">  875</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(slist == <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  876</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(acquired == <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  877</span>        <a class="code hl_function" href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected</a>(device);  <span class="comment">// doh.</span></div>
<div class="line"><span class="lineno">  878</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (acquired) {  <span class="comment">// we have a new frame, scale/convert if necessary and queue it for the app!</span></div>
<div class="line"><span class="lineno">  879</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(slist != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  880</span>        <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a> &amp;&amp; !device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">needs_conversion</a>) {  <span class="comment">// no conversion needed? Just move the pointer/pitch into the output surface.</span></div>
<div class="line"><span class="lineno">  881</span><span class="preprocessor">            #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  882</span>            <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: Frame is going through without conversion!&quot;</span>);</div>
<div class="line"><span class="lineno">  883</span><span class="preprocessor">            #endif</span></div>
<div class="line"><span class="lineno">  884</span>            output_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a9b0ec7185dcdb2a3530a9160a6ea83d9">w</a> = acquired-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a9b0ec7185dcdb2a3530a9160a6ea83d9">w</a>;</div>
<div class="line"><span class="lineno">  885</span>            output_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#af33bcf87a1f5e10a99b3c7e8626b38c8">h</a> = acquired-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#af33bcf87a1f5e10a99b3c7e8626b38c8">h</a>;</div>
<div class="line"><span class="lineno">  886</span>            output_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a> = acquired-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a>;</div>
<div class="line"><span class="lineno">  887</span>            output_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a> = acquired-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a>;</div>
<div class="line"><span class="lineno">  888</span>        } <span class="keywordflow">else</span> {  <span class="comment">// convert/scale into a different surface.</span></div>
<div class="line"><span class="lineno">  889</span><span class="preprocessor">            #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  890</span>            <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: Frame is getting converted!&quot;</span>);</div>
<div class="line"><span class="lineno">  891</span><span class="preprocessor">            #endif</span></div>
<div class="line"><span class="lineno">  892</span>            <a class="code hl_struct" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *srcsurf = acquired;</div>
<div class="line"><span class="lineno">  893</span>            <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a> == -1) {  <span class="comment">// downscaling? Do it first.  -1: downscale, 0: no scaling, 1: upscale</span></div>
<div class="line"><span class="lineno">  894</span>                <a class="code hl_struct" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *dstsurf = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">needs_conversion</a> ? device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">conversion_surface</a> : output_surface;</div>
<div class="line"><span class="lineno">  895</span>                <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#add4d16f4a689ceb5da2acff849ebd796">SDL_StretchSurface</a>(srcsurf, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, dstsurf, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_enumvalue" href="../../db/dac/SDL__surface_8h.html#a7cee9cc7b0b54027860fde346ea26c71a8e51d88022aef1065237e135a7e50419">SDL_SCALEMODE_NEAREST</a>);  <span class="comment">// !!! FIXME: linear scale? letterboxing?</span></div>
<div class="line"><span class="lineno">  896</span>                srcsurf = dstsurf;</div>
<div class="line"><span class="lineno">  897</span>            }</div>
<div class="line"><span class="lineno">  898</span>            <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">needs_conversion</a>) {</div>
<div class="line"><span class="lineno">  899</span>                <a class="code hl_struct" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *dstsurf = (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a> == 1) ? device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">conversion_surface</a> : output_surface;</div>
<div class="line"><span class="lineno">  900</span>                <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a6aa2b4afff8e2b177f5476bcc327d012">SDL_ConvertPixels</a>(srcsurf-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a9b0ec7185dcdb2a3530a9160a6ea83d9">w</a>, srcsurf-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#af33bcf87a1f5e10a99b3c7e8626b38c8">h</a>,</div>
<div class="line"><span class="lineno">  901</span>                                  srcsurf-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a727e8fc61fda0f46fb882c5ff866b2c0">format</a>, srcsurf-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a>, srcsurf-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a>,</div>
<div class="line"><span class="lineno">  902</span>                                  dstsurf-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a727e8fc61fda0f46fb882c5ff866b2c0">format</a>, dstsurf-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a>, dstsurf-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a>);</div>
<div class="line"><span class="lineno">  903</span>                srcsurf = dstsurf;</div>
<div class="line"><span class="lineno">  904</span>            }</div>
<div class="line"><span class="lineno">  905</span>            <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a> == 1) {  <span class="comment">// upscaling? Do it last.  -1: downscale, 0: no scaling, 1: upscale</span></div>
<div class="line"><span class="lineno">  906</span>                <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#add4d16f4a689ceb5da2acff849ebd796">SDL_StretchSurface</a>(srcsurf, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, output_surface, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_enumvalue" href="../../db/dac/SDL__surface_8h.html#a7cee9cc7b0b54027860fde346ea26c71a8e51d88022aef1065237e135a7e50419">SDL_SCALEMODE_NEAREST</a>);  <span class="comment">// !!! FIXME: linear scale? letterboxing?</span></div>
<div class="line"><span class="lineno">  907</span>            }</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>            <span class="comment">// we made a copy, so we can give the driver back its resources.</span></div>
<div class="line"><span class="lineno">  910</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">ReleaseFrame</a>(device, acquired);</div>
<div class="line"><span class="lineno">  911</span>        }</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>        <span class="comment">// we either released these already after we copied the data, or the pointer was migrated to output_surface.</span></div>
<div class="line"><span class="lineno">  914</span>        acquired-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  915</span>        acquired-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a> = 0;</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>        <span class="comment">// make the filled output surface available to the app.</span></div>
<div class="line"><span class="lineno">  918</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#ab0bbb94c39385a83a6a1322c1a3b9d64">SDL_LockMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno">  919</span>        slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ab4ab074c3efe08c4074bf01e220d03d9">filled_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>;</div>
<div class="line"><span class="lineno">  920</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ab4ab074c3efe08c4074bf01e220d03d9">filled_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = slist;</div>
<div class="line"><span class="lineno">  921</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">lock</a>);</div>
<div class="line"><span class="lineno">  922</span>    }</div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// always go on if not shutting down, even if device failed.</span></div>
<div class="line"><span class="lineno">  925</span>}</div>
<div class="ttc" id="aSDL__error_8h_html_a579f249f3dd9b45e329fe5819cd2fa8a"><div class="ttname"><a href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError</a></div><div class="ttdeci">SDL_DECLSPEC const char *SDLCALL SDL_GetError(void)</div><div class="ttdef"><b>Definition</b> SDL_error.c:77</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a65e9886d74aaee76545e83dd09011727"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a65e9886d74aaee76545e83dd09011727">false</a></div><div class="ttdeci">#define false</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:73</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_ac006cf2bd55a42a9cc8ae9f123aa7e13"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a></div><div class="ttdeci">uint64_t Uint64</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:483</div></div>
<div class="ttc" id="aSDL__surface_8h_html_a6aa2b4afff8e2b177f5476bcc327d012"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#a6aa2b4afff8e2b177f5476bcc327d012">SDL_ConvertPixels</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_ConvertPixels(int width, int height, SDL_PixelFormat src_format, const void *src, int src_pitch, SDL_PixelFormat dst_format, void *dst, int dst_pitch)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:2380</div></div>
<div class="ttc" id="aSDL__surface_8h_html_a7cee9cc7b0b54027860fde346ea26c71a8e51d88022aef1065237e135a7e50419"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#a7cee9cc7b0b54027860fde346ea26c71a8e51d88022aef1065237e135a7e50419">SDL_SCALEMODE_NEAREST</a></div><div class="ttdeci">@ SDL_SCALEMODE_NEAREST</div><div class="ttdef"><b>Definition</b> SDL_surface.h:87</div></div>
<div class="ttc" id="aSDL__surface_8h_html_add4d16f4a689ceb5da2acff849ebd796"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#add4d16f4a689ceb5da2acff849ebd796">SDL_StretchSurface</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_StretchSurface(SDL_Surface *src, const SDL_Rect *srcrect, SDL_Surface *dst, const SDL_Rect *dstrect, SDL_ScaleMode scaleMode)</div><div class="ttdef"><b>Definition</b> SDL_stretch.c:28</div></div>
<div class="ttc" id="aSDL__syscamera_8h_html_ada3096e93533e29ea0313f52d768bec8"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8">SDL_CameraFrameResult</a></div><div class="ttdeci">SDL_CameraFrameResult</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:72</div></div>
<div class="ttc" id="aSDL__syscamera_8h_html_ada3096e93533e29ea0313f52d768bec8a4e5c996b4ac4e80696d6cfe04a7e29ba"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8a4e5c996b4ac4e80696d6cfe04a7e29ba">SDL_CAMERA_FRAME_SKIP</a></div><div class="ttdeci">@ SDL_CAMERA_FRAME_SKIP</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:74</div></div>
<div class="ttc" id="aSDL__syscamera_8h_html_ada3096e93533e29ea0313f52d768bec8aee4f137731d89ffe3d9223e6a8df59b7"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8aee4f137731d89ffe3d9223e6a8df59b7">SDL_CAMERA_FRAME_READY</a></div><div class="ttdeci">@ SDL_CAMERA_FRAME_READY</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:75</div></div>
<div class="ttc" id="aSDL__timer_8h_html_a2f87dc9adb7ff81451425782b451a505"><div class="ttname"><a href="../../d6/d3c/SDL__timer_8h.html#a2f87dc9adb7ff81451425782b451a505">SDL_GetTicksNS</a></div><div class="ttdeci">SDL_DECLSPEC Uint64 SDLCALL SDL_GetTicksNS(void)</div><div class="ttdef"><b>Definition</b> SDL_timer.c:624</div></div>
<div class="ttc" id="astructSDL__Camera_html_a62392ea693421a0903d839eaa0c8cb06"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#a62392ea693421a0903d839eaa0c8cb06">SDL_Camera::drop_frames</a></div><div class="ttdeci">int drop_frames</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:124</div></div>
<div class="ttc" id="astructSDL__Surface_html_a5fa37325d77d65b2ed64ffc7cd01bb6c"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">SDL_Surface::pitch</a></div><div class="ttdeci">int pitch</div><div class="ttdef"><b>Definition</b> SDL_surface.h:140</div></div>
<div class="ttc" id="astructSDL__Surface_html_a727e8fc61fda0f46fb882c5ff866b2c0"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#a727e8fc61fda0f46fb882c5ff866b2c0">SDL_Surface::format</a></div><div class="ttdeci">SDL_PixelFormat format</div><div class="ttdef"><b>Definition</b> SDL_surface.h:137</div></div>
<div class="ttc" id="astructSDL__Surface_html_a9b0ec7185dcdb2a3530a9160a6ea83d9"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#a9b0ec7185dcdb2a3530a9160a6ea83d9">SDL_Surface::w</a></div><div class="ttdeci">int w</div><div class="ttdef"><b>Definition</b> SDL_surface.h:138</div></div>
<div class="ttc" id="astructSDL__Surface_html_ada4bbb4e87ef8c52fb5b234ce45b3978"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">SDL_Surface::pixels</a></div><div class="ttdeci">void * pixels</div><div class="ttdef"><b>Definition</b> SDL_surface.h:141</div></div>
<div class="ttc" id="astructSDL__Surface_html_af33bcf87a1f5e10a99b3c7e8626b38c8"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#af33bcf87a1f5e10a99b3c7e8626b38c8">SDL_Surface::h</a></div><div class="ttdeci">int h</div><div class="ttdef"><b>Definition</b> SDL_surface.h:139</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">SDL_Camera::acquire_surface</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ae7f1792d7559b5b53defbe0414b519d9">SDL_Camera::AcquireFrame</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ac788d60c674cb6bc40e51eac5b17cd47">SDL_Camera::adjust_timestamp</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ab59c4c95ea75eba72e9f84941c94c94e">SDL_Camera::base_timestamp</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">SDL_Camera::conversion_surface</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a62392ea693421a0903d839eaa0c8cb06">SDL_Camera::drop_frames</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">SDL_Camera::empty_output_surfaces</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a65e9886d74aaee76545e83dd09011727">false</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ab4ab074c3efe08c4074bf01e220d03d9">SDL_Camera::filled_output_surfaces</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#a727e8fc61fda0f46fb882c5ff866b2c0">SDL_Surface::format</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#af33bcf87a1f5e10a99b3c7e8626b38c8">SDL_Surface::h</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a0833e4b0e326517306a9d6df37dfac4c">SDL_Camera::lock</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">SDL_Camera::needs_conversion</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">SDL_Camera::needs_scaling</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">SurfaceList::next</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">SDL_Camera::permission</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">SDL_Surface::pitch</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">SDL_Surface::pixels</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">SDL_Camera::ReleaseFrame</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8aee4f137731d89ffe3d9223e6a8df59b7">SDL_CAMERA_FRAME_READY</a>, <a class="el" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8a4e5c996b4ac4e80696d6cfe04a7e29ba">SDL_CAMERA_FRAME_SKIP</a>, <a class="el" href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#a6aa2b4afff8e2b177f5476bcc327d012">SDL_ConvertPixels()</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a>, <a class="el" href="../../d6/d3c/SDL__timer_8h.html#a2f87dc9adb7ff81451425782b451a505">SDL_GetTicksNS()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#ab0bbb94c39385a83a6a1322c1a3b9d64">SDL_LockMutex()</a>, <a class="el" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#a7cee9cc7b0b54027860fde346ea26c71a8e51d88022aef1065237e135a7e50419">SDL_SCALEMODE_NEAREST</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#add4d16f4a689ceb5da2acff849ebd796">SDL_StretchSurface()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">SDL_Camera::shutdown</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">SurfaceList::surface</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a2ebefbccec079cb55ce19da43be91ba5">SurfaceList::timestampNS</a>, and <a class="el" href="../../d0/de5/structSDL__Surface.html#a9b0ec7185dcdb2a3530a9160a6ea83d9">SDL_Surface::w</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a03e068ea12aee6918e95902871cb3523">CameraThread()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_aada59aeebd93ce01f07435a3741fc972_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_aada59aeebd93ce01f07435a3741fc972_icgraph.svg" width="523" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5fabfda78c2d93fd14ce4f46af5e7b51" name="a5fabfda78c2d93fd14ce4f46af5e7b51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fabfda78c2d93fd14ce4f46af5e7b51">&#9670;&#160;</a></span>SDL_CameraThreadSetup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> SDL_CameraThreadSetup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  785</span>{</div>
<div class="line"><span class="lineno">  786</span>    <span class="comment">//camera_driver.impl.ThreadInit(device);</span></div>
<div class="line"><span class="lineno">  787</span><span class="preprocessor">#ifdef SDL_VIDEO_DRIVER_ANDROID</span></div>
<div class="line"><span class="lineno">  788</span>    <span class="comment">// TODO</span></div>
<div class="line"><span class="lineno">  789</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  790</span><span class="comment">    {</span></div>
<div class="line"><span class="lineno">  791</span><span class="comment">        // Set thread priority to THREAD_PRIORITY_VIDEO</span></div>
<div class="line"><span class="lineno">  792</span><span class="comment">        extern void Android_JNI_CameraSetThreadPriority(int, int);</span></div>
<div class="line"><span class="lineno">  793</span><span class="comment">        Android_JNI_CameraSetThreadPriority(device-&gt;recording, device);</span></div>
<div class="line"><span class="lineno">  794</span><span class="comment">    }*/</span></div>
<div class="line"><span class="lineno">  795</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  796</span>    <span class="comment">// The camera capture is always a high priority thread</span></div>
<div class="line"><span class="lineno">  797</span>    <a class="code hl_function" href="../../dd/d1d/SDL__thread_8h.html#a53e3a01ae268e3d75b1cd97bb6a6c9c9">SDL_SetCurrentThreadPriority</a>(<a class="code hl_enumvalue" href="../../dd/d1d/SDL__thread_8h.html#acce8dea56f6b307fadd2949b64e3ebdaaac5ff8423acdebf3b43c279b8ec2ae0d">SDL_THREAD_PRIORITY_HIGH</a>);</div>
<div class="line"><span class="lineno">  798</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  799</span>}</div>
<div class="ttc" id="aSDL__thread_8h_html_a53e3a01ae268e3d75b1cd97bb6a6c9c9"><div class="ttname"><a href="../../dd/d1d/SDL__thread_8h.html#a53e3a01ae268e3d75b1cd97bb6a6c9c9">SDL_SetCurrentThreadPriority</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_SetCurrentThreadPriority(SDL_ThreadPriority priority)</div><div class="ttdef"><b>Definition</b> SDL_thread.c:452</div></div>
<div class="ttc" id="aSDL__thread_8h_html_acce8dea56f6b307fadd2949b64e3ebdaaac5ff8423acdebf3b43c279b8ec2ae0d"><div class="ttname"><a href="../../dd/d1d/SDL__thread_8h.html#acce8dea56f6b307fadd2949b64e3ebdaaac5ff8423acdebf3b43c279b8ec2ae0d">SDL_THREAD_PRIORITY_HIGH</a></div><div class="ttdeci">@ SDL_THREAD_PRIORITY_HIGH</div><div class="ttdef"><b>Definition</b> SDL_thread.h:113</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../dd/d1d/SDL__thread_8h.html#a53e3a01ae268e3d75b1cd97bb6a6c9c9">SDL_SetCurrentThreadPriority()</a>, and <a class="el" href="../../dd/d1d/SDL__thread_8h.html#acce8dea56f6b307fadd2949b64e3ebdaaac5ff8423acdebf3b43c279b8ec2ae0d">SDL_THREAD_PRIORITY_HIGH</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a03e068ea12aee6918e95902871cb3523">CameraThread()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a5fabfda78c2d93fd14ce4f46af5e7b51_cgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a5fabfda78c2d93fd14ce4f46af5e7b51_icgraph.svg" width="520" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a3c15ae6704e2737e76ad92a7f9d0618b" name="a3c15ae6704e2737e76ad92a7f9d0618b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c15ae6704e2737e76ad92a7f9d0618b">&#9670;&#160;</a></span>SDL_CameraThreadShutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> SDL_CameraThreadShutdown </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  928</span>{</div>
<div class="line"><span class="lineno">  929</span>    <span class="comment">//device-&gt;FlushRecording(device);</span></div>
<div class="line"><span class="lineno">  930</span>    <span class="comment">//camera_driver.impl.ThreadDeinit(device);</span></div>
<div class="line"><span class="lineno">  931</span>    <span class="comment">//SDL_CameraThreadFinalize(device);</span></div>
<div class="line"><span class="lineno">  932</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#a03e068ea12aee6918e95902871cb3523">CameraThread()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a3c15ae6704e2737e76ad92a7f9d0618b_icgraph.svg" width="544" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a929af4fe2f26fcdb7090178c86535121" name="a929af4fe2f26fcdb7090178c86535121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a929af4fe2f26fcdb7090178c86535121">&#9670;&#160;</a></span>SDL_CloseCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> SDL_CloseCamera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>camera</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use this function to shut down camera processing and close the camera device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">camera</td><td>opened camera device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread, but no thread may reference <span class="tt">device</span> once this function is called.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  651</span>{</div>
<div class="line"><span class="lineno">  652</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = camera;  <span class="comment">// currently there&#39;s no separation between physical and logical device.</span></div>
<div class="line"><span class="lineno">  653</span>    <a class="code hl_function" href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera</a>(device);</div>
<div class="line"><span class="lineno">  654</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a929af4fe2f26fcdb7090178c86535121_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="adba84bc0b57d02c7e2aea48bd2202e72" name="adba84bc0b57d02c7e2aea48bd2202e72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba84bc0b57d02c7e2aea48bd2202e72">&#9670;&#160;</a></span>SDL_FindPhysicalCameraByCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> * SDL_FindPhysicalCameraByCallback </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>(*</td>          <td class="paramname"><span class="paramname"><em>callback&#160;</em></span>)(<a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device, <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *userdata), </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>userdata</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  631</span>{</div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="#aa02987079d7a46900e4580991dee903f">SDL_GetCurrentCameraDriver</a>()) {</div>
<div class="line"><span class="lineno">  633</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Camera subsystem is not initialized&quot;</span>);</div>
<div class="line"><span class="lineno">  634</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  635</span>    }</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>    <a class="code hl_struct" href="../../dd/db1/structFindOnePhysicalCameraByCallbackData.html">FindOnePhysicalCameraByCallbackData</a> <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a> = { callback, userdata, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> };</div>
<div class="line"><span class="lineno">  639</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  640</span>    <a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#a958815222e1e3a8c4fe6c74c2161a86c">SDL_IterateHashTable</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash, <a class="code hl_function" href="#a98d8522c86d27a0645a31cded1ba11b2">FindOnePhysicalCameraByCallback</a>, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>);</div>
<div class="line"><span class="lineno">  641</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    <span class="keywordflow">if</span> (!<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>.device) {</div>
<div class="line"><span class="lineno">  644</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Device not found&quot;</span>);</div>
<div class="line"><span class="lineno">  645</span>    }</div>
<div class="line"><span class="lineno">  646</span> </div>
<div class="line"><span class="lineno">  647</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>.device;</div>
<div class="line"><span class="lineno">  648</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_a98d8522c86d27a0645a31cded1ba11b2"><div class="ttname"><a href="#a98d8522c86d27a0645a31cded1ba11b2">FindOnePhysicalCameraByCallback</a></div><div class="ttdeci">static bool SDLCALL FindOnePhysicalCameraByCallback(void *userdata, const SDL_HashTable *table, const void *key, const void *value)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:618</div></div>
<div class="ttc" id="aSDL__hashtable_8c_html_a958815222e1e3a8c4fe6c74c2161a86c"><div class="ttname"><a href="../../dc/d3a/SDL__hashtable_8c.html#a958815222e1e3a8c4fe6c74c2161a86c">SDL_IterateHashTable</a></div><div class="ttdeci">bool SDL_IterateHashTable(const SDL_HashTable *table, SDL_HashTableIterateCallback callback, void *userdata)</div><div class="ttdef"><b>Definition</b> SDL_hashtable.c:385</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="#a98d8522c86d27a0645a31cded1ba11b2">FindOnePhysicalCameraByCallback()</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#aa02987079d7a46900e4580991dee903f">SDL_GetCurrentCameraDriver()</a>, <a class="el" href="../../dc/d3a/SDL__hashtable_8c.html#a958815222e1e3a8c4fe6c74c2161a86c">SDL_IterateHashTable()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, and <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_adba84bc0b57d02c7e2aea48bd2202e72_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ae46c1e9aabce1b542216f9fd36d06f05" name="ae46c1e9aabce1b542216f9fd36d06f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae46c1e9aabce1b542216f9fd36d06f05">&#9670;&#160;</a></span>SDL_GetCameraDriver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * SDL_GetCameraDriver </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>index</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use this function to get the name of a built in camera driver.</p>
<p>The list of camera drivers is given in the order that they are normally initialized by default; the drivers that seem more reasonable to choose first (as far as the SDL developers believe) are earlier in the list.</p>
<p>The names of drivers are all simple, low-ASCII identifiers, like "v4l2", "coremedia" or "android". These never have Unicode characters, and are not meant to be proper names.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>the index of the camera driver; the value ranges from 0 to <a class="el" href="../../da/d44/SDL__camera_8h.html#a36b43ae39bd73b5a94410959276dccd9">SDL_GetNumCameraDrivers()</a> - 1. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the name of the camera driver at the requested index, or NULL if an invalid index was specified.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a36b43ae39bd73b5a94410959276dccd9">SDL_GetNumCameraDrivers</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   71</span>{</div>
<div class="line"><span class="lineno">   72</span>    <span class="keywordflow">if</span> (index &gt;= 0 &amp;&amp; index &lt; <a class="code hl_function" href="#a725ebcc6a250f491975c68d2b8035a7f">SDL_GetNumCameraDrivers</a>()) {</div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>[index]-&gt;name;</div>
<div class="line"><span class="lineno">   74</span>    }</div>
<div class="line"><span class="lineno">   75</span>    <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;index&quot;</span>);</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">   77</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_a725ebcc6a250f491975c68d2b8035a7f"><div class="ttname"><a href="#a725ebcc6a250f491975c68d2b8035a7f">SDL_GetNumCameraDrivers</a></div><div class="ttdeci">int SDL_GetNumCameraDrivers(void)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:65</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#a725ebcc6a250f491975c68d2b8035a7f">SDL_GetNumCameraDrivers()</a>, and <a class="el" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ae46c1e9aabce1b542216f9fd36d06f05_cgraph.svg" width="407" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad07f724e49b2712b4393d71a88f9c9da" name="ad07f724e49b2712b4393d71a88f9c9da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad07f724e49b2712b4393d71a88f9c9da">&#9670;&#160;</a></span>SDL_GetCameraFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> SDL_GetCameraFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>camera</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *</td>          <td class="paramname"><span class="paramname"><em>spec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the spec that a camera is using when generating images.</p>
<p>Note that this might not be the native format of the hardware, as SDL might be converting to this format behind the scenes.</p>
<p>If the system is waiting for the user to approve access to the camera, as some platforms require, this will return false, but this isn't necessarily a fatal error; you should either wait for an SDL_EVENT_CAMERA_DEVICE_APPROVED (or SDL_EVENT_CAMERA_DEVICE_DENIED) event, or poll <a class="el" href="../../da/d44/SDL__camera_8h.html#aa3a7c5183c719169d7d05ffea375d188">SDL_GetCameraPermissionState()</a> occasionally until it returns non-zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">camera</td><td>opened camera device. </td></tr>
    <tr><td class="paramname">spec</td><td>the <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> to be initialized by this function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success or false on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  657</span>{</div>
<div class="line"><span class="lineno">  658</span>    <span class="keywordtype">bool</span> result;</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">if</span> (!camera) {</div>
<div class="line"><span class="lineno">  661</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;camera&quot;</span>);</div>
<div class="line"><span class="lineno">  662</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!spec) {</div>
<div class="line"><span class="lineno">  663</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;spec&quot;</span>);</div>
<div class="line"><span class="lineno">  664</span>    }</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = camera;  <span class="comment">// currently there&#39;s no separation between physical and logical device.</span></div>
<div class="line"><span class="lineno">  667</span>    <a class="code hl_function" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a>(device);</div>
<div class="line"><span class="lineno">  668</span>    <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">permission</a> &gt; 0) {</div>
<div class="line"><span class="lineno">  669</span>        <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aa20b552293de849b3c1c7576cb158e9e">SDL_copyp</a>(spec, &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3fc86d3302059f5e44d3932b12e6e05a">spec</a>);</div>
<div class="line"><span class="lineno">  670</span>        result = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  671</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  672</span>        <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a995406d407faf4cfa1ca9dd904672ab6">SDL_zerop</a>(spec);</div>
<div class="line"><span class="lineno">  673</span>        result = <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Camera permission has not been granted&quot;</span>);</div>
<div class="line"><span class="lineno">  674</span>    }</div>
<div class="line"><span class="lineno">  675</span>    <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  678</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">SDL_Camera::permission</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aa20b552293de849b3c1c7576cb158e9e">SDL_copyp</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a995406d407faf4cfa1ca9dd904672ab6">SDL_zerop</a>, and <a class="el" href="../../d0/d7e/structSDL__Camera.html#a3fc86d3302059f5e44d3932b12e6e05a">SDL_Camera::spec</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ad07f724e49b2712b4393d71a88f9c9da_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aabba86e97fffff0d55fae7efe2ecff94" name="aabba86e97fffff0d55fae7efe2ecff94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabba86e97fffff0d55fae7efe2ecff94">&#9670;&#160;</a></span>SDL_GetCameraID()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> SDL_GetCameraID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>camera</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the instance ID of an opened camera.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">camera</td><td>an <a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the instance ID of the specified camera on success or 0 on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1342</span>{</div>
<div class="line"><span class="lineno"> 1343</span>    <a class="code hl_typedef" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> result = 0;</div>
<div class="line"><span class="lineno"> 1344</span>    <span class="keywordflow">if</span> (!camera) {</div>
<div class="line"><span class="lineno"> 1345</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;camera&quot;</span>);</div>
<div class="line"><span class="lineno"> 1346</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1347</span>        <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = camera;  <span class="comment">// currently there&#39;s no separation between physical and logical device.</span></div>
<div class="line"><span class="lineno"> 1348</span>        <a class="code hl_function" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a>(device);</div>
<div class="line"><span class="lineno"> 1349</span>        result = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">instance_id</a>;</div>
<div class="line"><span class="lineno"> 1350</span>        <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1351</span>    }</div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1354</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">SDL_Camera::instance_id</a>, <a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj()</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, and <a class="el" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_aabba86e97fffff0d55fae7efe2ecff94_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a52e6a78e489760b12c2652f6fbb3e70e" name="a52e6a78e489760b12c2652f6fbb3e70e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52e6a78e489760b12c2652f6fbb3e70e">&#9670;&#160;</a></span>SDL_GetCameraName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * SDL_GetCameraName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a></td>          <td class="paramname"><span class="paramname"><em>instance_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the human-readable device name for a camera.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance_id</td><td>the camera device instance ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a human-readable device name or NULL on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a2a8924a9526ff35d0826df2c15f14dbd">SDL_GetCameras</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  681</span>{</div>
<div class="line"><span class="lineno">  682</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *result = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  683</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = <a class="code hl_function" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera</a>(instance_id);</div>
<div class="line"><span class="lineno">  684</span>    <span class="keywordflow">if</span> (device) {</div>
<div class="line"><span class="lineno">  685</span>        result = <a class="code hl_function" href="../../d5/d57/SDL__utils_8c.html#a219a3b5cd772c72e5d54db85da8def99">SDL_GetPersistentString</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">name</a>);</div>
<div class="line"><span class="lineno">  686</span>        <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno">  687</span>    }</div>
<div class="line"><span class="lineno">  688</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  689</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_ad3a8df31f50f2edcc09c5d7acbae12f0"><div class="ttname"><a href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera</a></div><div class="ttdeci">static SDL_Camera * ObtainPhysicalCamera(SDL_CameraID devid)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:311</div></div>
<div class="ttc" id="aSDL__utils_8c_html_a219a3b5cd772c72e5d54db85da8def99"><div class="ttname"><a href="../../d5/d57/SDL__utils_8c.html#a219a3b5cd772c72e5d54db85da8def99">SDL_GetPersistentString</a></div><div class="ttdeci">const char * SDL_GetPersistentString(const char *string)</div><div class="ttdef"><b>Definition</b> SDL_utils.c:370</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#a26f6afde6c2e8e123e301ce97529e979">SDL_Camera::name</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera()</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, and <a class="el" href="../../d5/d57/SDL__utils_8c.html#a219a3b5cd772c72e5d54db85da8def99">SDL_GetPersistentString()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a52e6a78e489760b12c2652f6fbb3e70e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac15e9525ddbbd34f7b1335bcfb678751" name="ac15e9525ddbbd34f7b1335bcfb678751"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac15e9525ddbbd34f7b1335bcfb678751">&#9670;&#160;</a></span>SDL_GetCameraPermissionState()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SDL_GetCameraPermissionState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>camera</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Query if camera access has been approved by the user.</p>
<p>Cameras will not function between when the device is opened by the app and when the user permits access to the hardware. On some platforms, this presents as a popup dialog where the user has to explicitly approve access; on others the approval might be implicit and not alert the user at all.</p>
<p>This function can be used to check the status of that approval. It will return 0 if still waiting for user response, 1 if the camera is approved for use, and -1 if the user denied access.</p>
<p>Instead of polling with this function, you can wait for a SDL_EVENT_CAMERA_DEVICE_APPROVED (or SDL_EVENT_CAMERA_DEVICE_DENIED) event in the standard SDL event loop, which is guaranteed to be sent once when permission to use the camera is decided.</p>
<p>If a camera is declined, there's nothing to be done but call <a class="el" href="../../da/d44/SDL__camera_8h.html#a6893c9a68a380345101b729a654a9243">SDL_CloseCamera()</a> to dispose of it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">camera</td><td>the opened camera device to query. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 if user denied access to the camera, 1 if user approved access, 0 if no decision has been made yet.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera</a> </dd>
<dd>
<a class="el" href="../../da/d44/SDL__camera_8h.html#a6893c9a68a380345101b729a654a9243">SDL_CloseCamera</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1375</span>{</div>
<div class="line"><span class="lineno"> 1376</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 1377</span>    <span class="keywordflow">if</span> (!camera) {</div>
<div class="line"><span class="lineno"> 1378</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;camera&quot;</span>);</div>
<div class="line"><span class="lineno"> 1379</span>        result = -1;</div>
<div class="line"><span class="lineno"> 1380</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1381</span>        <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = camera;  <span class="comment">// currently there&#39;s no separation between physical and logical device.</span></div>
<div class="line"><span class="lineno"> 1382</span>        <a class="code hl_function" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a>(device);</div>
<div class="line"><span class="lineno"> 1383</span>        result = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">permission</a>;</div>
<div class="line"><span class="lineno"> 1384</span>        <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1385</span>    }</div>
<div class="line"><span class="lineno"> 1386</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1387</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#af71d497b41b45dc8ce218a71a1ee039f">SDL_Camera::permission</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, and <a class="el" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ac15e9525ddbbd34f7b1335bcfb678751_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a5af1812f716601276da09d886ac6af8b" name="a5af1812f716601276da09d886ac6af8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5af1812f716601276da09d886ac6af8b">&#9670;&#160;</a></span>SDL_GetCameraPosition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccd">SDL_CameraPosition</a> SDL_GetCameraPosition </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a></td>          <td class="paramname"><span class="paramname"><em>instance_id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the position of the camera in relation to the system.</p>
<p>Most platforms will report UNKNOWN, but mobile devices, like phones, can often make a distinction between cameras on the front of the device (that points towards the user, for taking "selfies") and cameras on the back (for filming in the direction the user is facing).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance_id</td><td>the camera device instance ID. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the position of the camera on the system hardware.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a2a8924a9526ff35d0826df2c15f14dbd">SDL_GetCameras</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  692</span>{</div>
<div class="line"><span class="lineno">  693</span>    <a class="code hl_enumeration" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccd">SDL_CameraPosition</a> result = <a class="code hl_enumvalue" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccda492c1053168127432448ffd6d970014f">SDL_CAMERA_POSITION_UNKNOWN</a>;</div>
<div class="line"><span class="lineno">  694</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = <a class="code hl_function" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera</a>(instance_id);</div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordflow">if</span> (device) {</div>
<div class="line"><span class="lineno">  696</span>        result = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf0a3dc6ad4ce9840590b34db0b4332b">position</a>;</div>
<div class="line"><span class="lineno">  697</span>        <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno">  698</span>    }</div>
<div class="line"><span class="lineno">  699</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  700</span>}</div>
<div class="ttc" id="aSDL__camera_8h_html_a0bf08ee981166ec991bf2eb6a3bb1ccd"><div class="ttname"><a href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccd">SDL_CameraPosition</a></div><div class="ttdeci">SDL_CameraPosition</div><div class="ttdef"><b>Definition</b> SDL_camera.h:133</div></div>
<div class="ttc" id="aSDL__camera_8h_html_a0bf08ee981166ec991bf2eb6a3bb1ccda492c1053168127432448ffd6d970014f"><div class="ttname"><a href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccda492c1053168127432448ffd6d970014f">SDL_CAMERA_POSITION_UNKNOWN</a></div><div class="ttdeci">@ SDL_CAMERA_POSITION_UNKNOWN</div><div class="ttdef"><b>Definition</b> SDL_camera.h:134</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#adf0a3dc6ad4ce9840590b34db0b4332b">SDL_Camera::position</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, and <a class="el" href="../../da/d44/SDL__camera_8h.html#a0bf08ee981166ec991bf2eb6a3bb1ccda492c1053168127432448ffd6d970014f">SDL_CAMERA_POSITION_UNKNOWN</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a5af1812f716601276da09d886ac6af8b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aac8ec527b1a4e4c41b376f7fff527b72" name="aac8ec527b1a4e4c41b376f7fff527b72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac8ec527b1a4e4c41b376f7fff527b72">&#9670;&#160;</a></span>SDL_GetCameraProperties()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d40/SDL__properties_8h.html#a4e582827c1502da505ab48cc3c1a685e">SDL_PropertiesID</a> SDL_GetCameraProperties </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>camera</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the properties associated with an opened camera.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">camera</td><td>the <a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> obtained from <a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera()</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a valid property ID on success or 0 on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1357</span>{</div>
<div class="line"><span class="lineno"> 1358</span>    <a class="code hl_typedef" href="../../d6/d40/SDL__properties_8h.html#a4e582827c1502da505ab48cc3c1a685e">SDL_PropertiesID</a> result = 0;</div>
<div class="line"><span class="lineno"> 1359</span>    <span class="keywordflow">if</span> (!camera) {</div>
<div class="line"><span class="lineno"> 1360</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;camera&quot;</span>);</div>
<div class="line"><span class="lineno"> 1361</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1362</span>        <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = camera;  <span class="comment">// currently there&#39;s no separation between physical and logical device.</span></div>
<div class="line"><span class="lineno"> 1363</span>        <a class="code hl_function" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a>(device);</div>
<div class="line"><span class="lineno"> 1364</span>        <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a2a9c10d990c0c990686fc3b00e14c71f">props</a> == 0) {</div>
<div class="line"><span class="lineno"> 1365</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a2a9c10d990c0c990686fc3b00e14c71f">props</a> = <a class="code hl_function" href="../../d6/d40/SDL__properties_8h.html#a3879ae5bd4727e826dadcf289263f929">SDL_CreateProperties</a>();</div>
<div class="line"><span class="lineno"> 1366</span>        }</div>
<div class="line"><span class="lineno"> 1367</span>        result = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a2a9c10d990c0c990686fc3b00e14c71f">props</a>;</div>
<div class="line"><span class="lineno"> 1368</span>        <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1369</span>    }</div>
<div class="line"><span class="lineno"> 1370</span> </div>
<div class="line"><span class="lineno"> 1371</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1372</span>}</div>
<div class="ttc" id="aSDL__properties_8h_html_a3879ae5bd4727e826dadcf289263f929"><div class="ttname"><a href="../../d6/d40/SDL__properties_8h.html#a3879ae5bd4727e826dadcf289263f929">SDL_CreateProperties</a></div><div class="ttdeci">SDL_DECLSPEC SDL_PropertiesID SDLCALL SDL_CreateProperties(void)</div><div class="ttdef"><b>Definition</b> SDL_properties.c:156</div></div>
<div class="ttc" id="aSDL__properties_8h_html_a4e582827c1502da505ab48cc3c1a685e"><div class="ttname"><a href="../../d6/d40/SDL__properties_8h.html#a4e582827c1502da505ab48cc3c1a685e">SDL_PropertiesID</a></div><div class="ttdeci">Uint32 SDL_PropertiesID</div><div class="ttdef"><b>Definition</b> SDL_properties.h:66</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a2a9c10d990c0c990686fc3b00e14c71f">SDL_Camera::props</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, <a class="el" href="../../d6/d40/SDL__properties_8h.html#a3879ae5bd4727e826dadcf289263f929">SDL_CreateProperties()</a>, and <a class="el" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_aac8ec527b1a4e4c41b376f7fff527b72_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aedc4ec75d9d6168e900bb424ef338a3d" name="aedc4ec75d9d6168e900bb424ef338a3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedc4ec75d9d6168e900bb424ef338a3d">&#9670;&#160;</a></span>SDL_GetCameras()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> * SDL_GetCameras </td>
          <td>(</td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>count</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get a list of currently connected camera devices.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">count</td><td>a pointer filled in with the number of cameras returned, may be NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a 0 terminated array of camera instance IDs or NULL on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information. This should be freed with <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a> when it is no longer needed.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  717</span>{</div>
<div class="line"><span class="lineno">  718</span>    <span class="keywordtype">int</span> dummy_count;</div>
<div class="line"><span class="lineno">  719</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a>) {</div>
<div class="line"><span class="lineno">  720</span>        <a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a> = &amp;dummy_count;</div>
<div class="line"><span class="lineno">  721</span>    }</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="#aa02987079d7a46900e4580991dee903f">SDL_GetCurrentCameraDriver</a>()) {</div>
<div class="line"><span class="lineno">  724</span>        *<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a> = 0;</div>
<div class="line"><span class="lineno">  725</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Camera subsystem is not initialized&quot;</span>);</div>
<div class="line"><span class="lineno">  726</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  727</span>    }</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>    <a class="code hl_typedef" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> *result = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  732</span>    <span class="keywordtype">int</span> <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a4ca797a552d55c935ab3b4a78a54d186">num_devices</a> = <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt</a>(&amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_count);</div>
<div class="line"><span class="lineno">  733</span>    result = (<a class="code hl_typedef" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a> *) <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc</a>((<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a4ca797a552d55c935ab3b4a78a54d186">num_devices</a> + 1) * <span class="keyword">sizeof</span> (<a class="code hl_typedef" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a>));</div>
<div class="line"><span class="lineno">  734</span>    <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  735</span>        <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a4ca797a552d55c935ab3b4a78a54d186">num_devices</a> = 0;</div>
<div class="line"><span class="lineno">  736</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  737</span>        <a class="code hl_struct" href="../../d9/daf/structGetOneCameraData.html">GetOneCameraData</a> <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a> = { result, 0 };</div>
<div class="line"><span class="lineno">  738</span>        <a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#a958815222e1e3a8c4fe6c74c2161a86c">SDL_IterateHashTable</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash, <a class="code hl_function" href="#a3c8dfa75ac9e8c49d95996ac1f1d5a3f">GetOneCamera</a>, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>);</div>
<div class="line"><span class="lineno">  739</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#ad3adec4e83a401f92227746238ff0fd0">data</a>.devs_seen == <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a4ca797a552d55c935ab3b4a78a54d186">num_devices</a>);</div>
<div class="line"><span class="lineno">  740</span>        result[<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a4ca797a552d55c935ab3b4a78a54d186">num_devices</a>] = 0;  <span class="comment">// null-terminated.</span></div>
<div class="line"><span class="lineno">  741</span>    }</div>
<div class="line"><span class="lineno">  742</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>    *<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a> = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a4ca797a552d55c935ab3b4a78a54d186">num_devices</a>;</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  747</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_a3c8dfa75ac9e8c49d95996ac1f1d5a3f"><div class="ttname"><a href="#a3c8dfa75ac9e8c49d95996ac1f1d5a3f">GetOneCamera</a></div><div class="ttdeci">static bool SDLCALL GetOneCamera(void *userdata, const SDL_HashTable *table, const void *key, const void *value)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:709</div></div>
<div class="ttc" id="aSDL__events_8c_html_aaf054fc8fc84e7cfea3af51947014ef3"><div class="ttname"><a href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a></div><div class="ttdeci">SDL_AtomicInt count</div><div class="ttdef"><b>Definition</b> SDL_events.c:142</div></div>
<div class="ttc" id="aeglext_8h_html_a4ca797a552d55c935ab3b4a78a54d186"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a4ca797a552d55c935ab3b4a78a54d186">num_devices</a></div><div class="ttdeci">EGLDeviceEXT EGLint * num_devices</div><div class="ttdef"><b>Definition</b> eglext.h:675</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a>, <a class="el" href="#a3c8dfa75ac9e8c49d95996ac1f1d5a3f">GetOneCamera()</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt()</a>, <a class="el" href="#aa02987079d7a46900e4580991dee903f">SDL_GetCurrentCameraDriver()</a>, <a class="el" href="../../dc/d3a/SDL__hashtable_8c.html#a958815222e1e3a8c4fe6c74c2161a86c">SDL_IterateHashTable()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, and <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_aedc4ec75d9d6168e900bb424ef338a3d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac0d4f13cf5999309fef70689c342fdfa" name="ac0d4f13cf5999309fef70689c342fdfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0d4f13cf5999309fef70689c342fdfa">&#9670;&#160;</a></span>SDL_GetCameraSupportedFormats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> ** SDL_GetCameraSupportedFormats </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a></td>          <td class="paramname"><span class="paramname"><em>instance_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *</td>          <td class="paramname"><span class="paramname"><em>count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the list of native formats/sizes a camera supports.</p>
<p>This returns a list of all formats and frame sizes that a specific camera can offer. This is useful if your app can accept a variety of image formats and sizes and so want to find the optimal spec that doesn't require conversion.</p>
<p>This function isn't strictly required; if you call SDL_OpenCamera with a NULL spec, SDL will choose a native format for you, and if you instead specify a desired format, it will transparently convert to the requested format on your behalf.</p>
<p>If <span class="tt">count</span> is not NULL, it will be filled with the number of elements in the returned array.</p>
<p>Note that it's legal for a camera to supply an empty list. This is what will happen on Emscripten builds, since that platform won't tell <em>anything</em> about available cameras until you've opened one, and won't even tell if there <em>is</em> a camera until the user has given you permission to check through a scary warning popup.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance_id</td><td>the camera device instance ID. </td></tr>
    <tr><td class="paramname">count</td><td>a pointer filled in with the number of elements in the list, may be NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a NULL terminated array of pointers to <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> or NULL on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information. This is a single allocation that should be freed with <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a> when it is no longer needed.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a2a8924a9526ff35d0826df2c15f14dbd">SDL_GetCameras</a> </dd>
<dd>
<a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  750</span>{</div>
<div class="line"><span class="lineno">  751</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a>) {</div>
<div class="line"><span class="lineno">  752</span>        *<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a> = 0;</div>
<div class="line"><span class="lineno">  753</span>    }</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = <a class="code hl_function" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera</a>(instance_id);</div>
<div class="line"><span class="lineno">  756</span>    <span class="keywordflow">if</span> (!device) {</div>
<div class="line"><span class="lineno">  757</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  758</span>    }</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>    <span class="keywordtype">int</span> i;</div>
<div class="line"><span class="lineno">  761</span>    <span class="keywordtype">int</span> num_specs = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a060be6f6bf611c9c34fc40b86a9648c6">num_specs</a>;</div>
<div class="line"><span class="lineno">  762</span>    <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> **result = (<a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> **) <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc</a>(((num_specs + 1) * <span class="keyword">sizeof</span>(*result)) + (num_specs * <span class="keyword">sizeof</span> (**result)));</div>
<div class="line"><span class="lineno">  763</span>    <span class="keywordflow">if</span> (result) {</div>
<div class="line"><span class="lineno">  764</span>        <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *specs = (<a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *)(result + (num_specs + 1));</div>
<div class="line"><span class="lineno">  765</span>        <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#ac9bf6bdf657be6d6c13eb1faf2ef9f4b">SDL_memcpy</a>(specs, device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">all_specs</a>, num_specs * <span class="keyword">sizeof</span>(*specs));</div>
<div class="line"><span class="lineno">  766</span>        <span class="keywordflow">for</span> (i = 0; i &lt; num_specs; ++i) {</div>
<div class="line"><span class="lineno">  767</span>            result[i] = specs++;</div>
<div class="line"><span class="lineno">  768</span>        }</div>
<div class="line"><span class="lineno">  769</span>        result[i] = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a>) {</div>
<div class="line"><span class="lineno">  772</span>            *<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a> = num_specs;</div>
<div class="line"><span class="lineno">  773</span>        }</div>
<div class="line"><span class="lineno">  774</span>    }</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>    <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  779</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#a16c481fddf6faae81e7a6d1a6be883cf">SDL_Camera::all_specs</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a060be6f6bf611c9c34fc40b86a9648c6">SDL_Camera::num_specs</a>, <a class="el" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera()</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc()</a>, and <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ac9bf6bdf657be6d6c13eb1faf2ef9f4b">SDL_memcpy</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ac0d4f13cf5999309fef70689c342fdfa_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a72f927d66365b876fd54a7b3ae91e14e" name="a72f927d66365b876fd54a7b3ae91e14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72f927d66365b876fd54a7b3ae91e14e">&#9670;&#160;</a></span>SDL_GetCameraThreadName()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * SDL_GetCameraThreadName </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>buflen</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   85</span>{</div>
<div class="line"><span class="lineno">   86</span>    (<a class="code hl_function" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a5056fbcb8d3d77a21e67c9687f889b40">SDL_snprintf</a>(buf, buflen, <span class="stringliteral">&quot;SDLCamera%d&quot;</span>, (<span class="keywordtype">int</span>) device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">instance_id</a>);</div>
<div class="line"><span class="lineno">   87</span>    <span class="keywordflow">return</span> buf;</div>
<div class="line"><span class="lineno">   88</span>}</div>
<div class="ttc" id="aSDL__stdinc_8h_html_a5056fbcb8d3d77a21e67c9687f889b40"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a5056fbcb8d3d77a21e67c9687f889b40">SDL_snprintf</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_snprintf(char *text, size_t maxlen, const char *fmt,...)</div></div>
<div class="ttc" id="aeglext_8h_html_a0f7193911e632cd84da4082d5c628fe3"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></div><div class="ttdeci">typedef void(EGLAPIENTRYP PFNEGLSETBLOBCACHEFUNCSANDROIDPROC)(EGLDisplay dpy</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">SDL_Camera::instance_id</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a5056fbcb8d3d77a21e67c9687f889b40">SDL_snprintf()</a>, and <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a72f927d66365b876fd54a7b3ae91e14e_cgraph.svg" width="352" height="112"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a72f927d66365b876fd54a7b3ae91e14e_icgraph.svg" width="387" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa02987079d7a46900e4580991dee903f" name="aa02987079d7a46900e4580991dee903f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa02987079d7a46900e4580991dee903f">&#9670;&#160;</a></span>SDL_GetCurrentCameraDriver()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * SDL_GetCurrentCameraDriver </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the name of the current camera driver.</p>
<p>The names of drivers are all simple, low-ASCII identifiers, like "v4l2", "coremedia" or "android". These never have Unicode characters, and are not meant to be proper names.</p>
<dl class="section return"><dt>Returns</dt><dd>the name of the current camera driver or NULL if no driver has been initialized.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0. </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   80</span>{</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.name;</div>
<div class="line"><span class="lineno">   82</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera()</a>, <a class="el" href="#a1c95febe36642a6bee0885f1078c6cc2">SDL_CameraInit()</a>, <a class="el" href="#adba84bc0b57d02c7e2aea48bd2202e72">SDL_FindPhysicalCameraByCallback()</a>, and <a class="el" href="../../da/d44/SDL__camera_8h.html#a2a8924a9526ff35d0826df2c15f14dbd">SDL_GetCameras()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_aa02987079d7a46900e4580991dee903f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a725ebcc6a250f491975c68d2b8035a7f" name="a725ebcc6a250f491975c68d2b8035a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a725ebcc6a250f491975c68d2b8035a7f">&#9670;&#160;</a></span>SDL_GetNumCameraDrivers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int SDL_GetNumCameraDrivers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Use this function to get the number of built-in camera drivers.</p>
<p>This function returns a hardcoded number. This never returns a negative value; if there are no drivers compiled into this build of SDL, this function returns zero. The presence of a driver in this list does not mean it will function, it just means SDL is capable of interacting with that interface. For example, a build of SDL might have v4l2 support, but if there's no kernel support available, SDL's v4l2 driver would fail if used.</p>
<p>By default, SDL tries all drivers, in its preferred order, until one is found to be usable.</p>
<dl class="section return"><dt>Returns</dt><dd>the number of built-in camera drivers.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a99e7c9089fcae00f52a16da102360597">SDL_GetCameraDriver</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   66</span>{</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a>(<a class="code hl_variable" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>) - 1;</div>
<div class="line"><span class="lineno">   68</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d6/d9b/SDL__audio_8c.html#ac42f6bc6906ceedce47583e654398491">bootstrap</a>, and <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d44/SDL__camera_8h.html#a99e7c9089fcae00f52a16da102360597">SDL_GetCameraDriver()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a725ebcc6a250f491975c68d2b8035a7f_icgraph.svg" width="407" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a52469fec975f103f2456d9e03a868fba" name="a52469fec975f103f2456d9e03a868fba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52469fec975f103f2456d9e03a868fba">&#9670;&#160;</a></span>SDL_OpenCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> * SDL_OpenCamera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d44/SDL__camera_8h.html#a626c2c2889444c769280993edf2d2b20">SDL_CameraID</a></td>          <td class="paramname"><span class="paramname"><em>instance_id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *</td>          <td class="paramname"><span class="paramname"><em>spec</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Open a video recording device (a "camera").</p>
<p>You can open the device with any reasonable spec, and if the hardware can't directly support it, it will convert data seamlessly to the requested format. This might incur overhead, including scaling of image data.</p>
<p>If you would rather accept whatever format the device offers, you can pass a NULL spec here and it will choose one for you (and you can use <a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a>'s conversion/scaling functions directly if necessary).</p>
<p>You can call <a class="el" href="../../da/d44/SDL__camera_8h.html#a129d56b60801431e293d9ffc47cddbc1">SDL_GetCameraFormat()</a> to get the actual data format if passing a NULL spec here. You can see the exact specs a device can support without conversion with <a class="el" href="../../da/d44/SDL__camera_8h.html#a8625e37c2fd02e28d5a7523ae437507e">SDL_GetCameraSupportedFormats()</a>.</p>
<p>SDL will not attempt to emulate framerate; it will try to set the hardware to the rate closest to the requested speed, but it won't attempt to limit or duplicate frames artificially; call <a class="el" href="../../da/d44/SDL__camera_8h.html#a129d56b60801431e293d9ffc47cddbc1">SDL_GetCameraFormat()</a> to see the actual framerate of the opened the device, and check your timestamps if this is crucial to your app!</p>
<p>Note that the camera is not usable until the user approves its use! On some platforms, the operating system will prompt the user to permit access to the camera, and they can choose Yes or No at that point. Until they do, the camera will not be usable. The app should either wait for an SDL_EVENT_CAMERA_DEVICE_APPROVED (or SDL_EVENT_CAMERA_DEVICE_DENIED) event, or poll <a class="el" href="../../da/d44/SDL__camera_8h.html#aa3a7c5183c719169d7d05ffea375d188">SDL_GetCameraPermissionState()</a> occasionally until it returns non-zero. On platforms that don't require explicit user approval (and perhaps in places where the user previously permitted access), the approval event might come immediately, but it might come seconds, minutes, or hours later!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance_id</td><td>the camera device instance ID. </td></tr>
    <tr><td class="paramname">spec</td><td>the desired format for data the device will provide. Can be NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>an <a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> object or NULL on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a2a8924a9526ff35d0826df2c15f14dbd">SDL_GetCameras</a> </dd>
<dd>
<a class="el" href="../../da/d44/SDL__camera_8h.html#a129d56b60801431e293d9ffc47cddbc1">SDL_GetCameraFormat</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1183</span>{</div>
<div class="line"><span class="lineno"> 1184</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = <a class="code hl_function" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera</a>(instance_id);</div>
<div class="line"><span class="lineno"> 1185</span>    <span class="keywordflow">if</span> (!device) {</div>
<div class="line"><span class="lineno"> 1186</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1187</span>    }</div>
<div class="line"><span class="lineno"> 1188</span> </div>
<div class="line"><span class="lineno"> 1189</span>    <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf1a6fa0b89161fc68d1ac8ddb8daba9">hidden</a> != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><span class="lineno"> 1190</span>        <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1191</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Camera already opened&quot;</span>);  <span class="comment">// we may remove this limitation at some point.</span></div>
<div class="line"><span class="lineno"> 1192</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1193</span>    }</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>    <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">shutdown</a>, 0);</div>
<div class="line"><span class="lineno"> 1196</span> </div>
<div class="line"><span class="lineno"> 1197</span>    <span class="comment">// These start with the backend&#39;s implementation, but we might swap them out with zombie versions later.</span></div>
<div class="line"><span class="lineno"> 1198</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a8b66a1e1e52fff272129ef3306d2c1ca">WaitDevice</a> = <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.WaitDevice;</div>
<div class="line"><span class="lineno"> 1199</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae7f1792d7559b5b53defbe0414b519d9">AcquireFrame</a> = <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.AcquireFrame;</div>
<div class="line"><span class="lineno"> 1200</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">ReleaseFrame</a> = <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.ReleaseFrame;</div>
<div class="line"><span class="lineno"> 1201</span> </div>
<div class="line"><span class="lineno"> 1202</span>    <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> closest;</div>
<div class="line"><span class="lineno"> 1203</span>    <a class="code hl_function" href="#a772c13b82642ecd50db4f34abe014c50">ChooseBestCameraSpec</a>(device, spec, &amp;closest);</div>
<div class="line"><span class="lineno"> 1204</span> </div>
<div class="line"><span class="lineno"> 1205</span><span class="preprocessor">    #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno"> 1206</span>    <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: App wanted [(%dx%d) fmt=%s framerate=%d/%d], chose [(%dx%d) fmt=%s framerate=%d/%d]&quot;</span>,</div>
<div class="line"><span class="lineno"> 1207</span>            spec ? spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> : -1, spec ? spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> : -1, spec ? <a class="code hl_function" href="../../d9/d3f/SDL__pixels_8h.html#a7ad3a8a851db0fce6b38af3b943ede8a">SDL_GetPixelFormatName</a>(spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>) : <span class="stringliteral">&quot;(null)&quot;</span>, spec ? spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> : -1, spec ? spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a> : -1,</div>
<div class="line"><span class="lineno"> 1208</span>            closest.<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>, closest.<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>, <a class="code hl_function" href="../../d9/d3f/SDL__pixels_8h.html#a7ad3a8a851db0fce6b38af3b943ede8a">SDL_GetPixelFormatName</a>(closest.<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>), closest.<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a>, closest.<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a>);</div>
<div class="line"><span class="lineno"> 1209</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.OpenDevice(device, &amp;closest)) {</div>
<div class="line"><span class="lineno"> 1212</span>        <a class="code hl_function" href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera</a>(device);  <span class="comment">// in case anything is half-initialized.</span></div>
<div class="line"><span class="lineno"> 1213</span>        <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1214</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1215</span>    }</div>
<div class="line"><span class="lineno"> 1216</span> </div>
<div class="line"><span class="lineno"> 1217</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aa20b552293de849b3c1c7576cb158e9e">SDL_copyp</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3fc86d3302059f5e44d3932b12e6e05a">spec</a>, spec ? spec : &amp;closest);</div>
<div class="line"><span class="lineno"> 1218</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aa20b552293de849b3c1c7576cb158e9e">SDL_copyp</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">actual_spec</a>, &amp;closest);</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>    <span class="comment">// SDL_PIXELFORMAT_UNKNOWN here is taken as a signal that the backend</span></div>
<div class="line"><span class="lineno"> 1221</span>    <span class="comment">//  doesn&#39;t know its format yet (Emscripten waiting for user permission,</span></div>
<div class="line"><span class="lineno"> 1222</span>    <span class="comment">//  in this case), and the backend will call SDL_PrepareCameraSurfaces()</span></div>
<div class="line"><span class="lineno"> 1223</span>    <span class="comment">//  itself, later but before the app is allowed to acquire images.</span></div>
<div class="line"><span class="lineno"> 1224</span>    <span class="keywordflow">if</span> (closest.<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> != <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>) {</div>
<div class="line"><span class="lineno"> 1225</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a9827f6dc8f7b2ba442714446aea1e522">SDL_PrepareCameraSurfaces</a>(device)) {</div>
<div class="line"><span class="lineno"> 1226</span>            <a class="code hl_function" href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1227</span>            <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1228</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1229</span>        }</div>
<div class="line"><span class="lineno"> 1230</span>    }</div>
<div class="line"><span class="lineno"> 1231</span> </div>
<div class="line"><span class="lineno"> 1232</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a62392ea693421a0903d839eaa0c8cb06">drop_frames</a> = 1;</div>
<div class="line"><span class="lineno"> 1233</span> </div>
<div class="line"><span class="lineno"> 1234</span>    <span class="comment">// Start the camera thread if necessary</span></div>
<div class="line"><span class="lineno"> 1235</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.ProvidesOwnCallbackThread) {</div>
<div class="line"><span class="lineno"> 1236</span>        <span class="keywordtype">char</span> threadname[64];</div>
<div class="line"><span class="lineno"> 1237</span>        <a class="code hl_function" href="#a72f927d66365b876fd54a7b3ae91e14e">SDL_GetCameraThreadName</a>(device, threadname, <span class="keyword">sizeof</span> (threadname));</div>
<div class="line"><span class="lineno"> 1238</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a18b95b347a1ac5c4666a1fd457ddc110">thread</a> = <a class="code hl_define" href="../../dd/d1d/SDL__thread_8h.html#a57d4261df83645e4fffc63cf0dfba182">SDL_CreateThread</a>(<a class="code hl_function" href="#a03e068ea12aee6918e95902871cb3523">CameraThread</a>, threadname, device);</div>
<div class="line"><span class="lineno"> 1239</span>        <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a18b95b347a1ac5c4666a1fd457ddc110">thread</a>) {</div>
<div class="line"><span class="lineno"> 1240</span>            <a class="code hl_function" href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1241</span>            <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1242</span>            <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Couldn&#39;t create camera thread&quot;</span>);</div>
<div class="line"><span class="lineno"> 1243</span>            <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1244</span>        }</div>
<div class="line"><span class="lineno"> 1245</span>    }</div>
<div class="line"><span class="lineno"> 1246</span> </div>
<div class="line"><span class="lineno"> 1247</span>    <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);  <span class="comment">// unlock, we&#39;re good to go!</span></div>
<div class="line"><span class="lineno"> 1248</span> </div>
<div class="line"><span class="lineno"> 1249</span>    <span class="keywordflow">return</span> device;  <span class="comment">// currently there&#39;s no separation between physical and logical device.</span></div>
<div class="line"><span class="lineno"> 1250</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_a03e068ea12aee6918e95902871cb3523"><div class="ttname"><a href="#a03e068ea12aee6918e95902871cb3523">CameraThread</a></div><div class="ttdeci">static int SDLCALL CameraThread(void *devicep)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:935</div></div>
<div class="ttc" id="aSDL__camera_8c_html_a72f927d66365b876fd54a7b3ae91e14e"><div class="ttname"><a href="#a72f927d66365b876fd54a7b3ae91e14e">SDL_GetCameraThreadName</a></div><div class="ttdeci">char * SDL_GetCameraThreadName(SDL_Camera *device, char *buf, size_t buflen)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:84</div></div>
<div class="ttc" id="aSDL__camera_8c_html_a772c13b82642ecd50db4f34abe014c50"><div class="ttname"><a href="#a772c13b82642ecd50db4f34abe014c50">ChooseBestCameraSpec</a></div><div class="ttdeci">static void ChooseBestCameraSpec(SDL_Camera *device, const SDL_CameraSpec *spec, SDL_CameraSpec *closest)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:1065</div></div>
<div class="ttc" id="aSDL__camera_8c_html_a9827f6dc8f7b2ba442714446aea1e522"><div class="ttname"><a href="#a9827f6dc8f7b2ba442714446aea1e522">SDL_PrepareCameraSurfaces</a></div><div class="ttdeci">bool SDL_PrepareCameraSurfaces(SDL_Camera *device)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:961</div></div>
<div class="ttc" id="aSDL__thread_8h_html_a57d4261df83645e4fffc63cf0dfba182"><div class="ttname"><a href="../../dd/d1d/SDL__thread_8h.html#a57d4261df83645e4fffc63cf0dfba182">SDL_CreateThread</a></div><div class="ttdeci">#define SDL_CreateThread(fn, name, data)</div><div class="ttdef"><b>Definition</b> SDL_thread.h:349</div></div>
<div class="ttc" id="astructSDL__Camera_html_abfa5606b1f96f5f7228cd3dd6ac32944"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">SDL_Camera::actual_spec</a></div><div class="ttdeci">SDL_CameraSpec actual_spec</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:112</div></div>
<div class="ttc" id="astructSDL__Camera_html_adf1a6fa0b89161fc68d1ac8ddb8daba9"><div class="ttname"><a href="../../d0/d7e/structSDL__Camera.html#adf1a6fa0b89161fc68d1ac8ddb8daba9">SDL_Camera::hidden</a></div><div class="ttdeci">struct SDL_PrivateCameraData * hidden</div><div class="ttdef"><b>Definition</b> SDL_syscamera.h:167</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#ae7f1792d7559b5b53defbe0414b519d9">SDL_Camera::AcquireFrame</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">SDL_Camera::actual_spec</a>, <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="#a03e068ea12aee6918e95902871cb3523">CameraThread()</a>, <a class="el" href="#a772c13b82642ecd50db4f34abe014c50">ChooseBestCameraSpec()</a>, <a class="el" href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a62392ea693421a0903d839eaa0c8cb06">SDL_Camera::drop_frames</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">SDL_CameraSpec::format</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">SDL_CameraSpec::framerate_denominator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">SDL_CameraSpec::framerate_numerator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">SDL_CameraSpec::height</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#adf1a6fa0b89161fc68d1ac8ddb8daba9">SDL_Camera::hidden</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera()</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">SDL_Camera::ReleaseFrame</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aa20b552293de849b3c1c7576cb158e9e">SDL_copyp</a>, <a class="el" href="../../dd/d1d/SDL__thread_8h.html#a57d4261df83645e4fffc63cf0dfba182">SDL_CreateThread</a>, <a class="el" href="#a72f927d66365b876fd54a7b3ae91e14e">SDL_GetCameraThreadName()</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#a7ad3a8a851db0fce6b38af3b943ede8a">SDL_GetPixelFormatName()</a>, <a class="el" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log()</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>, <a class="el" href="#a9827f6dc8f7b2ba442714446aea1e522">SDL_PrepareCameraSurfaces()</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">SDL_Camera::shutdown</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a3fc86d3302059f5e44d3932b12e6e05a">SDL_Camera::spec</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a18b95b347a1ac5c4666a1fd457ddc110">SDL_Camera::thread</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a8b66a1e1e52fff272129ef3306d2c1ca">SDL_Camera::WaitDevice</a>, and <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">SDL_CameraSpec::width</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a52469fec975f103f2456d9e03a868fba_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a9827f6dc8f7b2ba442714446aea1e522" name="a9827f6dc8f7b2ba442714446aea1e522"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9827f6dc8f7b2ba442714446aea1e522">&#9670;&#160;</a></span>SDL_PrepareCameraSurfaces()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> SDL_PrepareCameraSurfaces </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  962</span>{</div>
<div class="line"><span class="lineno">  963</span>    <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *appspec = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3fc86d3302059f5e44d3932b12e6e05a">spec</a>;           <span class="comment">// the app wants this format.</span></div>
<div class="line"><span class="lineno">  964</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *devspec = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">actual_spec</a>;  <span class="comment">// the hardware is set to this format.</span></div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a> == <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);   <span class="comment">// shouldn&#39;t call this function twice on an opened camera!</span></div>
<div class="line"><span class="lineno">  967</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> != <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>);  <span class="comment">// fix the backend, it should have an actual format by now.</span></div>
<div class="line"><span class="lineno">  968</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> &gt;= 0);  <span class="comment">// fix the backend, it should have an actual format by now.</span></div>
<div class="line"><span class="lineno">  969</span>    <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> &gt;= 0);  <span class="comment">// fix the backend, it should have an actual format by now.</span></div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>    <span class="keywordflow">if</span> (appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> &lt;= 0 || appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> &lt;= 0) {</div>
<div class="line"><span class="lineno">  972</span>        appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> = devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>;</div>
<div class="line"><span class="lineno">  973</span>        appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> = devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>;</div>
<div class="line"><span class="lineno">  974</span>    }</div>
<div class="line"><span class="lineno">  975</span> </div>
<div class="line"><span class="lineno">  976</span>    <span class="keywordflow">if</span> (appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> == <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>) {</div>
<div class="line"><span class="lineno">  977</span>        appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> = devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>;</div>
<div class="line"><span class="lineno">  978</span>    }</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>    <span class="keywordflow">if</span> (appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a> == 0) {</div>
<div class="line"><span class="lineno">  981</span>        appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a> = devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a>;</div>
<div class="line"><span class="lineno">  982</span>        appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a> = devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a>;</div>
<div class="line"><span class="lineno">  983</span>    }</div>
<div class="line"><span class="lineno">  984</span> </div>
<div class="line"><span class="lineno">  985</span>    <span class="keywordflow">if</span> ((devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> == appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>) &amp;&amp; (devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a> == appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>)) {</div>
<div class="line"><span class="lineno">  986</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a> = 0;</div>
<div class="line"><span class="lineno">  987</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  988</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a> srcarea = ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>) devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>) * ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>) devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>);</div>
<div class="line"><span class="lineno">  989</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a> dstarea = ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>) appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>) * ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>) appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>);</div>
<div class="line"><span class="lineno">  990</span>        <span class="keywordflow">if</span> (dstarea &lt;= srcarea) {</div>
<div class="line"><span class="lineno">  991</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a> = -1;  <span class="comment">// downscaling (or changing to new aspect ratio with same area)</span></div>
<div class="line"><span class="lineno">  992</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  993</span>            device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a> = 1;  <span class="comment">// upscaling</span></div>
<div class="line"><span class="lineno">  994</span>        }</div>
<div class="line"><span class="lineno">  995</span>    }</div>
<div class="line"><span class="lineno">  996</span> </div>
<div class="line"><span class="lineno">  997</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">needs_conversion</a> = (devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> != appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>);</div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a> = <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#ad16ce757b67e1d72a7bd9a044d9d18a2">SDL_CreateSurfaceFrom</a>(devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>, devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>, devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><span class="lineno"> 1000</span>    <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>) {</div>
<div class="line"><span class="lineno"> 1001</span>        <span class="keywordflow">goto</span> failed;</div>
<div class="line"><span class="lineno"> 1002</span>    }</div>
<div class="line"><span class="lineno"> 1003</span>    <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a1afccc8572ea27a4463c1e8193d6d56a">SDL_SetSurfaceColorspace</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>, devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a>);</div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>    <span class="comment">// if we have to scale _and_ convert, we need a middleman surface, since we can&#39;t do both changes at once.</span></div>
<div class="line"><span class="lineno"> 1006</span>    <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a> &amp;&amp; device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">needs_conversion</a>) {</div>
<div class="line"><span class="lineno"> 1007</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> downscaling_first = (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a> &lt; 0);</div>
<div class="line"><span class="lineno"> 1008</span>        <span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *s = downscaling_first ? appspec : devspec;</div>
<div class="line"><span class="lineno"> 1009</span>        <span class="keyword">const</span> <a class="code hl_enumeration" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a> fmt = downscaling_first ? devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a> : appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>;</div>
<div class="line"><span class="lineno"> 1010</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">conversion_surface</a> = <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#afe7acb38ef290b00dd5027051efe3ba8">SDL_CreateSurface</a>(s-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>, s-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>, fmt);</div>
<div class="line"><span class="lineno"> 1011</span>        <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">conversion_surface</a>) {</div>
<div class="line"><span class="lineno"> 1012</span>            <span class="keywordflow">goto</span> failed;</div>
<div class="line"><span class="lineno"> 1013</span>        }</div>
<div class="line"><span class="lineno"> 1014</span>        <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a1afccc8572ea27a4463c1e8193d6d56a">SDL_SetSurfaceColorspace</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">conversion_surface</a>, devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a>);</div>
<div class="line"><span class="lineno"> 1015</span>    }</div>
<div class="line"><span class="lineno"> 1016</span> </div>
<div class="line"><span class="lineno"> 1017</span>    <span class="comment">// output surfaces are in the app-requested format. If no conversion is necessary, we&#39;ll just use the pointers</span></div>
<div class="line"><span class="lineno"> 1018</span>    <span class="comment">// the backend fills into acquired_surface, and you can get all the way from DMA access in the camera hardware</span></div>
<div class="line"><span class="lineno"> 1019</span>    <span class="comment">// to the app without a single copy. Otherwise, these will be full surfaces that hold converted/scaled copies.</span></div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (<a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>) - 1); i++) {</div>
<div class="line"><span class="lineno"> 1022</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>[i].<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>[i + 1];</div>
<div class="line"><span class="lineno"> 1023</span>    }</div>
<div class="line"><span class="lineno"> 1024</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">empty_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>;</div>
<div class="line"><span class="lineno"> 1025</span> </div>
<div class="line"><span class="lineno"> 1026</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>); i++) {</div>
<div class="line"><span class="lineno"> 1027</span>        <a class="code hl_struct" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a395f4954be4f767004aa6bb6e824316f">surf</a>;</div>
<div class="line"><span class="lineno"> 1028</span>        <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a> || device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">needs_conversion</a>) {</div>
<div class="line"><span class="lineno"> 1029</span>            <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a395f4954be4f767004aa6bb6e824316f">surf</a> = <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#afe7acb38ef290b00dd5027051efe3ba8">SDL_CreateSurface</a>(appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>, appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>, appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>);</div>
<div class="line"><span class="lineno"> 1030</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1031</span>            <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a395f4954be4f767004aa6bb6e824316f">surf</a> = <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#ad16ce757b67e1d72a7bd9a044d9d18a2">SDL_CreateSurfaceFrom</a>(appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>, appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>, appspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div>
<div class="line"><span class="lineno"> 1032</span>        }</div>
<div class="line"><span class="lineno"> 1033</span>        <span class="keywordflow">if</span> (!<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a395f4954be4f767004aa6bb6e824316f">surf</a>) {</div>
<div class="line"><span class="lineno"> 1034</span>            <span class="keywordflow">goto</span> failed;</div>
<div class="line"><span class="lineno"> 1035</span>        }</div>
<div class="line"><span class="lineno"> 1036</span>        <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a1afccc8572ea27a4463c1e8193d6d56a">SDL_SetSurfaceColorspace</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a395f4954be4f767004aa6bb6e824316f">surf</a>, devspec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">colorspace</a>);</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>[i].<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">surface</a> = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a395f4954be4f767004aa6bb6e824316f">surf</a>;</div>
<div class="line"><span class="lineno"> 1039</span>    }</div>
<div class="line"><span class="lineno"> 1040</span> </div>
<div class="line"><span class="lineno"> 1041</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1042</span> </div>
<div class="line"><span class="lineno"> 1043</span>failed:</div>
<div class="line"><span class="lineno"> 1044</span>    <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>) {</div>
<div class="line"><span class="lineno"> 1045</span>        <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a>);</div>
<div class="line"><span class="lineno"> 1046</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">acquire_surface</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1047</span>    }</div>
<div class="line"><span class="lineno"> 1048</span> </div>
<div class="line"><span class="lineno"> 1049</span>    <span class="keywordflow">if</span> (device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">conversion_surface</a>) {</div>
<div class="line"><span class="lineno"> 1050</span>        <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">conversion_surface</a>);</div>
<div class="line"><span class="lineno"> 1051</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">conversion_surface</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1052</span>    }</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>); i++) {</div>
<div class="line"><span class="lineno"> 1055</span>        <a class="code hl_struct" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a395f4954be4f767004aa6bb6e824316f">surf</a> = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>[i].<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">surface</a>;</div>
<div class="line"><span class="lineno"> 1056</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a395f4954be4f767004aa6bb6e824316f">surf</a>) {</div>
<div class="line"><span class="lineno"> 1057</span>            <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a395f4954be4f767004aa6bb6e824316f">surf</a>);</div>
<div class="line"><span class="lineno"> 1058</span>        }</div>
<div class="line"><span class="lineno"> 1059</span>    }</div>
<div class="line"><span class="lineno"> 1060</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1edc08d14c13f587b33d9e482035e3af">SDL_zeroa</a>(device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">output_surfaces</a>);</div>
<div class="line"><span class="lineno"> 1061</span> </div>
<div class="line"><span class="lineno"> 1062</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1063</span>}</div>
<div class="ttc" id="aSDL__surface_8h_html_a1afccc8572ea27a4463c1e8193d6d56a"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#a1afccc8572ea27a4463c1e8193d6d56a">SDL_SetSurfaceColorspace</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_SetSurfaceColorspace(SDL_Surface *surface, SDL_Colorspace colorspace)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:301</div></div>
<div class="ttc" id="aSDL__surface_8h_html_ad16ce757b67e1d72a7bd9a044d9d18a2"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#ad16ce757b67e1d72a7bd9a044d9d18a2">SDL_CreateSurfaceFrom</a></div><div class="ttdeci">SDL_DECLSPEC SDL_Surface *SDLCALL SDL_CreateSurfaceFrom(int width, int height, SDL_PixelFormat format, void *pixels, int pitch)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:246</div></div>
<div class="ttc" id="aSDL__surface_8h_html_afe7acb38ef290b00dd5027051efe3ba8"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#afe7acb38ef290b00dd5027051efe3ba8">SDL_CreateSurface</a></div><div class="ttdeci">SDL_DECLSPEC SDL_Surface *SDLCALL SDL_CreateSurface(int width, int height, SDL_PixelFormat format)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:192</div></div>
<div class="ttc" id="aeglext_8h_html_a395f4954be4f767004aa6bb6e824316f"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a395f4954be4f767004aa6bb6e824316f">surf</a></div><div class="ttdeci">EGLSurface surf</div><div class="ttdef"><b>Definition</b> eglext.h:1185</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#a3582c805a9fb285a54d29bb64d8816de">SDL_Camera::acquire_surface</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">SDL_Camera::actual_spec</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ae91c86d64fa947c642d9ec6ac5f36e44">SDL_CameraSpec::colorspace</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#acb663807beeb648ddab2656932e0f9d8">SDL_Camera::conversion_surface</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">SDL_Camera::empty_output_surfaces</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">SDL_CameraSpec::format</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">SDL_CameraSpec::framerate_denominator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">SDL_CameraSpec::framerate_numerator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">SDL_CameraSpec::height</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">SDL_Camera::needs_conversion</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">SDL_Camera::needs_scaling</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">SurfaceList::next</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#add254fb7f2c7953c84a8c06e6e284bad">SDL_Camera::output_surfaces</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#afe7acb38ef290b00dd5027051efe3ba8">SDL_CreateSurface()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#ad16ce757b67e1d72a7bd9a044d9d18a2">SDL_CreateSurfaceFrom()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface()</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256aefbbcf431d1a05d22a40b34806786474">SDL_PIXELFORMAT_UNKNOWN</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#a1afccc8572ea27a4463c1e8193d6d56a">SDL_SetSurfaceColorspace()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a1edc08d14c13f587b33d9e482035e3af">SDL_zeroa</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a3fc86d3302059f5e44d3932b12e6e05a">SDL_Camera::spec</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">SurfaceList::surface</a>, and <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">SDL_CameraSpec::width</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a9827f6dc8f7b2ba442714446aea1e522_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a9827f6dc8f7b2ba442714446aea1e522_icgraph.svg" width="388" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a6fca7b5907990a504def9694c2ab4dc6" name="a6fca7b5907990a504def9694c2ab4dc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fca7b5907990a504def9694c2ab4dc6">&#9670;&#160;</a></span>SDL_QuitCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> SDL_QuitCamera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1405</span>{</div>
<div class="line"><span class="lineno"> 1406</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.name) {  <span class="comment">// not initialized?!</span></div>
<div class="line"><span class="lineno"> 1407</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1408</span>    }</div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno"> 1411</span>    <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a>(&amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.shutting_down, 1);</div>
<div class="line"><span class="lineno"> 1412</span>    <a class="code hl_struct" href="../../da/d27/structSDL__HashTable.html">SDL_HashTable</a> *device_hash = <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash;</div>
<div class="line"><span class="lineno"> 1413</span>    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1414</span>    <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *pending_events = <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events.next;</div>
<div class="line"><span class="lineno"> 1415</span>    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events.next = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1416</span>    <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a>(&amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_count, 0);</div>
<div class="line"><span class="lineno"> 1417</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno"> 1418</span> </div>
<div class="line"><span class="lineno"> 1419</span>    <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *pending_next = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1420</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *i = pending_events; i; i = pending_next) {</div>
<div class="line"><span class="lineno"> 1421</span>        pending_next = i-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a>;</div>
<div class="line"><span class="lineno"> 1422</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(i);</div>
<div class="line"><span class="lineno"> 1423</span>    }</div>
<div class="line"><span class="lineno"> 1424</span> </div>
<div class="line"><span class="lineno"> 1425</span>    <a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#a4d0312ee3e9ef2350afd8756b702b1e8">SDL_DestroyHashTable</a>(device_hash);</div>
<div class="line"><span class="lineno"> 1426</span> </div>
<div class="line"><span class="lineno"> 1427</span>    <span class="comment">// Free the driver data</span></div>
<div class="line"><span class="lineno"> 1428</span>    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.Deinitialize();</div>
<div class="line"><span class="lineno"> 1429</span> </div>
<div class="line"><span class="lineno"> 1430</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#aa542f2b1d5d09e36af8bdbc0b5d530a4">SDL_DestroyRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno"> 1431</span> </div>
<div class="line"><span class="lineno"> 1432</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>);</div>
<div class="line"><span class="lineno"> 1433</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">SDL_PendingCameraEvent::next</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../dc/d3a/SDL__hashtable_8c.html#a4d0312ee3e9ef2350afd8756b702b1e8">SDL_DestroyHashTable()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#aa542f2b1d5d09e36af8bdbc0b5d530a4">SDL_DestroyRWLock()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting()</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>, and <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a1c95febe36642a6bee0885f1078c6cc2">SDL_CameraInit()</a>, and <a class="el" href="../../df/d22/SDL__init_8h.html#a359d114df19766688fffa8539f2e620f">SDL_QuitSubSystem()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a6fca7b5907990a504def9694c2ab4dc6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a6fca7b5907990a504def9694c2ab4dc6_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a8fc1cdd8252e34f341fab7774213065d" name="a8fc1cdd8252e34f341fab7774213065d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fc1cdd8252e34f341fab7774213065d">&#9670;&#160;</a></span>SDL_ReleaseCameraFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> SDL_ReleaseCameraFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>camera</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release a frame of video acquired from a camera.</p>
<p>Let the back-end re-use the internal buffer for camera.</p>
<p>This function <em>must</em> be called only on surface objects returned by <a class="el" href="../../da/d44/SDL__camera_8h.html#a317cda8cda81116a2b29068e39cf1373">SDL_AcquireCameraFrame()</a>. This function should be called as quickly as possible after acquisition, as SDL keeps a small FIFO queue of surfaces for video frames; if surfaces aren't released in a timely manner, SDL may drop upcoming video frames from the camera.</p>
<p>If the app needs to keep the surface for a significant time, they should make a copy of it and release the original.</p>
<p>The app should not use the surface again after calling this function; assume the surface is freed and the pointer is invalid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">camera</td><td>opened camera device. </td></tr>
    <tr><td class="paramname">frame</td><td>the video frame surface to release.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../da/d44/SDL__camera_8h.html#a317cda8cda81116a2b29068e39cf1373">SDL_AcquireCameraFrame</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 1300</span>{</div>
<div class="line"><span class="lineno"> 1301</span>    <span class="keywordflow">if</span> (!camera || !frame) {</div>
<div class="line"><span class="lineno"> 1302</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1303</span>    }</div>
<div class="line"><span class="lineno"> 1304</span> </div>
<div class="line"><span class="lineno"> 1305</span>    <a class="code hl_struct" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *device = camera;  <span class="comment">// currently there&#39;s no separation between physical and logical device.</span></div>
<div class="line"><span class="lineno"> 1306</span>    <a class="code hl_function" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj</a>(device);</div>
<div class="line"><span class="lineno"> 1307</span> </div>
<div class="line"><span class="lineno"> 1308</span>    <a class="code hl_struct" href="../../d2/d22/structSurfaceList.html">SurfaceList</a> *slistprev = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ad344894416d3d441d2d4c75f1b9ac56e">app_held_output_surfaces</a>;</div>
<div class="line"><span class="lineno"> 1309</span>    <a class="code hl_struct" href="../../d2/d22/structSurfaceList.html">SurfaceList</a> *slist;</div>
<div class="line"><span class="lineno"> 1310</span>    <span class="keywordflow">for</span> (slist = slistprev-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>; slist != <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; slist = slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>) {</div>
<div class="line"><span class="lineno"> 1311</span>        <span class="keywordflow">if</span> (slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">surface</a> == frame) {</div>
<div class="line"><span class="lineno"> 1312</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1313</span>        }</div>
<div class="line"><span class="lineno"> 1314</span>        slistprev = slist;</div>
<div class="line"><span class="lineno"> 1315</span>    }</div>
<div class="line"><span class="lineno"> 1316</span> </div>
<div class="line"><span class="lineno"> 1317</span>    <span class="keywordflow">if</span> (!slist) {</div>
<div class="line"><span class="lineno"> 1318</span>        <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1319</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1320</span>    }</div>
<div class="line"><span class="lineno"> 1321</span> </div>
<div class="line"><span class="lineno"> 1322</span>    <span class="comment">// this pointer was owned by the backend (DMA memory or whatever), clear it out.</span></div>
<div class="line"><span class="lineno"> 1323</span>    <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">needs_conversion</a> &amp;&amp; !device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">needs_scaling</a>) {</div>
<div class="line"><span class="lineno"> 1324</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">ReleaseFrame</a>(device, frame);</div>
<div class="line"><span class="lineno"> 1325</span>        frame-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1326</span>        frame-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a> = 0;</div>
<div class="line"><span class="lineno"> 1327</span>    }</div>
<div class="line"><span class="lineno"> 1328</span> </div>
<div class="line"><span class="lineno"> 1329</span>    slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a2ebefbccec079cb55ce19da43be91ba5">timestampNS</a> = 0;</div>
<div class="line"><span class="lineno"> 1330</span> </div>
<div class="line"><span class="lineno"> 1331</span>    <span class="comment">// remove from app_held list...</span></div>
<div class="line"><span class="lineno"> 1332</span>    slistprev-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>;</div>
<div class="line"><span class="lineno"> 1333</span> </div>
<div class="line"><span class="lineno"> 1334</span>    <span class="comment">// insert at front of empty list (and we&#39;ll use it first when we need to fill a new frame).</span></div>
<div class="line"><span class="lineno"> 1335</span>    slist-&gt;<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">empty_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a>;</div>
<div class="line"><span class="lineno"> 1336</span>    device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">empty_output_surfaces</a>.<a class="code hl_variable" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">next</a> = slist;</div>
<div class="line"><span class="lineno"> 1337</span> </div>
<div class="line"><span class="lineno"> 1338</span>    <a class="code hl_function" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera</a>(device);</div>
<div class="line"><span class="lineno"> 1339</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#ad344894416d3d441d2d4c75f1b9ac56e">SDL_Camera::app_held_output_surfaces</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a61672b1024b531a8f9810219d9f97dfa">SDL_Camera::empty_output_surfaces</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a93aab3f260dca78b16f77f8dfe01f6d0">SDL_Camera::needs_conversion</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#ae772791fb0fde41cc5359e02dddcdca1">SDL_Camera::needs_scaling</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a6ca802bb5c40207464b504eb0f2c14e1">SurfaceList::next</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#a8bf505e8dab4dacd60f34b93c15fc783">ObtainPhysicalCameraObj()</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">SDL_Surface::pitch</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">SDL_Surface::pixels</a>, <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#adf719dfb055dd2cf7b367f4bcd4c367b">SDL_Camera::ReleaseFrame</a>, <a class="el" href="../../d2/d22/structSurfaceList.html#a3399043d9a2dab7319c7ebf68bf50fcb">SurfaceList::surface</a>, and <a class="el" href="../../d2/d22/structSurfaceList.html#a2ebefbccec079cb55ce19da43be91ba5">SurfaceList::timestampNS</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a8fc1cdd8252e34f341fab7774213065d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a3d7121bb9252d15e5556b11caa40493e" name="a3d7121bb9252d15e5556b11caa40493e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7121bb9252d15e5556b11caa40493e">&#9670;&#160;</a></span>SDL_UpdateCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> SDL_UpdateCamera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1556</span>{</div>
<div class="line"><span class="lineno"> 1557</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno"> 1558</span>    <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *pending_events = <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events.next;</div>
<div class="line"><span class="lineno"> 1559</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno"> 1560</span> </div>
<div class="line"><span class="lineno"> 1561</span>    <span class="keywordflow">if</span> (!pending_events) {</div>
<div class="line"><span class="lineno"> 1562</span>        <span class="keywordflow">return</span>;  <span class="comment">// nothing to do, check next time.</span></div>
<div class="line"><span class="lineno"> 1563</span>    }</div>
<div class="line"><span class="lineno"> 1564</span> </div>
<div class="line"><span class="lineno"> 1565</span>    <span class="comment">// okay, let&#39;s take this whole list of events so we can dump the lock, and new ones can queue up for a later update.</span></div>
<div class="line"><span class="lineno"> 1566</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno"> 1567</span>    pending_events = <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events.next;  <span class="comment">// in case this changed...</span></div>
<div class="line"><span class="lineno"> 1568</span>    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events.next = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1569</span>    <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events_tail = &amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.pending_events;</div>
<div class="line"><span class="lineno"> 1570</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno"> 1571</span> </div>
<div class="line"><span class="lineno"> 1572</span>    <a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *pending_next = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1573</span>    <span class="keywordflow">for</span> (<a class="code hl_struct" href="../../dc/de1/structSDL__PendingCameraEvent.html">SDL_PendingCameraEvent</a> *i = pending_events; i; i = pending_next) {</div>
<div class="line"><span class="lineno"> 1574</span>        pending_next = i-&gt;<a class="code hl_variable" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">next</a>;</div>
<div class="line"><span class="lineno"> 1575</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../da/d39/SDL__events_8h.html#a4fa0fc2cac6190edb89312ccc6a2849e">SDL_EventEnabled</a>(i-&gt;type)) {</div>
<div class="line"><span class="lineno"> 1576</span>            <a class="code hl_union" href="../../d5/db2/unionSDL__Event.html">SDL_Event</a> <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a190f63d5943bd420167628c45415bb93">event</a>;</div>
<div class="line"><span class="lineno"> 1577</span>            <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a190f63d5943bd420167628c45415bb93">event</a>);</div>
<div class="line"><span class="lineno"> 1578</span>            <span class="keyword">event</span>.type = i-&gt;type;</div>
<div class="line"><span class="lineno"> 1579</span>            <span class="keyword">event</span>.cdevice.which = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>) i-&gt;devid;</div>
<div class="line"><span class="lineno"> 1580</span>            <a class="code hl_function" href="../../da/d39/SDL__events_8h.html#a0e8bf66be47969d426464ee85685be69">SDL_PushEvent</a>(&amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a190f63d5943bd420167628c45415bb93">event</a>);</div>
<div class="line"><span class="lineno"> 1581</span>        }</div>
<div class="line"><span class="lineno"> 1582</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(i);</div>
<div class="line"><span class="lineno"> 1583</span>    }</div>
<div class="line"><span class="lineno"> 1584</span>}</div>
<div class="ttc" id="aSDL__events_8h_html_a0e8bf66be47969d426464ee85685be69"><div class="ttname"><a href="../../da/d39/SDL__events_8h.html#a0e8bf66be47969d426464ee85685be69">SDL_PushEvent</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_PushEvent(SDL_Event *event)</div><div class="ttdef"><b>Definition</b> SDL_events.c:1738</div></div>
<div class="ttc" id="aSDL__events_8h_html_a4fa0fc2cac6190edb89312ccc6a2849e"><div class="ttname"><a href="../../da/d39/SDL__events_8h.html#a4fa0fc2cac6190edb89312ccc6a2849e">SDL_EventEnabled</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_EventEnabled(Uint32 type)</div><div class="ttdef"><b>Definition</b> SDL_events.c:1885</div></div>
<div class="ttc" id="aeglext_8h_html_a190f63d5943bd420167628c45415bb93"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a190f63d5943bd420167628c45415bb93">event</a></div><div class="ttdeci">EGLStreamKHR EGLTime EGLenum * event</div><div class="ttdef"><b>Definition</b> eglext.h:1224</div></div>
<div class="ttc" id="aunionSDL__Event_html"><div class="ttname"><a href="../../d5/db2/unionSDL__Event.html">SDL_Event</a></div><div class="ttdef"><b>Definition</b> SDL_events.h:990</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="../../dc/de1/structSDL__PendingCameraEvent.html#a48b41e47a28e7cb5cdb86b8c1c7a39f5">SDL_PendingCameraEvent::next</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../da/d39/SDL__events_8h.html#a4fa0fc2cac6190edb89312ccc6a2849e">SDL_EventEnabled()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting()</a>, <a class="el" href="../../da/d39/SDL__events_8h.html#a0e8bf66be47969d426464ee85685be69">SDL_PushEvent()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>, and <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d07/SDL__events_8c.html#a16c57451ad76ab4ae5e0674cbd659fd6">SDL_PumpEventMaintenance()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a3d7121bb9252d15e5556b11caa40493e_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a3d7121bb9252d15e5556b11caa40493e_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac5d9e3c62323ba5c687a9ec0c635cd90" name="ac5d9e3c62323ba5c687a9ec0c635cd90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5d9e3c62323ba5c687a9ec0c635cd90">&#9670;&#160;</a></span>UnrefPhysicalCamera()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> UnrefPhysicalCamera </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  287</span>{</div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/dd2/SDL__atomic_8h.html#a1602c33647cfdfa8ae49a2eef10341c9">SDL_AtomicDecRef</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a8d54e7d6c1284829d1b964753282f3b6">refcount</a>)) {</div>
<div class="line"><span class="lineno">  289</span>        <span class="comment">// take it out of the device list.</span></div>
<div class="line"><span class="lineno">  290</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../dc/d3a/SDL__hashtable_8c.html#a509ab3c40bbc263d1e88fcc32a356fb8">SDL_RemoveFromHashTable</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash, (<span class="keyword">const</span> <span class="keywordtype">void</span> *) (uintptr_t) device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">instance_id</a>)) {</div>
<div class="line"><span class="lineno">  292</span>            <a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt</a>(&amp;<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_count, -1);</div>
<div class="line"><span class="lineno">  293</span>        }</div>
<div class="line"><span class="lineno">  294</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock</a>(<a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.device_hash_lock);</div>
<div class="line"><span class="lineno">  295</span>    }</div>
<div class="line"><span class="lineno">  296</span>}</div>
<div class="ttc" id="aSDL__atomic_8h_html_a1602c33647cfdfa8ae49a2eef10341c9"><div class="ttname"><a href="../../d2/dd2/SDL__atomic_8h.html#a1602c33647cfdfa8ae49a2eef10341c9">SDL_AtomicDecRef</a></div><div class="ttdeci">#define SDL_AtomicDecRef(a)</div><div class="ttdef"><b>Definition</b> SDL_atomic.h:511</div></div>
<div class="ttc" id="aSDL__hashtable_8c_html_a509ab3c40bbc263d1e88fcc32a356fb8"><div class="ttname"><a href="../../dc/d3a/SDL__hashtable_8c.html#a509ab3c40bbc263d1e88fcc32a356fb8">SDL_RemoveFromHashTable</a></div><div class="ttdeci">bool SDL_RemoveFromHashTable(SDL_HashTable *table, const void *key)</div><div class="ttdef"><b>Definition</b> SDL_hashtable.c:365</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#afd57032e6bed5ee968483c14ef19afca">SDL_Camera::instance_id</a>, <a class="el" href="../../d0/d7e/structSDL__Camera.html#a8d54e7d6c1284829d1b964753282f3b6">SDL_Camera::refcount</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt()</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a1602c33647cfdfa8ae49a2eef10341c9">SDL_AtomicDecRef</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting()</a>, <a class="el" href="../../dc/d3a/SDL__hashtable_8c.html#a509ab3c40bbc263d1e88fcc32a356fb8">SDL_RemoveFromHashTable()</a>, and <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ab22ee16a96e2cb69d7d87f64f8c234e1">ReleaseCamera()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ac5d9e3c62323ba5c687a9ec0c635cd90_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_ac5d9e3c62323ba5c687a9ec0c635cd90_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aef669a153850af3731049f6f7ec07b38" name="aef669a153850af3731049f6f7ec07b38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef669a153850af3731049f6f7ec07b38">&#9670;&#160;</a></span>ZombieAcquireFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8">SDL_CameraFrameResult</a> ZombieAcquireFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a> *</td>          <td class="paramname"><span class="paramname"><em>timestampNS</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  154</span>{</div>
<div class="line"><span class="lineno">  155</span>    <span class="keyword">const</span> <a class="code hl_struct" href="../../d9/d2b/structSDL__CameraSpec.html">SDL_CameraSpec</a> *spec = &amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">actual_spec</a>;</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">zombie_pixels</a>) {</div>
<div class="line"><span class="lineno">  158</span>        <span class="comment">// attempt to allocate and initialize a fake frame of pixels.</span></div>
<div class="line"><span class="lineno">  159</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> buflen = <a class="code hl_function" href="#a75a5a75873e3130285b34e63e636cbca">GetFrameBufLen</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">actual_spec</a>);</div>
<div class="line"><span class="lineno">  160</span>        device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">zombie_pixels</a> = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace5dbc953ae8882e10d02e640688f937">SDL_aligned_alloc</a>(<a class="code hl_function" href="../../d2/d62/SDL__cpuinfo_8h.html#acac729aa61dfd0636d56d9aeb39d1b33">SDL_GetSIMDAlignment</a>(), buflen);</div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">if</span> (!device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">zombie_pixels</a>) {</div>
<div class="line"><span class="lineno">  162</span>            *timestampNS = 0;</div>
<div class="line"><span class="lineno">  163</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8a4e5c996b4ac4e80696d6cfe04a7e29ba">SDL_CAMERA_FRAME_SKIP</a>; <span class="comment">// oh well, say there isn&#39;t a frame yet, so we&#39;ll go back to waiting. Maybe allocation will succeed later...?</span></div>
<div class="line"><span class="lineno">  164</span>        }</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>        <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *dst = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">zombie_pixels</a>;</div>
<div class="line"><span class="lineno">  167</span>        <span class="keywordflow">switch</span> (spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>) {</div>
<div class="line"><span class="lineno">  168</span>            <span class="comment">// in YUV formats, the U and V values must be 128 to get a black frame. If set to zero, it&#39;ll be bright green.</span></div>
<div class="line"><span class="lineno">  169</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a706edeff2993aaabae0e8a85dd456d23">SDL_PIXELFORMAT_YV12</a>:</div>
<div class="line"><span class="lineno">  170</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a9d5d930c6560d21d02be1d3738160e08">SDL_PIXELFORMAT_IYUV</a>:</div>
<div class="line"><span class="lineno">  171</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a8fa8e4c226ea2918366e68b239921099">SDL_PIXELFORMAT_NV12</a>:</div>
<div class="line"><span class="lineno">  172</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a97f2d6c51817862e1927e462960e7052">SDL_PIXELFORMAT_NV21</a>:</div>
<div class="line"><span class="lineno">  173</span>                <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a043456677170c5b072c998a7108ecdb4">SDL_memset</a>(dst, 0, spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> * spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>);  <span class="comment">// set Y to zero.</span></div>
<div class="line"><span class="lineno">  174</span>                <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a043456677170c5b072c998a7108ecdb4">SDL_memset</a>(dst + (spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> * spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>), 128, (spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a> * spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">height</a>) / 2); <span class="comment">// set U and V to 128.</span></div>
<div class="line"><span class="lineno">  175</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a87d182ad80264610243c4bdbba13b456">SDL_PIXELFORMAT_YUY2</a>:</div>
<div class="line"><span class="lineno">  178</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a0fba10d58b6af54319f3653724a54a29">SDL_PIXELFORMAT_YVYU</a>:</div>
<div class="line"><span class="lineno">  179</span>                <span class="comment">// Interleaved Y1[U1|V1]Y2[U2|V2].</span></div>
<div class="line"><span class="lineno">  180</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; buflen; i += 4) {</div>
<div class="line"><span class="lineno">  181</span>                    dst[i] = 0;</div>
<div class="line"><span class="lineno">  182</span>                    dst[i+1] = 128;</div>
<div class="line"><span class="lineno">  183</span>                    dst[i+2] = 0;</div>
<div class="line"><span class="lineno">  184</span>                    dst[i+3] = 128;</div>
<div class="line"><span class="lineno">  185</span>                }</div>
<div class="line"><span class="lineno">  186</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a69bd11cf739b7e762d5103555fe85094">SDL_PIXELFORMAT_UYVY</a>:</div>
<div class="line"><span class="lineno">  190</span>                 <span class="comment">// Interleaved [U1|V1]Y1[U2|V2]Y2.</span></div>
<div class="line"><span class="lineno">  191</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; buflen; i += 4) {</div>
<div class="line"><span class="lineno">  192</span>                    dst[i] = 128;</div>
<div class="line"><span class="lineno">  193</span>                    dst[i+1] = 0;</div>
<div class="line"><span class="lineno">  194</span>                    dst[i+2] = 128;</div>
<div class="line"><span class="lineno">  195</span>                    dst[i+3] = 0;</div>
<div class="line"><span class="lineno">  196</span>                }</div>
<div class="line"><span class="lineno">  197</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  200</span>                <span class="comment">// just zero everything else, it&#39;ll _probably_ be okay.</span></div>
<div class="line"><span class="lineno">  201</span>                <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a043456677170c5b072c998a7108ecdb4">SDL_memset</a>(dst, 0, buflen);</div>
<div class="line"><span class="lineno">  202</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  203</span>        }</div>
<div class="line"><span class="lineno">  204</span>    }</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>    *timestampNS = <a class="code hl_function" href="../../d6/d3c/SDL__timer_8h.html#a2f87dc9adb7ff81451425782b451a505">SDL_GetTicksNS</a>();</div>
<div class="line"><span class="lineno">  208</span>    frame-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a> = device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">zombie_pixels</a>;</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>    <span class="comment">// SDL (currently) wants the pitch of YUV formats to be the pitch of the (1-byte-per-pixel) Y plane.</span></div>
<div class="line"><span class="lineno">  211</span>    frame-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a> = spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">width</a>;</div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">if</span> (!<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#ac2a8124d1f6842ddf7ef5cc01c760818">SDL_ISPIXELFORMAT_FOURCC</a>(spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>)) {  <span class="comment">// checking if it&#39;s not FOURCC to only do this for non-YUV data is good enough for now.</span></div>
<div class="line"><span class="lineno">  213</span>        frame-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a> *= <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#ae4e913515ee84941a70859efedb2023e">SDL_BYTESPERPIXEL</a>(spec-&gt;<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">format</a>);</div>
<div class="line"><span class="lineno">  214</span>    }</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span><span class="preprocessor">    #if DEBUG_CAMERA</span></div>
<div class="line"><span class="lineno">  217</span>    <a class="code hl_function" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log</a>(<span class="stringliteral">&quot;CAMERA: dev[%p] Acquired Zombie frame, timestamp %llu&quot;</span>, device, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>) *timestampNS);</div>
<div class="line"><span class="lineno">  218</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8aee4f137731d89ffe3d9223e6a8df59b7">SDL_CAMERA_FRAME_READY</a>; <span class="comment">// frame is available.</span></div>
<div class="line"><span class="lineno">  221</span>}</div>
<div class="ttc" id="aSDL__camera_8c_html_a75a5a75873e3130285b34e63e636cbca"><div class="ttname"><a href="#a75a5a75873e3130285b34e63e636cbca">GetFrameBufLen</a></div><div class="ttdeci">static size_t GetFrameBufLen(const SDL_CameraSpec *spec)</div><div class="ttdef"><b>Definition</b> SDL_camera.c:131</div></div>
<div class="ttc" id="aSDL__cpuinfo_8h_html_acac729aa61dfd0636d56d9aeb39d1b33"><div class="ttname"><a href="../../d2/d62/SDL__cpuinfo_8h.html#acac729aa61dfd0636d56d9aeb39d1b33">SDL_GetSIMDAlignment</a></div><div class="ttdeci">SDL_DECLSPEC size_t SDLCALL SDL_GetSIMDAlignment(void)</div><div class="ttdef"><b>Definition</b> SDL_cpuinfo.c:1217</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256a0fba10d58b6af54319f3653724a54a29"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a0fba10d58b6af54319f3653724a54a29">SDL_PIXELFORMAT_YVYU</a></div><div class="ttdeci">@ SDL_PIXELFORMAT_YVYU</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:668</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256a69bd11cf739b7e762d5103555fe85094"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a69bd11cf739b7e762d5103555fe85094">SDL_PIXELFORMAT_UYVY</a></div><div class="ttdeci">@ SDL_PIXELFORMAT_UYVY</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:666</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256a87d182ad80264610243c4bdbba13b456"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a87d182ad80264610243c4bdbba13b456">SDL_PIXELFORMAT_YUY2</a></div><div class="ttdeci">@ SDL_PIXELFORMAT_YUY2</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:664</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a043456677170c5b072c998a7108ecdb4"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a043456677170c5b072c998a7108ecdb4">SDL_memset</a></div><div class="ttdeci">#define SDL_memset</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:2587</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a2944638813a090aa23e62f4da842c3e2"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a></div><div class="ttdeci">uint8_t Uint8</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:425</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_ace5dbc953ae8882e10d02e640688f937"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#ace5dbc953ae8882e10d02e640688f937">SDL_aligned_alloc</a></div><div class="ttdeci">SDL_DECLSPEC SDL_MALLOC void *SDLCALL SDL_aligned_alloc(size_t alignment, size_t size)</div><div class="ttdef"><b>Definition</b> SDL_stdlib.c:532</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">SDL_Camera::actual_spec</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a4aa78ca2c23f1459cd1d591b3e98e6ab">SDL_CameraSpec::format</a>, <a class="el" href="#a75a5a75873e3130285b34e63e636cbca">GetFrameBufLen()</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#ab1d76516ab7e03c5d1002b0c0ea1c4c5">SDL_CameraSpec::height</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">SDL_Surface::pitch</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">SDL_Surface::pixels</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ace5dbc953ae8882e10d02e640688f937">SDL_aligned_alloc()</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#ae4e913515ee84941a70859efedb2023e">SDL_BYTESPERPIXEL</a>, <a class="el" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8aee4f137731d89ffe3d9223e6a8df59b7">SDL_CAMERA_FRAME_READY</a>, <a class="el" href="../../d3/d62/SDL__syscamera_8h.html#ada3096e93533e29ea0313f52d768bec8a4e5c996b4ac4e80696d6cfe04a7e29ba">SDL_CAMERA_FRAME_SKIP</a>, <a class="el" href="../../d2/d62/SDL__cpuinfo_8h.html#acac729aa61dfd0636d56d9aeb39d1b33">SDL_GetSIMDAlignment()</a>, <a class="el" href="../../d6/d3c/SDL__timer_8h.html#a2f87dc9adb7ff81451425782b451a505">SDL_GetTicksNS()</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#ac2a8124d1f6842ddf7ef5cc01c760818">SDL_ISPIXELFORMAT_FOURCC</a>, <a class="el" href="../../d4/d7f/SDL__log_8h.html#a529abf4d553ed303628c1d5261e8de80">SDL_Log()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a043456677170c5b072c998a7108ecdb4">SDL_memset</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a9d5d930c6560d21d02be1d3738160e08">SDL_PIXELFORMAT_IYUV</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a8fa8e4c226ea2918366e68b239921099">SDL_PIXELFORMAT_NV12</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a97f2d6c51817862e1927e462960e7052">SDL_PIXELFORMAT_NV21</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a69bd11cf739b7e762d5103555fe85094">SDL_PIXELFORMAT_UYVY</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a87d182ad80264610243c4bdbba13b456">SDL_PIXELFORMAT_YUY2</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a706edeff2993aaabae0e8a85dd456d23">SDL_PIXELFORMAT_YV12</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a0fba10d58b6af54319f3653724a54a29">SDL_PIXELFORMAT_YVYU</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a746c6ca6700173f48d6293944d99c9ac">SDL_CameraSpec::width</a>, and <a class="el" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">SDL_Camera::zombie_pixels</a>.</p>

<p class="reference">Referenced by <a class="el" href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_aef669a153850af3731049f6f7ec07b38_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_aef669a153850af3731049f6f7ec07b38_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a991802312b4b2edaee34b6daaa80d1e9" name="a991802312b4b2edaee34b6daaa80d1e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a991802312b4b2edaee34b6daaa80d1e9">&#9670;&#160;</a></span>ZombieReleaseFrame()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> ZombieReleaseFrame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *</td>          <td class="paramname"><span class="paramname"><em>frame</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  224</span>{</div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">if</span> (frame-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a> != device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">zombie_pixels</a>) {</div>
<div class="line"><span class="lineno">  226</span>        <span class="comment">// this was a frame from before the disconnect event; let the backend make an attempt to free it.</span></div>
<div class="line"><span class="lineno">  227</span>        <a class="code hl_variable" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>.impl.ReleaseFrame(device, frame);</div>
<div class="line"><span class="lineno">  228</span>    }</div>
<div class="line"><span class="lineno">  229</span>    <span class="comment">// we just leave zombie_pixels alone, as we&#39;ll reuse it for every new frame until the camera is closed.</span></div>
<div class="line"><span class="lineno">  230</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a68f96075182c4eb80c9aa0765e87bb33">camera_driver</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">SDL_Surface::pixels</a>, and <a class="el" href="../../d0/d7e/structSDL__Camera.html#a4b5186308abbcd32ef842eacbb53948d">SDL_Camera::zombie_pixels</a>.</p>

<p class="reference">Referenced by <a class="el" href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a991802312b4b2edaee34b6daaa80d1e9_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a4044eb918456131d4ad258e3b1060ca9" name="a4044eb918456131d4ad258e3b1060ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4044eb918456131d4ad258e3b1060ca9">&#9670;&#160;</a></span>ZombieWaitDevice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> ZombieWaitDevice </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d7e/structSDL__Camera.html">SDL_Camera</a> *</td>          <td class="paramname"><span class="paramname"><em>device</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  122</span>{</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d2/dd2/SDL__atomic_8h.html#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt</a>(&amp;device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">shutdown</a>)) {</div>
<div class="line"><span class="lineno">  124</span>        <span class="comment">// !!! FIXME: this is bad for several reasons (uses double, could be precalculated, doesn&#39;t track elapsed time).</span></div>
<div class="line"><span class="lineno">  125</span>        <span class="keyword">const</span> <span class="keywordtype">double</span> duration = ((double) device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">actual_spec</a>.<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">framerate_denominator</a> / ((double) device-&gt;<a class="code hl_variable" href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">actual_spec</a>.<a class="code hl_variable" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">framerate_numerator</a>));</div>
<div class="line"><span class="lineno">  126</span>        <a class="code hl_function" href="../../d6/d3c/SDL__timer_8h.html#a9022635a3ea79cd17fda644f31e80a51">SDL_Delay</a>((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>) (duration * 1000.0));</div>
<div class="line"><span class="lineno">  127</span>    }</div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  129</span>}</div>
<div class="ttc" id="aSDL__timer_8h_html_a9022635a3ea79cd17fda644f31e80a51"><div class="ttname"><a href="../../d6/d3c/SDL__timer_8h.html#a9022635a3ea79cd17fda644f31e80a51">SDL_Delay</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_Delay(Uint32 ms)</div><div class="ttdef"><b>Definition</b> SDL_timer.c:654</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d0/d7e/structSDL__Camera.html#abfa5606b1f96f5f7228cd3dd6ac32944">SDL_Camera::actual_spec</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a236cdb78c2d67866a8999c16cf9d8dee">SDL_CameraSpec::framerate_denominator</a>, <a class="el" href="../../d9/d2b/structSDL__CameraSpec.html#a2a4f6720b790bb1022fefbeb87385d13">SDL_CameraSpec::framerate_numerator</a>, <a class="el" href="../../d6/d3c/SDL__timer_8h.html#a9022635a3ea79cd17fda644f31e80a51">SDL_Delay()</a>, <a class="el" href="../../d2/dd2/SDL__atomic_8h.html#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt()</a>, and <a class="el" href="../../d0/d7e/structSDL__Camera.html#a7555906df0319420ee92cae656c79151">SDL_Camera::shutdown</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d6b/SDL__camera_8c_a4044eb918456131d4ad258e3b1060ca9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a596a6cd902c28567cd287d0ec8e53092" name="a596a6cd902c28567cd287d0ec8e53092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a596a6cd902c28567cd287d0ec8e53092">&#9670;&#160;</a></span>bootstrap</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../dd/d3c/structCameraBootStrap.html">CameraBootStrap</a>* const bootstrap[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="lineno">   34</span>                                                  {</div>
<div class="line"><span class="lineno">   35</span><span class="preprocessor">#ifdef SDL_CAMERA_DRIVER_V4L2</span></div>
<div class="line"><span class="lineno">   36</span>    &amp;<a class="code hl_variable" href="../../d3/d62/SDL__syscamera_8h.html#a42bdbb366445325540b7acb64e1c3845">V4L2_bootstrap</a>,</div>
<div class="line"><span class="lineno">   37</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   38</span><span class="preprocessor">#ifdef SDL_CAMERA_DRIVER_PIPEWIRE</span></div>
<div class="line"><span class="lineno">   39</span>    &amp;<a class="code hl_variable" href="../../d3/d62/SDL__syscamera_8h.html#a3a48072b02011de87665f95f42fa9c80">PIPEWIRECAMERA_bootstrap</a>,</div>
<div class="line"><span class="lineno">   40</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   41</span><span class="preprocessor">#ifdef SDL_CAMERA_DRIVER_COREMEDIA</span></div>
<div class="line"><span class="lineno">   42</span>    &amp;<a class="code hl_variable" href="../../d3/d62/SDL__syscamera_8h.html#a809270dd915cf2260b9e745451177bc2">COREMEDIA_bootstrap</a>,</div>
<div class="line"><span class="lineno">   43</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   44</span><span class="preprocessor">#ifdef SDL_CAMERA_DRIVER_ANDROID</span></div>
<div class="line"><span class="lineno">   45</span>    &amp;<a class="code hl_variable" href="../../d3/d62/SDL__syscamera_8h.html#a0d8494fd8a9a7c095af5516b1e7aa28a">ANDROIDCAMERA_bootstrap</a>,</div>
<div class="line"><span class="lineno">   46</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   47</span><span class="preprocessor">#ifdef SDL_CAMERA_DRIVER_EMSCRIPTEN</span></div>
<div class="line"><span class="lineno">   48</span>    &amp;<a class="code hl_variable" href="../../d3/d62/SDL__syscamera_8h.html#af2162d78827d2419f7c03ad38f7dd4ab">EMSCRIPTENCAMERA_bootstrap</a>,</div>
<div class="line"><span class="lineno">   49</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   50</span><span class="preprocessor">#ifdef SDL_CAMERA_DRIVER_MEDIAFOUNDATION</span></div>
<div class="line"><span class="lineno">   51</span>    &amp;<a class="code hl_variable" href="../../d3/d62/SDL__syscamera_8h.html#a87d89eff755016d05855dfa6c5604c01">MEDIAFOUNDATION_bootstrap</a>,</div>
<div class="line"><span class="lineno">   52</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   53</span><span class="preprocessor">#ifdef SDL_CAMERA_DRIVER_VITA</span></div>
<div class="line"><span class="lineno">   54</span>    &amp;<a class="code hl_variable" href="../../d3/d62/SDL__syscamera_8h.html#a8dad04ba610e19e21e6654086328f3d0">VITACAMERA_bootstrap</a>,</div>
<div class="line"><span class="lineno">   55</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   56</span><span class="preprocessor">#ifdef SDL_CAMERA_DRIVER_DUMMY</span></div>
<div class="line"><span class="lineno">   57</span>    &amp;<a class="code hl_variable" href="../../d3/d62/SDL__syscamera_8h.html#a5d192264e1715c27aab479fecf43d145">DUMMYCAMERA_bootstrap</a>,</div>
<div class="line"><span class="lineno">   58</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   59</span>    <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div>
<div class="line"><span class="lineno">   60</span>};</div>
<div class="ttc" id="aSDL__syscamera_8h_html_a0d8494fd8a9a7c095af5516b1e7aa28a"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#a0d8494fd8a9a7c095af5516b1e7aa28a">ANDROIDCAMERA_bootstrap</a></div><div class="ttdeci">CameraBootStrap ANDROIDCAMERA_bootstrap</div></div>
<div class="ttc" id="aSDL__syscamera_8h_html_a3a48072b02011de87665f95f42fa9c80"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#a3a48072b02011de87665f95f42fa9c80">PIPEWIRECAMERA_bootstrap</a></div><div class="ttdeci">CameraBootStrap PIPEWIRECAMERA_bootstrap</div></div>
<div class="ttc" id="aSDL__syscamera_8h_html_a42bdbb366445325540b7acb64e1c3845"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#a42bdbb366445325540b7acb64e1c3845">V4L2_bootstrap</a></div><div class="ttdeci">CameraBootStrap V4L2_bootstrap</div></div>
<div class="ttc" id="aSDL__syscamera_8h_html_a5d192264e1715c27aab479fecf43d145"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#a5d192264e1715c27aab479fecf43d145">DUMMYCAMERA_bootstrap</a></div><div class="ttdeci">CameraBootStrap DUMMYCAMERA_bootstrap</div></div>
<div class="ttc" id="aSDL__syscamera_8h_html_a809270dd915cf2260b9e745451177bc2"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#a809270dd915cf2260b9e745451177bc2">COREMEDIA_bootstrap</a></div><div class="ttdeci">CameraBootStrap COREMEDIA_bootstrap</div></div>
<div class="ttc" id="aSDL__syscamera_8h_html_a87d89eff755016d05855dfa6c5604c01"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#a87d89eff755016d05855dfa6c5604c01">MEDIAFOUNDATION_bootstrap</a></div><div class="ttdeci">CameraBootStrap MEDIAFOUNDATION_bootstrap</div></div>
<div class="ttc" id="aSDL__syscamera_8h_html_a8dad04ba610e19e21e6654086328f3d0"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#a8dad04ba610e19e21e6654086328f3d0">VITACAMERA_bootstrap</a></div><div class="ttdeci">CameraBootStrap VITACAMERA_bootstrap</div></div>
<div class="ttc" id="aSDL__syscamera_8h_html_af2162d78827d2419f7c03ad38f7dd4ab"><div class="ttname"><a href="../../d3/d62/SDL__syscamera_8h.html#af2162d78827d2419f7c03ad38f7dd4ab">EMSCRIPTENCAMERA_bootstrap</a></div><div class="ttdeci">CameraBootStrap EMSCRIPTENCAMERA_bootstrap</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a68f96075182c4eb80c9aa0765e87bb33" name="a68f96075182c4eb80c9aa0765e87bb33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f96075182c4eb80c9aa0765e87bb33">&#9670;&#160;</a></span>camera_driver</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/ddc/structSDL__CameraDriver.html">SDL_CameraDriver</a> camera_driver</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera()</a>, <a class="el" href="#a0ba8fe72217bbe6c8ed6c7c9183cefc3">DestroyCameraHashItem()</a>, <a class="el" href="#ad3a8df31f50f2edcc09c5d7acbae12f0">ObtainPhysicalCamera()</a>, <a class="el" href="#afb7c241c357906c05f5b76ca6e5f8efc">SDL_AddCamera()</a>, <a class="el" href="#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected()</a>, <a class="el" href="#a1c95febe36642a6bee0885f1078c6cc2">SDL_CameraInit()</a>, <a class="el" href="#aaf114744da523edc8f10da088e887bc8">SDL_CameraPermissionOutcome()</a>, <a class="el" href="#adba84bc0b57d02c7e2aea48bd2202e72">SDL_FindPhysicalCameraByCallback()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a2a8924a9526ff35d0826df2c15f14dbd">SDL_GetCameras()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#ac99c6aa3d4d3675349c430ff47946de1">SDL_GetCurrentCameraDriver()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera()</a>, <a class="el" href="#a6fca7b5907990a504def9694c2ab4dc6">SDL_QuitCamera()</a>, <a class="el" href="#a3d7121bb9252d15e5556b11caa40493e">SDL_UpdateCamera()</a>, <a class="el" href="#ac5d9e3c62323ba5c687a9ec0c635cd90">UnrefPhysicalCamera()</a>, and <a class="el" href="#a991802312b4b2edaee34b6daaa80d1e9">ZombieReleaseFrame()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../dir_50980eb3d68ca1a5cefc02d16026552f.html">SDL-main</a></li><li class="navelem"><a href="../../dir_93dff7e69d031a1b18a384e0d03ab66f.html">src</a></li><li class="navelem"><a href="../../dir_7cb8eb12d0d272677f81433d3fbbe7af.html">camera</a></li><li class="navelem"><a href="../../db/d6b/SDL__camera_8c.html">SDL_camera.c</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for SDL3 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
