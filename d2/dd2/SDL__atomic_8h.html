<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDL3: SDL-main/include/SDL3/SDL_atomic.h File Reference</title>
<link rel="icon" href="../../logo.png" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">SDL3<span id="projectnumber">&#160;3.2.18</span>
   </div>
   <div id="projectbrief">SDL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('d2/dd2/SDL__atomic_8h.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">SDL_atomic.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="../../d2/d5b/SDL__stdinc_8h.html">SDL3/SDL_stdinc.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d3/d8b/SDL__platform__defines_8h.html">SDL3/SDL_platform_defines.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d8/d5f/SDL__begin__code_8h.html">SDL3/SDL_begin_code.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="../../d9/d73/SDL__close__code_8h.html">SDL3/SDL_close_code.h</a>&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for SDL_atomic.h:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../dd/da1/SDL__atomic_8h__incl.svg" width="100%" height="452"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/d53/SDL__atomic_8h__dep__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:SDL_5FAtomicInt" id="r_SDL_5FAtomicInt"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a></td></tr>
<tr class="memitem:SDL_5FAtomicU32" id="r_SDL_5FAtomicU32"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d9b/structSDL__AtomicU32.html">SDL_AtomicU32</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a1602c33647cfdfa8ae49a2eef10341c9" id="r_a1602c33647cfdfa8ae49a2eef10341c9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1602c33647cfdfa8ae49a2eef10341c9">SDL_AtomicDecRef</a>(a)</td></tr>
<tr class="memitem:a9c3b04a6ce4b6907bfb6e2ea4649ff64" id="r_a9c3b04a6ce4b6907bfb6e2ea4649ff64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c3b04a6ce4b6907bfb6e2ea4649ff64">SDL_AtomicIncRef</a>(a)</td></tr>
<tr class="memitem:a36d435d444dc115a5cc11fa7027576ec" id="r_a36d435d444dc115a5cc11fa7027576ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36d435d444dc115a5cc11fa7027576ec">SDL_CompilerBarrier</a>()</td></tr>
<tr class="memitem:a6aa8f8635b3a07f02fe26e5cc052a5f6" id="r_a6aa8f8635b3a07f02fe26e5cc052a5f6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6aa8f8635b3a07f02fe26e5cc052a5f6">SDL_CPUPauseInstruction</a>()</td></tr>
<tr class="memitem:aa33019d94c637a106218dde56b46a20a" id="r_aa33019d94c637a106218dde56b46a20a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa33019d94c637a106218dde56b46a20a">SDL_MemoryBarrierAcquire</a>()</td></tr>
<tr class="memitem:a041cb5705236fe51b35cb3d59c1fbba7" id="r_a041cb5705236fe51b35cb3d59c1fbba7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a041cb5705236fe51b35cb3d59c1fbba7">SDL_MemoryBarrierRelease</a>()</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a3398a7d671efb46663b705a7dbb9e981" id="r_a3398a7d671efb46663b705a7dbb9e981"><td class="memItemLeft" align="right" valign="top">typedef struct SDL_AtomicInt&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3398a7d671efb46663b705a7dbb9e981">SDL_AtomicInt</a></td></tr>
<tr class="memitem:a8a1afebcf20722787d7be895654f9fe1" id="r_a8a1afebcf20722787d7be895654f9fe1"><td class="memItemLeft" align="right" valign="top">typedef struct SDL_AtomicU32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a1afebcf20722787d7be895654f9fe1">SDL_AtomicU32</a></td></tr>
<tr class="memitem:a59179ff8d21c65b9d9a544f3c2088e81" id="r_a59179ff8d21c65b9d9a544f3c2088e81"><td class="memItemLeft" align="right" valign="top">typedef int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a59179ff8d21c65b9d9a544f3c2088e81">SDL_SpinLock</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae0e5b1e62b6699faee6c32dea88c8677" id="r_ae0e5b1e62b6699faee6c32dea88c8677"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> int <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt</a> (<a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> *a, int v)</td></tr>
<tr class="memitem:a83e9f26beb944b8b01dc7d027634826d" id="r_a83e9f26beb944b8b01dc7d027634826d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83e9f26beb944b8b01dc7d027634826d">SDL_CompareAndSwapAtomicInt</a> (<a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> *a, int oldval, int newval)</td></tr>
<tr class="memitem:a998de1115c4b8afd9303856239351c37" id="r_a998de1115c4b8afd9303856239351c37"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a998de1115c4b8afd9303856239351c37">SDL_CompareAndSwapAtomicPointer</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> **a, <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *oldval, <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *newval)</td></tr>
<tr class="memitem:a1d01764cd121c497a386b537e0aa64b5" id="r_a1d01764cd121c497a386b537e0aa64b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d01764cd121c497a386b537e0aa64b5">SDL_CompareAndSwapAtomicU32</a> (<a class="el" href="../../df/d9b/structSDL__AtomicU32.html">SDL_AtomicU32</a> *a, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> oldval, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> newval)</td></tr>
<tr class="memitem:a443848bbff4a83c87535d069fced7f7b" id="r_a443848bbff4a83c87535d069fced7f7b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> int <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt</a> (<a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> *a)</td></tr>
<tr class="memitem:ac9c298616d26bdff11b476817bb551a8" id="r_ac9c298616d26bdff11b476817bb551a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *<a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9c298616d26bdff11b476817bb551a8">SDL_GetAtomicPointer</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> **a)</td></tr>
<tr class="memitem:afbd9eeebbf43a4b5977de11089eda879" id="r_afbd9eeebbf43a4b5977de11089eda879"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afbd9eeebbf43a4b5977de11089eda879">SDL_GetAtomicU32</a> (<a class="el" href="../../df/d9b/structSDL__AtomicU32.html">SDL_AtomicU32</a> *a)</td></tr>
<tr class="memitem:aa48f91b7a30ab6a65db25652142d6a2c" id="r_aa48f91b7a30ab6a65db25652142d6a2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa48f91b7a30ab6a65db25652142d6a2c">SDL_LockSpinlock</a> (<a class="el" href="#a59179ff8d21c65b9d9a544f3c2088e81">SDL_SpinLock</a> *<a class="el" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>)</td></tr>
<tr class="memitem:aa92aef0c2effc0c1d8059a6a05b62038" id="r_aa92aef0c2effc0c1d8059a6a05b62038"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa92aef0c2effc0c1d8059a6a05b62038">SDL_MemoryBarrierAcquireFunction</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)</td></tr>
<tr class="memitem:aee5a6ca04ccbdaefd78ab2bd39b38935" id="r_aee5a6ca04ccbdaefd78ab2bd39b38935"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aee5a6ca04ccbdaefd78ab2bd39b38935">SDL_MemoryBarrierReleaseFunction</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)</td></tr>
<tr class="memitem:a5204fd0a33cb2419dd416665372a5192" id="r_a5204fd0a33cb2419dd416665372a5192"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> int <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a> (<a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> *a, int v)</td></tr>
<tr class="memitem:ade60a16e3f0ddf5aa0a53b0cb1102909" id="r_ade60a16e3f0ddf5aa0a53b0cb1102909"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *<a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ade60a16e3f0ddf5aa0a53b0cb1102909">SDL_SetAtomicPointer</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> **a, <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *v)</td></tr>
<tr class="memitem:ad25872337b5b5dbb39a99ead1ed99ec4" id="r_ad25872337b5b5dbb39a99ead1ed99ec4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad25872337b5b5dbb39a99ead1ed99ec4">SDL_SetAtomicU32</a> (<a class="el" href="../../df/d9b/structSDL__AtomicU32.html">SDL_AtomicU32</a> *a, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> v)</td></tr>
<tr class="memitem:adf414875db852cad52a9ebcbccbbc05d" id="r_adf414875db852cad52a9ebcbccbbc05d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adf414875db852cad52a9ebcbccbbc05d">SDL_TryLockSpinlock</a> (<a class="el" href="#a59179ff8d21c65b9d9a544f3c2088e81">SDL_SpinLock</a> *<a class="el" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>)</td></tr>
<tr class="memitem:a7465e76bfcf477ab650952e63e1cd790" id="r_a7465e76bfcf477ab650952e63e1cd790"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7465e76bfcf477ab650952e63e1cd790">SDL_UnlockSpinlock</a> (<a class="el" href="#a59179ff8d21c65b9d9a544f3c2088e81">SDL_SpinLock</a> *<a class="el" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>)</td></tr>
</table>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a1602c33647cfdfa8ae49a2eef10341c9" name="a1602c33647cfdfa8ae49a2eef10341c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1602c33647cfdfa8ae49a2eef10341c9">&#9670;&#160;</a></span>SDL_AtomicDecRef</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDL_AtomicDecRef</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">(<a class="code hl_function" href="#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt</a>(a, -1) == 1)</div>
<div class="ttc" id="aSDL__atomic_8h_html_ae0e5b1e62b6699faee6c32dea88c8677"><div class="ttname"><a href="#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_AddAtomicInt(SDL_AtomicInt *a, int v)</div><div class="ttdef"><b>Definition</b> SDL_atomic.c:277</div></div>
</div><!-- fragment --><p>Decrement an atomic variable used as a reference count.</p>
<p><em><b>Note: If you don't know what this macro is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to an <a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> to decrement. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the variable reached zero after decrementing, false otherwise.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this macro from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This macro is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a9c3b04a6ce4b6907bfb6e2ea4649ff64">SDL_AtomicIncRef</a> </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../dd/d1d/SDL__thread_8h.html#a9a85d9b7f8e2260a0e952fdf770f6bf4">SDL_CleanupTLS()</a>, <a class="el" href="../../d6/d85/SDL__joystick_8h.html#ae7a2531c9a4f2b2229f4065024499d49">SDL_LockJoysticks()</a>, <a class="el" href="../../dc/de1/SDL__sensor_8c.html#a831c0b3776b592fd4fd212aaaa896a8c">SDL_LockSensors()</a>, <a class="el" href="../../d8/d00/SDL__messagebox_8h.html#ad6e4b2e1e7f85b9188c9ab6b975f2fbd">SDL_ShowMessageBox()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a0985c76875054883c444d665c41f9da3">UnrefPhysicalAudioDevice()</a>, and <a class="el" href="../../db/d6b/SDL__camera_8c.html#ac5d9e3c62323ba5c687a9ec0c635cd90">UnrefPhysicalCamera()</a>.</p>

</div>
</div>
<a id="a9c3b04a6ce4b6907bfb6e2ea4649ff64" name="a9c3b04a6ce4b6907bfb6e2ea4649ff64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c3b04a6ce4b6907bfb6e2ea4649ff64">&#9670;&#160;</a></span>SDL_AtomicIncRef</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDL_AtomicIncRef</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>a</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_function" href="#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt</a>(a, 1)</div>
</div><!-- fragment --><p>Increment an atomic variable used as a reference count.</p>
<p><em><b>Note: If you don't know what this macro is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to an <a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> to increment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value of the atomic variable.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this macro from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This macro is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a1602c33647cfdfa8ae49a2eef10341c9">SDL_AtomicDecRef</a> </dd></dl>

<p class="reference">Referenced by <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a9eeb6b3f27d8a14f1b5cc70d5112765c">AssignAudioDeviceInstanceId()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a911f52b14f2df37f343919e4975ae94d">RefPhysicalAudioDevice()</a>, <a class="el" href="../../db/d6b/SDL__camera_8c.html#aaa382a79d36a025d9368556d49202d48">RefPhysicalCamera()</a>, <a class="el" href="../../d5/d57/SDL__utils_8c.html#a9d025832784be50b6aa11f07bc900651">SDL_GetNextObjectID()</a>, <a class="el" href="../../d6/d85/SDL__joystick_8h.html#ae7a2531c9a4f2b2229f4065024499d49">SDL_LockJoysticks()</a>, <a class="el" href="../../dc/de1/SDL__sensor_8c.html#a831c0b3776b592fd4fd212aaaa896a8c">SDL_LockSensors()</a>, <a class="el" href="../../dd/d1d/SDL__thread_8h.html#a8bc3bdec5aa90bc614e28758b3d03cd1">SDL_SetTLS()</a>, and <a class="el" href="../../d8/d00/SDL__messagebox_8h.html#ad6e4b2e1e7f85b9188c9ab6b975f2fbd">SDL_ShowMessageBox()</a>.</p>

</div>
</div>
<a id="a36d435d444dc115a5cc11fa7027576ec" name="a36d435d444dc115a5cc11fa7027576ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36d435d444dc115a5cc11fa7027576ec">&#9670;&#160;</a></span>SDL_CompilerBarrier</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDL_CompilerBarrier</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{ <a class="code hl_typedef" href="#a59179ff8d21c65b9d9a544f3c2088e81">SDL_SpinLock</a> _tmp = 0; <a class="code hl_function" href="#aa48f91b7a30ab6a65db25652142d6a2c">SDL_LockSpinlock</a>(&amp;_tmp); <a class="code hl_function" href="#a7465e76bfcf477ab650952e63e1cd790">SDL_UnlockSpinlock</a>(&amp;_tmp); }</div>
<div class="ttc" id="aSDL__atomic_8h_html_a59179ff8d21c65b9d9a544f3c2088e81"><div class="ttname"><a href="#a59179ff8d21c65b9d9a544f3c2088e81">SDL_SpinLock</a></div><div class="ttdeci">int SDL_SpinLock</div><div class="ttdef"><b>Definition</b> SDL_atomic.h:82</div></div>
<div class="ttc" id="aSDL__atomic_8h_html_a7465e76bfcf477ab650952e63e1cd790"><div class="ttname"><a href="#a7465e76bfcf477ab650952e63e1cd790">SDL_UnlockSpinlock</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_UnlockSpinlock(SDL_SpinLock *lock)</div><div class="ttdef"><b>Definition</b> SDL_spinlock.c:179</div></div>
<div class="ttc" id="aSDL__atomic_8h_html_aa48f91b7a30ab6a65db25652142d6a2c"><div class="ttname"><a href="#aa48f91b7a30ab6a65db25652142d6a2c">SDL_LockSpinlock</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_LockSpinlock(SDL_SpinLock *lock)</div><div class="ttdef"><b>Definition</b> SDL_spinlock.c:164</div></div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="lineno">  170</span><span class="preprocessor">#define SDL_CompilerBarrier()   \</span></div>
<div class="line"><span class="lineno">  171</span><span class="preprocessor">{ SDL_SpinLock _tmp = 0; SDL_LockSpinlock(&amp;_tmp); SDL_UnlockSpinlock(&amp;_tmp); }</span></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#a7465e76bfcf477ab650952e63e1cd790">SDL_UnlockSpinlock()</a>.</p>

</div>
</div>
<a id="a6aa8f8635b3a07f02fe26e5cc052a5f6" name="a6aa8f8635b3a07f02fe26e5cc052a5f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa8f8635b3a07f02fe26e5cc052a5f6">&#9670;&#160;</a></span>SDL_CPUPauseInstruction</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDL_CPUPauseInstruction</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d3c/SDL__timer_8h.html#ae3ad02ec5be0f5484ef708abc210c31c">SDL_DelayPrecise()</a>, and <a class="el" href="#aa48f91b7a30ab6a65db25652142d6a2c">SDL_LockSpinlock()</a>.</p>

</div>
</div>
<a id="aa33019d94c637a106218dde56b46a20a" name="aa33019d94c637a106218dde56b46a20a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa33019d94c637a106218dde56b46a20a">&#9670;&#160;</a></span>SDL_MemoryBarrierAcquire</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDL_MemoryBarrierAcquire</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_define" href="#a36d435d444dc115a5cc11fa7027576ec">SDL_CompilerBarrier</a>()</div>
<div class="ttc" id="aSDL__atomic_8h_html_a36d435d444dc115a5cc11fa7027576ec"><div class="ttname"><a href="#a36d435d444dc115a5cc11fa7027576ec">SDL_CompilerBarrier</a></div><div class="ttdeci">#define SDL_CompilerBarrier()</div><div class="ttdef"><b>Definition</b> SDL_atomic.h:170</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#aa92aef0c2effc0c1d8059a6a05b62038">SDL_MemoryBarrierAcquireFunction()</a>.</p>

</div>
</div>
<a id="a041cb5705236fe51b35cb3d59c1fbba7" name="a041cb5705236fe51b35cb3d59c1fbba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a041cb5705236fe51b35cb3d59c1fbba7">&#9670;&#160;</a></span>SDL_MemoryBarrierRelease</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SDL_MemoryBarrierRelease</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code hl_define" href="#a36d435d444dc115a5cc11fa7027576ec">SDL_CompilerBarrier</a>()</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#aee5a6ca04ccbdaefd78ab2bd39b38935">SDL_MemoryBarrierReleaseFunction()</a>.</p>

</div>
</div>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="a3398a7d671efb46663b705a7dbb9e981" name="a3398a7d671efb46663b705a7dbb9e981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3398a7d671efb46663b705a7dbb9e981">&#9670;&#160;</a></span>SDL_AtomicInt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct SDL_AtomicInt SDL_AtomicInt</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A type representing an atomic integer value.</p>
<p>This can be used to manage a value that is synchronized across multiple CPUs without a race condition; when an app sets a value with SDL_SetAtomicInt all other threads, regardless of the CPU it is running on, will see that value when retrieved with SDL_GetAtomicInt, regardless of CPU caches, etc.</p>
<p>This is also useful for atomic compare-and-swap operations: a thread can change the value as long as its current value matches expectations. When done in a loop, one can guarantee data consistency across threads without a lock (but the usual warnings apply: if you don't know what you're doing, or you don't do it carefully, you can confidently cause any number of disasters with this, so in most cases, you <em>should</em> use a mutex instead of this!).</p>
<p>This is a struct so people don't accidentally use numeric operations on it directly. You have to use SDL atomic functions.</p>
<dl class="section since"><dt>Since</dt><dd>This struct is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a83e9f26beb944b8b01dc7d027634826d">SDL_CompareAndSwapAtomicInt</a> </dd>
<dd>
<a class="el" href="#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt</a> </dd>
<dd>
<a class="el" href="#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a> </dd>
<dd>
<a class="el" href="#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt</a> </dd></dl>

</div>
</div>
<a id="a8a1afebcf20722787d7be895654f9fe1" name="a8a1afebcf20722787d7be895654f9fe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a1afebcf20722787d7be895654f9fe1">&#9670;&#160;</a></span>SDL_AtomicU32</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct SDL_AtomicU32 SDL_AtomicU32</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A type representing an atomic unsigned 32-bit value.</p>
<p>This can be used to manage a value that is synchronized across multiple CPUs without a race condition; when an app sets a value with SDL_SetAtomicU32 all other threads, regardless of the CPU it is running on, will see that value when retrieved with SDL_GetAtomicU32, regardless of CPU caches, etc.</p>
<p>This is also useful for atomic compare-and-swap operations: a thread can change the value as long as its current value matches expectations. When done in a loop, one can guarantee data consistency across threads without a lock (but the usual warnings apply: if you don't know what you're doing, or you don't do it carefully, you can confidently cause any number of disasters with this, so in most cases, you <em>should</em> use a mutex instead of this!).</p>
<p>This is a struct so people don't accidentally use numeric operations on it directly. You have to use SDL atomic functions.</p>
<dl class="section since"><dt>Since</dt><dd>This struct is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a1d01764cd121c497a386b537e0aa64b5">SDL_CompareAndSwapAtomicU32</a> </dd>
<dd>
<a class="el" href="#afbd9eeebbf43a4b5977de11089eda879">SDL_GetAtomicU32</a> </dd>
<dd>
<a class="el" href="#ad25872337b5b5dbb39a99ead1ed99ec4">SDL_SetAtomicU32</a> </dd></dl>

</div>
</div>
<a id="a59179ff8d21c65b9d9a544f3c2088e81" name="a59179ff8d21c65b9d9a544f3c2088e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59179ff8d21c65b9d9a544f3c2088e81">&#9670;&#160;</a></span>SDL_SpinLock</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int <a class="el" href="#a59179ff8d21c65b9d9a544f3c2088e81">SDL_SpinLock</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<h1 class="doxsection"><a class="anchor" id="categoryatomic"></a>
CategoryAtomic</h1>
<p>Atomic operations.</p>
<p>IMPORTANT: If you are not an expert in concurrent lockless programming, you should not be using any functions in this file. You should be protecting your data structures with full mutexes instead.</p>
<p><em><b>Seriously, here be dragons!</b></em></p>
<p>You can find out a little more about lockless programming and the subtle issues that can arise here: <a href="https://learn.microsoft.com/en-us/windows/win32/dxtecharts/lockless-programming">https://learn.microsoft.com/en-us/windows/win32/dxtecharts/lockless-programming</a></p>
<p>There's also lots of good information here:</p>
<ul>
<li><a href="https://www.1024cores.net/home/lock-free-algorithms">https://www.1024cores.net/home/lock-free-algorithms</a></li>
<li><a href="https://preshing.com/">https://preshing.com/</a></li>
</ul>
<p>These operations may or may not actually be implemented using processor specific atomic operations. When possible they are implemented as true processor specific atomic operations. When that is not possible the are implemented using locks that <em>do</em> use the available atomic operations.</p>
<p>All of the atomic operations that modify memory are full memory barriers. An atomic spinlock.</p>
<p>The atomic locks are efficient spinlocks using CPU instructions, but are vulnerable to starvation and can spin forever if a thread holding a lock has been terminated. For this reason you should minimize the code executed inside an atomic lock and never do expensive things like API or system calls while holding them.</p>
<p>They are also vulnerable to starvation if the thread holding the lock is lower priority than other threads and doesn't get scheduled. In general you should use mutexes instead, since they have better performance and contention behavior.</p>
<p>The atomic locks are not safe to lock recursively.</p>
<p>Porting Note: The spin lock functions and type are required and can not be emulated because they are used in the atomic emulation code. </p>

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="ae0e5b1e62b6699faee6c32dea88c8677" name="ae0e5b1e62b6699faee6c32dea88c8677"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0e5b1e62b6699faee6c32dea88c8677">&#9670;&#160;</a></span>SDL_AddAtomicInt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> int <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_AddAtomicInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add to an atomic variable.</p>
<p>This function also acts as a full memory barrier.</p>
<p><em><b>Note: If you don't know what this function is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to an <a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> variable to be modified. </td></tr>
    <tr><td class="paramname">v</td><td>the desired value to add. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value of the atomic variable.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a1602c33647cfdfa8ae49a2eef10341c9">SDL_AtomicDecRef</a> </dd>
<dd>
<a class="el" href="#a9c3b04a6ce4b6907bfb6e2ea4649ff64">SDL_AtomicIncRef</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  278</span>{</div>
<div class="line"><span class="lineno">  279</span><span class="preprocessor">#ifdef HAVE_MSC_ATOMICS</span></div>
<div class="line"><span class="lineno">  280</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_add, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>));</div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordflow">return</span> _InterlockedExchangeAdd((<span class="keywordtype">long</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, v);</div>
<div class="line"><span class="lineno">  282</span><span class="preprocessor">#elif defined(HAVE_WATCOM_ATOMICS)</span></div>
<div class="line"><span class="lineno">  283</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_add, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>));</div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">return</span> _SDL_xadd_watcom((<span class="keyword">volatile</span> <span class="keywordtype">int</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, v);</div>
<div class="line"><span class="lineno">  285</span><span class="preprocessor">#elif defined(HAVE_GCC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  286</span>    <span class="keywordflow">return</span> __sync_fetch_and_add(&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, v);</div>
<div class="line"><span class="lineno">  287</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordtype">int</span> pv = a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>;</div>
<div class="line"><span class="lineno">  289</span>    membar_consumer();</div>
<div class="line"><span class="lineno">  290</span>    atomic_add_int((<span class="keyword">volatile</span> uint_t *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, v);</div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">return</span> pv;</div>
<div class="line"><span class="lineno">  292</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordtype">int</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  294</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  295</span>        <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a> = a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>;</div>
<div class="line"><span class="lineno">  296</span>    } <span class="keywordflow">while</span> (!<a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#a146f183a014bdbfc9fbe58c0c5280137">SDL_CompareAndSwapAtomicInt</a>(a, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>, (<a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a> + v)));</div>
<div class="line"><span class="lineno">  297</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  298</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  299</span>}</div>
<div class="ttc" id="aSDL__atomic_8c_html_a146f183a014bdbfc9fbe58c0c5280137"><div class="ttname"><a href="../../de/dc7/SDL__atomic_8c.html#a146f183a014bdbfc9fbe58c0c5280137">SDL_CompareAndSwapAtomicInt</a></div><div class="ttdeci">bool SDL_CompareAndSwapAtomicInt(SDL_AtomicInt *a, int oldval, int newval)</div><div class="ttdef"><b>Definition</b> SDL_atomic.c:125</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_aba1f23ae531b67b0455a2e254bdad09b"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a></div><div class="ttdeci">#define SDL_COMPILE_TIME_ASSERT(name, x)</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:209</div></div>
<div class="ttc" id="aegl_8h_html_ac65f229362223146c236e514997528c0"><div class="ttname"><a href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a></div><div class="ttdeci">EGLConfig EGLint EGLint * value</div><div class="ttdef"><b>Definition</b> egl.h:114</div></div>
<div class="ttc" id="astructSDL__AtomicInt_html_a5cf4b9c173347ef0f44bf90e6d30c938"><div class="ttname"><a href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">SDL_AtomicInt::value</a></div><div class="ttdeci">int value</div><div class="ttdef"><b>Definition</b> SDL_atomic.h:395</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a146f183a014bdbfc9fbe58c0c5280137">SDL_CompareAndSwapAtomicInt()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>, and <a class="el" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">SDL_AtomicInt::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a7511eb031923f0e5397110f871bbb938">CreatePhysicalAudioDevice()</a>, <a class="el" href="../../d7/d30/SDL__asyncio_8c.html#a88ce42401746068fa8c9143c447b8a43">GetAsyncIOTaskOutcome()</a>, <a class="el" href="../../d7/d30/SDL__asyncio_8c.html#ab10a8b6efb210c7babed3d828810b9c5">RequestAsyncIO()</a>, <a class="el" href="../../db/d6b/SDL__camera_8c.html#afb7c241c357906c05f5b76ca6e5f8efc">SDL_AddCamera()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#a49117c0cc72e9c90c6ac373eecbc337e">SDL_AddEvent()</a>, <a class="el" href="../../d9/df4/SDL__asyncio_8h.html#a6848c4fb7cc45328d90fe2d442a1f212">SDL_CloseAsyncIO()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#aeda486842d647bc7974ae81b0cf72a63">SDL_CutEvent()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting()</a>, <a class="el" href="../../da/d39/SDL__events_8h.html#a74b3dc25e642891bcb8b16861499ec8d">SDL_RegisterEvents()</a>, <a class="el" href="../../d3/d02/generic_2SDL__sysrwlock_8c.html#a5275d1c00dc5ef8c5071455b7b7b1de1">SDL_TryLockRWLockForReading_generic()</a>, <a class="el" href="../../d3/d02/generic_2SDL__sysrwlock_8c.html#a1fa08afdaeee8753ce23b83a99dfc724">SDL_TryLockRWLockForWriting_generic()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a0985c76875054883c444d665c41f9da3">UnrefPhysicalAudioDevice()</a>, and <a class="el" href="../../db/d6b/SDL__camera_8c.html#ac5d9e3c62323ba5c687a9ec0c635cd90">UnrefPhysicalCamera()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_ae0e5b1e62b6699faee6c32dea88c8677_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_ae0e5b1e62b6699faee6c32dea88c8677_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a83e9f26beb944b8b01dc7d027634826d" name="a83e9f26beb944b8b01dc7d027634826d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83e9f26beb944b8b01dc7d027634826d">&#9670;&#160;</a></span>SDL_CompareAndSwapAtomicInt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_CompareAndSwapAtomicInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>oldval</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>newval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set an atomic variable to a new value if it is currently an old value.</p>
<p><em><b>Note: If you don't know what this function is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to an <a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> variable to be modified. </td></tr>
    <tr><td class="paramname">oldval</td><td>the old value. </td></tr>
    <tr><td class="paramname">newval</td><td>the new value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the atomic variable was set, false otherwise.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt</a> </dd>
<dd>
<a class="el" href="#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  126</span>{</div>
<div class="line"><span class="lineno">  127</span><span class="preprocessor">#ifdef HAVE_MSC_ATOMICS</span></div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_cas, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>));</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">return</span> _InterlockedCompareExchange((<span class="keywordtype">long</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, (<span class="keywordtype">long</span>)newval, (<span class="keywordtype">long</span>)oldval) == (long)oldval;</div>
<div class="line"><span class="lineno">  130</span><span class="preprocessor">#elif defined(HAVE_WATCOM_ATOMICS)</span></div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">return</span> _SDL_cmpxchg_watcom((<span class="keyword">volatile</span> <span class="keywordtype">int</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, newval, oldval);</div>
<div class="line"><span class="lineno">  132</span><span class="preprocessor">#elif defined(HAVE_GCC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">return</span> __sync_bool_compare_and_swap(&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, oldval, newval);</div>
<div class="line"><span class="lineno">  134</span><span class="preprocessor">#elif defined(SDL_PLATFORM_MACOS) </span><span class="comment">// this is deprecated in 10.12 sdk; favor gcc atomics.</span></div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">return</span> OSAtomicCompareAndSwap32Barrier(oldval, newval, &amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>);</div>
<div class="line"><span class="lineno">  136</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  137</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_cas, <span class="keyword">sizeof</span>(uint_t) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>));</div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">return</span> ((<span class="keywordtype">int</span>)atomic_cas_uint((<span class="keyword">volatile</span> uint_t *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, (uint_t)oldval, (uint_t)newval) == oldval);</div>
<div class="line"><span class="lineno">  139</span><span class="preprocessor">#elif defined(EMULATE_CAS)</span></div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    <a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#ad8d41db93b04a328abfccbc11ad6f3d9">enterLock</a>(a);</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">if</span> (a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a> == oldval) {</div>
<div class="line"><span class="lineno">  144</span>        a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a> = newval;</div>
<div class="line"><span class="lineno">  145</span>        result = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  146</span>    }</div>
<div class="line"><span class="lineno">  147</span>    <a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#a3242ce14b4634721db1ff9ed9f552345">leaveLock</a>(a);</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  150</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  151</span><span class="preprocessor">#error Please define your platform.</span></div>
<div class="line"><span class="lineno">  152</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  153</span>}</div>
<div class="ttc" id="aSDL__atomic_8c_html_a3242ce14b4634721db1ff9ed9f552345"><div class="ttname"><a href="../../de/dc7/SDL__atomic_8c.html#a3242ce14b4634721db1ff9ed9f552345">leaveLock</a></div><div class="ttdeci">static SDL_INLINE void leaveLock(void *a)</div><div class="ttdef"><b>Definition</b> SDL_atomic.c:117</div></div>
<div class="ttc" id="aSDL__atomic_8c_html_ad8d41db93b04a328abfccbc11ad6f3d9"><div class="ttname"><a href="../../de/dc7/SDL__atomic_8c.html#ad8d41db93b04a328abfccbc11ad6f3d9">enterLock</a></div><div class="ttdeci">static SDL_INLINE void enterLock(void *a)</div><div class="ttdef"><b>Definition</b> SDL_atomic.c:110</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/dc7/SDL__atomic_8c.html#ad8d41db93b04a328abfccbc11ad6f3d9">enterLock()</a>, <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a3242ce14b4634721db1ff9ed9f552345">leaveLock()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>, and <a class="el" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">SDL_AtomicInt::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ae0e5b1e62b6699faee6c32dea88c8677">SDL_AddAtomicInt()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#af0c8f5d60475df001f7d84969a296428">SDL_AudioDeviceDisconnected()</a>, <a class="el" href="../../db/d6b/SDL__camera_8c.html#acd24207c14e2b43ccdf28e8107f3f2a5">SDL_CameraDisconnected()</a>, <a class="el" href="../../dd/d1d/SDL__thread_8h.html#ae1176f1347cdbc94af4b1974b1acd9d8">SDL_DetachThread()</a>, <a class="el" href="../../d9/d78/SDL__main__callbacks_8c.html#af58c724bc081e42f02324f280392abc6">SDL_DispatchMainCallbackEvent()</a>, <a class="el" href="#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a817d3e1809f55afa3541214c9ddf4e48">SDL_InitAudio()</a>, <a class="el" href="../../d9/d78/SDL__main__callbacks_8c.html#a3d21b5bf7aa441418de48c5b2856336a">SDL_InitMainCallbacks()</a>, <a class="el" href="../../d9/d78/SDL__main__callbacks_8c.html#a02814527c162e7032c1293045fed18c6">SDL_IterateMainCallbacks()</a>, <a class="el" href="../../d9/d78/SDL__main__callbacks_8c.html#a7eca517a704a9cba7064a1b66ee8a9c9">SDL_MainCallbackEventWatcher()</a>, <a class="el" href="../../de/de3/SDL__thread_8c.html#a3efab294b703dce9517f640314fcee4a">SDL_RunThread()</a>, <a class="el" href="#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt()</a>, <a class="el" href="../../dd/d1d/SDL__thread_8h.html#a8bc3bdec5aa90bc614e28758b3d03cd1">SDL_SetTLS()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a8c5b833ef9d550e288913611ff68c872">SDL_ShouldInit()</a>, and <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a617593b97d01282dc84848dd2cef0d50">SDL_ShouldQuit()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a83e9f26beb944b8b01dc7d027634826d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a83e9f26beb944b8b01dc7d027634826d_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a998de1115c4b8afd9303856239351c37" name="a998de1115c4b8afd9303856239351c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a998de1115c4b8afd9303856239351c37">&#9670;&#160;</a></span>SDL_CompareAndSwapAtomicPointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_CompareAndSwapAtomicPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> **</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>oldval</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>newval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set a pointer to a new value if it is currently an old value.</p>
<p><em><b>Note: If you don't know what this function is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to a pointer. </td></tr>
    <tr><td class="paramname">oldval</td><td>the old pointer value. </td></tr>
    <tr><td class="paramname">newval</td><td>the new pointer value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the pointer was set, false otherwise.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a83e9f26beb944b8b01dc7d027634826d">SDL_CompareAndSwapAtomicInt</a> </dd>
<dd>
<a class="el" href="#ac9c298616d26bdff11b476817bb551a8">SDL_GetAtomicPointer</a> </dd>
<dd>
<a class="el" href="#ade60a16e3f0ddf5aa0a53b0cb1102909">SDL_SetAtomicPointer</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  187</span>{</div>
<div class="line"><span class="lineno">  188</span><span class="preprocessor">#ifdef HAVE_MSC_ATOMICS</span></div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordflow">return</span> _InterlockedCompareExchangePointer(a, newval, oldval) == oldval;</div>
<div class="line"><span class="lineno">  190</span><span class="preprocessor">#elif defined(HAVE_WATCOM_ATOMICS)</span></div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">return</span> _SDL_cmpxchg_watcom((<span class="keywordtype">int</span> *)a, (<span class="keywordtype">long</span>)newval, (<span class="keywordtype">long</span>)oldval);</div>
<div class="line"><span class="lineno">  192</span><span class="preprocessor">#elif defined(HAVE_GCC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">return</span> __sync_bool_compare_and_swap(a, oldval, newval);</div>
<div class="line"><span class="lineno">  194</span><span class="preprocessor">#elif defined(SDL_PLATFORM_MACOS) &amp;&amp; defined(__LP64__)  </span><span class="comment">// this is deprecated in 10.12 sdk; favor gcc atomics.</span></div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">return</span> OSAtomicCompareAndSwap64Barrier((int64_t)oldval, (int64_t)newval, (int64_t *)a);</div>
<div class="line"><span class="lineno">  196</span><span class="preprocessor">#elif defined(SDL_PLATFORM_MACOS) &amp;&amp; !defined(__LP64__) </span><span class="comment">// this is deprecated in 10.12 sdk; favor gcc atomics.</span></div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">return</span> OSAtomicCompareAndSwap32Barrier((int32_t)oldval, (int32_t)newval, (int32_t *)a);</div>
<div class="line"><span class="lineno">  198</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">return</span> (atomic_cas_ptr(a, oldval, newval) == oldval);</div>
<div class="line"><span class="lineno">  200</span><span class="preprocessor">#elif defined(EMULATE_CAS)</span></div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    <a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#ad8d41db93b04a328abfccbc11ad6f3d9">enterLock</a>(a);</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">if</span> (*a == oldval) {</div>
<div class="line"><span class="lineno">  205</span>        *a = newval;</div>
<div class="line"><span class="lineno">  206</span>        result = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  207</span>    }</div>
<div class="line"><span class="lineno">  208</span>    <a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#a3242ce14b4634721db1ff9ed9f552345">leaveLock</a>(a);</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  211</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  212</span><span class="preprocessor">#error Please define your platform.</span></div>
<div class="line"><span class="lineno">  213</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  214</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/dc7/SDL__atomic_8c.html#ad8d41db93b04a328abfccbc11ad6f3d9">enterLock()</a>, and <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a3242ce14b4634721db1ff9ed9f552345">leaveLock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d3/d91/SDL__video_8h.html#af1c4ea5f030153a9053cde8ee9a92424">SDL_DestroyWindow()</a>, <a class="el" href="#ac9c298616d26bdff11b476817bb551a8">SDL_GetAtomicPointer()</a>, and <a class="el" href="#ade60a16e3f0ddf5aa0a53b0cb1102909">SDL_SetAtomicPointer()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a998de1115c4b8afd9303856239351c37_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a998de1115c4b8afd9303856239351c37_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a1d01764cd121c497a386b537e0aa64b5" name="a1d01764cd121c497a386b537e0aa64b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d01764cd121c497a386b537e0aa64b5">&#9670;&#160;</a></span>SDL_CompareAndSwapAtomicU32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_CompareAndSwapAtomicU32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d9b/structSDL__AtomicU32.html">SDL_AtomicU32</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a></td>          <td class="paramname"><span class="paramname"><em>oldval</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a></td>          <td class="paramname"><span class="paramname"><em>newval</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set an atomic variable to a new value if it is currently an old value.</p>
<p><em><b>Note: If you don't know what this function is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to an <a class="el" href="../../df/d9b/structSDL__AtomicU32.html">SDL_AtomicU32</a> variable to be modified. </td></tr>
    <tr><td class="paramname">oldval</td><td>the old value. </td></tr>
    <tr><td class="paramname">newval</td><td>the new value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the atomic variable was set, false otherwise.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#afbd9eeebbf43a4b5977de11089eda879">SDL_GetAtomicU32</a> </dd>
<dd>
<a class="el" href="#ad25872337b5b5dbb39a99ead1ed99ec4">SDL_SetAtomicU32</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  156</span>{</div>
<div class="line"><span class="lineno">  157</span><span class="preprocessor">#ifdef HAVE_MSC_ATOMICS</span></div>
<div class="line"><span class="lineno">  158</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_cas, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>));</div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">return</span> _InterlockedCompareExchange((<span class="keywordtype">long</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, (<span class="keywordtype">long</span>)newval, (<span class="keywordtype">long</span>)oldval) == (long)oldval;</div>
<div class="line"><span class="lineno">  160</span><span class="preprocessor">#elif defined(HAVE_WATCOM_ATOMICS)</span></div>
<div class="line"><span class="lineno">  161</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_cas, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>));</div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">return</span> _SDL_cmpxchg_watcom((<span class="keyword">volatile</span> <span class="keywordtype">int</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, (<span class="keywordtype">int</span>)newval, (<span class="keywordtype">int</span>)oldval);</div>
<div class="line"><span class="lineno">  163</span><span class="preprocessor">#elif defined(HAVE_GCC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">return</span> __sync_bool_compare_and_swap(&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, oldval, newval);</div>
<div class="line"><span class="lineno">  165</span><span class="preprocessor">#elif defined(SDL_PLATFORM_MACOS) </span><span class="comment">// this is deprecated in 10.12 sdk; favor gcc atomics.</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">return</span> OSAtomicCompareAndSwap32Barrier((int32_t)oldval, (int32_t)newval, (int32_t *)&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>);</div>
<div class="line"><span class="lineno">  167</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  168</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_cas, <span class="keyword">sizeof</span>(uint_t) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>));</div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">return</span> ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)atomic_cas_uint((<span class="keyword">volatile</span> uint_t *)&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, (uint_t)oldval, (uint_t)newval) == oldval);</div>
<div class="line"><span class="lineno">  170</span><span class="preprocessor">#elif defined(EMULATE_CAS)</span></div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    <a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#ad8d41db93b04a328abfccbc11ad6f3d9">enterLock</a>(a);</div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">if</span> (a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a> == oldval) {</div>
<div class="line"><span class="lineno">  175</span>        a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a> = newval;</div>
<div class="line"><span class="lineno">  176</span>        result = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  177</span>    }</div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#a3242ce14b4634721db1ff9ed9f552345">leaveLock</a>(a);</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  181</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  182</span><span class="preprocessor">#error Please define your platform.</span></div>
<div class="line"><span class="lineno">  183</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  184</span>}</div>
<div class="ttc" id="aSDL__stdinc_8h_html_add440eff171ea5f55cb00c4a9ab8672d"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a></div><div class="ttdeci">uint32_t Uint32</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:461</div></div>
<div class="ttc" id="astructSDL__AtomicU32_html_a500feeb428b8ea36d8c7fed787d15d68"><div class="ttname"><a href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">SDL_AtomicU32::value</a></div><div class="ttdeci">Uint32 value</div><div class="ttdef"><b>Definition</b> SDL_atomic.h:540</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/dc7/SDL__atomic_8c.html#ad8d41db93b04a328abfccbc11ad6f3d9">enterLock()</a>, <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a3242ce14b4634721db1ff9ed9f552345">leaveLock()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>, and <a class="el" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">SDL_AtomicU32::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d4a/SDL__hints_8c.html#a0f204461c9d660b51105394023d91225">GetHintProperties()</a>, <a class="el" href="../../d6/d40/SDL__properties_8h.html#a3879ae5bd4727e826dadcf289263f929">SDL_CreateProperties()</a>, <a class="el" href="#afbd9eeebbf43a4b5977de11089eda879">SDL_GetAtomicU32()</a>, <a class="el" href="../../d6/d40/SDL__properties_8h.html#a15a305ca0429255f28ec6d9a01fc404f">SDL_GetGlobalProperties()</a>, <a class="el" href="../../d4/d4a/SDL__hints_8c.html#ab3585c72384fb2f1c88c1b0602959951">SDL_QuitHints()</a>, <a class="el" href="../../d3/de7/SDL__properties_8c.html#ae90a010b6925ae8f0aa6b3e6d7071ed5">SDL_QuitProperties()</a>, and <a class="el" href="#ad25872337b5b5dbb39a99ead1ed99ec4">SDL_SetAtomicU32()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a1d01764cd121c497a386b537e0aa64b5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a1d01764cd121c497a386b537e0aa64b5_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a443848bbff4a83c87535d069fced7f7b" name="a443848bbff4a83c87535d069fced7f7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a443848bbff4a83c87535d069fced7f7b">&#9670;&#160;</a></span>SDL_GetAtomicInt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> int <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_GetAtomicInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the value of an atomic variable.</p>
<p><em><b>Note: If you don't know what this function is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to an <a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> variable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the current value of an atomic variable.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a5204fd0a33cb2419dd416665372a5192">SDL_SetAtomicInt</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  302</span>{</div>
<div class="line"><span class="lineno">  303</span><span class="preprocessor">#ifdef HAVE_ATOMIC_LOAD_N</span></div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">return</span> __atomic_load_n(&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, __ATOMIC_SEQ_CST);</div>
<div class="line"><span class="lineno">  305</span><span class="preprocessor">#elif defined(HAVE_MSC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  306</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_get, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>));</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">return</span> _InterlockedOr((<span class="keywordtype">long</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, 0);</div>
<div class="line"><span class="lineno">  308</span><span class="preprocessor">#elif defined(HAVE_WATCOM_ATOMICS)</span></div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">return</span> _SDL_xadd_watcom(&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, 0);</div>
<div class="line"><span class="lineno">  310</span><span class="preprocessor">#elif defined(HAVE_GCC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  311</span>    <span class="keywordflow">return</span> __sync_or_and_fetch(&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, 0);</div>
<div class="line"><span class="lineno">  312</span><span class="preprocessor">#elif defined(SDL_PLATFORM_MACOS) </span><span class="comment">// this is deprecated in 10.12 sdk; favor gcc atomics.</span></div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">return</span> <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>) == <span class="keyword">sizeof</span>(uint32_t) ? OSAtomicOr32Barrier(0, (<span class="keyword">volatile</span> uint32_t *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>) : OSAtomicAdd64Barrier(0, (volatile int64_t *)&amp;a-&gt;<a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>);</div>
<div class="line"><span class="lineno">  314</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  315</span>    <span class="keywordflow">return</span> atomic_or_uint_nv((<span class="keyword">volatile</span> uint_t *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, 0);</div>
<div class="line"><span class="lineno">  316</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordtype">int</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  319</span>        <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a> = a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>;</div>
<div class="line"><span class="lineno">  320</span>    } <span class="keywordflow">while</span> (!<a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#a146f183a014bdbfc9fbe58c0c5280137">SDL_CompareAndSwapAtomicInt</a>(a, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>));</div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  322</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  323</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a146f183a014bdbfc9fbe58c0c5280137">SDL_CompareAndSwapAtomicInt()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>, and <a class="el" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">SDL_AtomicInt::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a004b0b6a8d60451f901cbeaa440a7b9b">CountAudioDevices()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a7511eb031923f0e5397110f871bbb938">CreatePhysicalAudioDevice()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#adf30bd9399f79acbc006b764705b4213">GetAudioDevices()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a67d5d3273196908cd2180bde093c413d">OpenPhysicalAudioDevice()</a>, <a class="el" href="../../db/d6b/SDL__camera_8c.html#afb7c241c357906c05f5b76ca6e5f8efc">SDL_AddCamera()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#a49117c0cc72e9c90c6ac373eecbc337e">SDL_AddEvent()</a>, <a class="el" href="../../dd/da1/SDL__audio_8h.html#a28f54d5f43eee3d6700cf9d75f6cadf2">SDL_AudioDevicePaused()</a>, <a class="el" href="../../db/d6b/SDL__camera_8c.html#aada59aeebd93ce01f07435a3741fc972">SDL_CameraThreadIterate()</a>, <a class="el" href="../../dc/d43/SDL__log_8c.html#a9feeea9c45beb876ceadceaa19ae18eb">SDL_CheckInitLog()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#aeda486842d647bc7974ae81b0cf72a63">SDL_CutEvent()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#ad4cae8cf429411be160ec61914b28043">SDL_DefaultAudioDeviceChanged()</a>, <a class="el" href="../../d9/df4/SDL__asyncio_8h.html#aadffdf43587a717d01445c958b04e2fc">SDL_DestroyAsyncIOQueue()</a>, <a class="el" href="../../d9/d78/SDL__main__callbacks_8c.html#af58c724bc081e42f02324f280392abc6">SDL_DispatchMainCallbackEvent()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a2a8924a9526ff35d0826df2c15f14dbd">SDL_GetCameras()</a>, <a class="el" href="../../d8/dc1/SDL__sysvideo_8h.html#a9c8ace86d652956fb0953528ed597b2c">SDL_GetMessageBoxCount()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ad443bad9bc6084b316c82128c61c7e5b">SDL_GetNumAllocations()</a>, <a class="el" href="../../dd/d1d/SDL__thread_8h.html#a2b4ce72c0c32886087a344d994b3ac48">SDL_GetThreadState()</a>, <a class="el" href="../../dd/d1d/SDL__thread_8h.html#a0b0512ce140a77e671099539a49c2580">SDL_GetTLS()</a>, <a class="el" href="../../d9/d78/SDL__main__callbacks_8c.html#a3d21b5bf7aa441418de48c5b2856336a">SDL_InitMainCallbacks()</a>, <a class="el" href="../../d9/d78/SDL__main__callbacks_8c.html#a02814527c162e7032c1293045fed18c6">SDL_IterateMainCallbacks()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#adddfa1bdb6f88cc71d704ba942aa9c53">SDL_LockRWLockForReading()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a54259ed0a608baddf6be2570bc54d975">SDL_LockRWLockForWriting()</a>, <a class="el" href="../../dd/da1/SDL__audio_8h.html#a86990d3619e1aaa56bd07a83f3f64af0">SDL_OpenAudioDevice()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#ad4ce941da542e942b9dd2b12c15debcc">SDL_PeepEventsInternal()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a8768a1f42de2a99b41a2fe823cc04720">SDL_PlaybackAudioThreadIterate()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#aa5ad4b8a44415bf71b9d7584f72c92af">SDL_PlaybackAudioThreadShutdown()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#a1c2c7ea53f66e00fb3f35f4048810a0a">SDL_PumpEventsInternal()</a>, <a class="el" href="../../de/de3/SDL__thread_8c.html#a0c79c1971ae4fc0934dfc00c4810262e">SDL_QuitTLSData()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a3a132c60c931f1c864ba5da2b1c86717">SDL_RecordingAudioThreadIterate()</a>, <a class="el" href="../../d6/d3c/SDL__timer_8h.html#ad52b2340e2abd3dc68bc467f0b5c5664">SDL_RemoveTimer()</a>, <a class="el" href="../../df/d22/SDL__init_8h.html#a1e44e0bde1d908dcb18be954b20043fe">SDL_RunOnMainThread()</a>, <a class="el" href="../../dd/d1d/SDL__thread_8h.html#a8bc3bdec5aa90bc614e28758b3d03cd1">SDL_SetTLS()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a8c5b833ef9d550e288913611ff68c872">SDL_ShouldInit()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a617593b97d01282dc84848dd2cef0d50">SDL_ShouldQuit()</a>, <a class="el" href="../../d7/d6c/SDL__timer_8c.html#a0afadd0548903b40cc22773e3cc1dabe">SDL_TimerThread()</a>, <a class="el" href="../../d3/d02/generic_2SDL__sysrwlock_8c.html#a5275d1c00dc5ef8c5071455b7b7b1de1">SDL_TryLockRWLockForReading_generic()</a>, <a class="el" href="../../d3/d02/generic_2SDL__sysrwlock_8c.html#a1fa08afdaeee8753ce23b83a99dfc724">SDL_TryLockRWLockForWriting_generic()</a>, <a class="el" href="../../d6/d85/SDL__joystick_8h.html#a31e9073b6ec95ceb4b26a3bad267eeb6">SDL_UnlockJoysticks()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a9df5e38e016f0a5478d6e2fb21dc0448">SDL_UnlockRWLock()</a>, <a class="el" href="../../dc/de1/SDL__sensor_8c.html#a3ca76d3a683688a9fa7933ccedc29ec9">SDL_UnlockSensors()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#aa685860fb3af1f87c9f24d4a214abccf">SDL_WaitEventTimeoutNS()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a1d3bed19441a9a46dcebc3e4cdb42156">SerializePhysicalDeviceClose()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a9a3581dc04016d1299bfe70bfbd3955a">ZombieWaitDevice()</a>, and <a class="el" href="../../db/d6b/SDL__camera_8c.html#a4044eb918456131d4ad258e3b1060ca9">ZombieWaitDevice()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a443848bbff4a83c87535d069fced7f7b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a443848bbff4a83c87535d069fced7f7b_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac9c298616d26bdff11b476817bb551a8" name="ac9c298616d26bdff11b476817bb551a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9c298616d26bdff11b476817bb551a8">&#9670;&#160;</a></span>SDL_GetAtomicPointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *<a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_GetAtomicPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> **</td>          <td class="paramname"><span class="paramname"><em>a</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the value of a pointer atomically.</p>
<p><em><b>Note: If you don't know what this function is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to a pointer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the current value of a pointer.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a998de1115c4b8afd9303856239351c37">SDL_CompareAndSwapAtomicPointer</a> </dd>
<dd>
<a class="el" href="#ade60a16e3f0ddf5aa0a53b0cb1102909">SDL_SetAtomicPointer</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  352</span>{</div>
<div class="line"><span class="lineno">  353</span><span class="preprocessor">#ifdef HAVE_ATOMIC_LOAD_N</span></div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">return</span> __atomic_load_n(a, __ATOMIC_SEQ_CST);</div>
<div class="line"><span class="lineno">  355</span><span class="preprocessor">#elif defined(HAVE_MSC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">return</span> _InterlockedCompareExchangePointer(a, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><span class="lineno">  357</span><span class="preprocessor">#elif defined(HAVE_GCC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordflow">return</span> __sync_val_compare_and_swap(a, (<span class="keywordtype">void</span> *)0, (<span class="keywordtype">void</span> *)0);</div>
<div class="line"><span class="lineno">  359</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">return</span> atomic_cas_ptr(a, (<span class="keywordtype">void</span> *)0, (<span class="keywordtype">void</span> *)0);</div>
<div class="line"><span class="lineno">  361</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  362</span>    <span class="keywordtype">void</span> *<a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  363</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  364</span>        <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a> = *a;</div>
<div class="line"><span class="lineno">  365</span>    } <span class="keywordflow">while</span> (!<a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#a3878b161f85d09952f64aa42c8407083">SDL_CompareAndSwapAtomicPointer</a>(a, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>));</div>
<div class="line"><span class="lineno">  366</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  367</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  368</span>}</div>
<div class="ttc" id="aSDL__atomic_8c_html_a3878b161f85d09952f64aa42c8407083"><div class="ttname"><a href="../../de/dc7/SDL__atomic_8c.html#a3878b161f85d09952f64aa42c8407083">SDL_CompareAndSwapAtomicPointer</a></div><div class="ttdeci">bool SDL_CompareAndSwapAtomicPointer(void **a, void *oldval, void *newval)</div><div class="ttdef"><b>Definition</b> SDL_atomic.c:186</div></div>
<div class="ttc" id="aSDL__begin__code_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> SDL_begin_code.h:469</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, and <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a3878b161f85d09952f64aa42c8407083">SDL_CompareAndSwapAtomicPointer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d9b/SDL__audio_8c.html#af5141976e88a32df1762adf3eea45379">ObtainLogicalAudioDevice()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_ac9c298616d26bdff11b476817bb551a8_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_ac9c298616d26bdff11b476817bb551a8_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afbd9eeebbf43a4b5977de11089eda879" name="afbd9eeebbf43a4b5977de11089eda879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd9eeebbf43a4b5977de11089eda879">&#9670;&#160;</a></span>SDL_GetAtomicU32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_GetAtomicU32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d9b/structSDL__AtomicU32.html">SDL_AtomicU32</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the value of an atomic variable.</p>
<p><em><b>Note: If you don't know what this function is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to an <a class="el" href="../../df/d9b/structSDL__AtomicU32.html">SDL_AtomicU32</a> variable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the current value of an atomic variable.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#ad25872337b5b5dbb39a99ead1ed99ec4">SDL_SetAtomicU32</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  326</span>{</div>
<div class="line"><span class="lineno">  327</span><span class="preprocessor">#ifdef HAVE_ATOMIC_LOAD_N</span></div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordflow">return</span> __atomic_load_n(&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, __ATOMIC_SEQ_CST);</div>
<div class="line"><span class="lineno">  329</span><span class="preprocessor">#elif defined(HAVE_MSC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  330</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_get, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>));</div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">return</span> (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)_InterlockedOr((<span class="keywordtype">long</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, 0);</div>
<div class="line"><span class="lineno">  332</span><span class="preprocessor">#elif defined(HAVE_WATCOM_ATOMICS)</span></div>
<div class="line"><span class="lineno">  333</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_get, <span class="keyword">sizeof</span>(<span class="keywordtype">int</span>) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>));</div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">return</span> (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)_SDL_xadd_watcom((<span class="keyword">volatile</span> <span class="keywordtype">int</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, 0);</div>
<div class="line"><span class="lineno">  335</span><span class="preprocessor">#elif defined(HAVE_GCC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordflow">return</span> __sync_or_and_fetch(&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, 0);</div>
<div class="line"><span class="lineno">  337</span><span class="preprocessor">#elif defined(SDL_PLATFORM_MACOS) </span><span class="comment">// this is deprecated in 10.12 sdk; favor gcc atomics.</span></div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">return</span> OSAtomicOr32Barrier(0, (<span class="keyword">volatile</span> uint32_t *)&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>);</div>
<div class="line"><span class="lineno">  339</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  340</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_get, <span class="keyword">sizeof</span>(uint_t) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>));</div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">return</span> (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)atomic_or_uint_nv((<span class="keyword">volatile</span> uint_t *)&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, 0);</div>
<div class="line"><span class="lineno">  342</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  343</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  344</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  345</span>        <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a> = a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>;</div>
<div class="line"><span class="lineno">  346</span>    } <span class="keywordflow">while</span> (!<a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#a9a973e4c9f96d3f2dd03814409813ddd">SDL_CompareAndSwapAtomicU32</a>(a, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>));</div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  348</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  349</span>}</div>
<div class="ttc" id="aSDL__atomic_8c_html_a9a973e4c9f96d3f2dd03814409813ddd"><div class="ttname"><a href="../../de/dc7/SDL__atomic_8c.html#a9a973e4c9f96d3f2dd03814409813ddd">SDL_CompareAndSwapAtomicU32</a></div><div class="ttdeci">bool SDL_CompareAndSwapAtomicU32(SDL_AtomicU32 *a, Uint32 oldval, Uint32 newval)</div><div class="ttdef"><b>Definition</b> SDL_atomic.c:155</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a9a973e4c9f96d3f2dd03814409813ddd">SDL_CompareAndSwapAtomicU32()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>, and <a class="el" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">SDL_AtomicU32::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d4a/SDL__hints_8c.html#a0f204461c9d660b51105394023d91225">GetHintProperties()</a>, <a class="el" href="../../d6/d40/SDL__properties_8h.html#a3879ae5bd4727e826dadcf289263f929">SDL_CreateProperties()</a>, <a class="el" href="../../d6/d40/SDL__properties_8h.html#a15a305ca0429255f28ec6d9a01fc404f">SDL_GetGlobalProperties()</a>, <a class="el" href="../../d4/d4a/SDL__hints_8c.html#ab3585c72384fb2f1c88c1b0602959951">SDL_QuitHints()</a>, and <a class="el" href="../../d3/de7/SDL__properties_8c.html#ae90a010b6925ae8f0aa6b3e6d7071ed5">SDL_QuitProperties()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_afbd9eeebbf43a4b5977de11089eda879_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_afbd9eeebbf43a4b5977de11089eda879_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa48f91b7a30ab6a65db25652142d6a2c" name="aa48f91b7a30ab6a65db25652142d6a2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa48f91b7a30ab6a65db25652142d6a2c">&#9670;&#160;</a></span>SDL_LockSpinlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_LockSpinlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a59179ff8d21c65b9d9a544f3c2088e81">SDL_SpinLock</a> *</td>          <td class="paramname"><span class="paramname"><em>lock</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Lock a spin lock by setting it to a non-zero value.</p>
<p><em><b>Please note that spinlocks are dangerous if you don't know what you're doing. Please be careful using any sort of spinlock!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>a pointer to a lock variable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#adf414875db852cad52a9ebcbccbbc05d">SDL_TryLockSpinlock</a> </dd>
<dd>
<a class="el" href="#a7465e76bfcf477ab650952e63e1cd790">SDL_UnlockSpinlock</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  165</span>{</div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordtype">int</span> iterations = 0;</div>
<div class="line"><span class="lineno">  167</span>    <span class="comment">// FIXME: Should we have an eventual timeout?</span></div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">while</span> (!<a class="code hl_function" href="../../d5/d0c/SDL__spinlock_8c.html#aca8dea9d98b2e6b17dbc56f556ead43e">SDL_TryLockSpinlock</a>(<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>)) {</div>
<div class="line"><span class="lineno">  169</span>        <span class="keywordflow">if</span> (iterations &lt; 32) {</div>
<div class="line"><span class="lineno">  170</span>            iterations++;</div>
<div class="line"><span class="lineno">  171</span>            <a class="code hl_define" href="#a6aa8f8635b3a07f02fe26e5cc052a5f6">SDL_CPUPauseInstruction</a>();</div>
<div class="line"><span class="lineno">  172</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  173</span>            <span class="comment">// !!! FIXME: this doesn&#39;t definitely give up the current timeslice, it does different things on various platforms.</span></div>
<div class="line"><span class="lineno">  174</span>            <a class="code hl_function" href="../../d6/d3c/SDL__timer_8h.html#a9022635a3ea79cd17fda644f31e80a51">SDL_Delay</a>(0);</div>
<div class="line"><span class="lineno">  175</span>        }</div>
<div class="line"><span class="lineno">  176</span>    }</div>
<div class="line"><span class="lineno">  177</span>}</div>
<div class="ttc" id="aSDL__atomic_8h_html_a6aa8f8635b3a07f02fe26e5cc052a5f6"><div class="ttname"><a href="#a6aa8f8635b3a07f02fe26e5cc052a5f6">SDL_CPUPauseInstruction</a></div><div class="ttdeci">#define SDL_CPUPauseInstruction()</div><div class="ttdef"><b>Definition</b> SDL_atomic.h:364</div></div>
<div class="ttc" id="aSDL__events_8c_html_a4d2e1c579af14be8e8cdaf431cd25c2b"><div class="ttname"><a href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a></div><div class="ttdeci">SDL_Mutex * lock</div><div class="ttdef"><b>Definition</b> SDL_events.c:140</div></div>
<div class="ttc" id="aSDL__spinlock_8c_html_aca8dea9d98b2e6b17dbc56f556ead43e"><div class="ttname"><a href="../../d5/d0c/SDL__spinlock_8c.html#aca8dea9d98b2e6b17dbc56f556ead43e">SDL_TryLockSpinlock</a></div><div class="ttdeci">bool SDL_TryLockSpinlock(SDL_SpinLock *lock)</div><div class="ttdef"><b>Definition</b> SDL_spinlock.c:60</div></div>
<div class="ttc" id="aSDL__timer_8h_html_a9022635a3ea79cd17fda644f31e80a51"><div class="ttname"><a href="../../d6/d3c/SDL__timer_8h.html#a9022635a3ea79cd17fda644f31e80a51">SDL_Delay</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_Delay(Uint32 ms)</div><div class="ttdef"><b>Definition</b> SDL_timer.c:654</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>, <a class="el" href="#a6aa8f8635b3a07f02fe26e5cc052a5f6">SDL_CPUPauseInstruction</a>, <a class="el" href="../../d6/d3c/SDL__timer_8h.html#a9022635a3ea79cd17fda644f31e80a51">SDL_Delay()</a>, and <a class="el" href="../../d5/d0c/SDL__spinlock_8c.html#aca8dea9d98b2e6b17dbc56f556ead43e">SDL_TryLockSpinlock()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dc7/SDL__atomic_8c.html#ad8d41db93b04a328abfccbc11ad6f3d9">enterLock()</a>, <a class="el" href="../../d7/d6c/SDL__timer_8c.html#a6fc565810341c701296a428dd94163f6">SDL_CreateTimer()</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#a371cc048fe8101a8e91ebd607dce7bab">SDL_ReportAssertion()</a>, and <a class="el" href="../../d7/d6c/SDL__timer_8c.html#a0afadd0548903b40cc22773e3cc1dabe">SDL_TimerThread()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_aa48f91b7a30ab6a65db25652142d6a2c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_aa48f91b7a30ab6a65db25652142d6a2c_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa92aef0c2effc0c1d8059a6a05b62038" name="aa92aef0c2effc0c1d8059a6a05b62038"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa92aef0c2effc0c1d8059a6a05b62038">&#9670;&#160;</a></span>SDL_MemoryBarrierAcquireFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_MemoryBarrierAcquireFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Insert a memory acquire barrier (function version).</p>
<p>Please refer to SDL_MemoryBarrierRelease for details. This is a function version, which might be useful if you need to use this functionality from a scripting language, etc. Also, some of the macro versions call this function behind the scenes, where more heavy lifting can happen inside of SDL. Generally, though, an app written in C/C++/etc should use the macro version, as it will be more efficient.</p>
<dl class="section user"><dt>Thread Safety</dt><dd>Obviously this function is safe to use from any thread at any time, but if you find yourself needing this, you are probably dealing with some very sensitive code; be careful!</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa33019d94c637a106218dde56b46a20a">SDL_MemoryBarrierAcquire</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  380</span>{</div>
<div class="line"><span class="lineno">  381</span>    <a class="code hl_define" href="#aa33019d94c637a106218dde56b46a20a">SDL_MemoryBarrierAcquire</a>();</div>
<div class="line"><span class="lineno">  382</span>}</div>
<div class="ttc" id="aSDL__atomic_8h_html_aa33019d94c637a106218dde56b46a20a"><div class="ttname"><a href="#aa33019d94c637a106218dde56b46a20a">SDL_MemoryBarrierAcquire</a></div><div class="ttdeci">#define SDL_MemoryBarrierAcquire()</div><div class="ttdef"><b>Definition</b> SDL_atomic.h:323</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#aa33019d94c637a106218dde56b46a20a">SDL_MemoryBarrierAcquire</a>.</p>

</div>
</div>
<a id="aee5a6ca04ccbdaefd78ab2bd39b38935" name="aee5a6ca04ccbdaefd78ab2bd39b38935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee5a6ca04ccbdaefd78ab2bd39b38935">&#9670;&#160;</a></span>SDL_MemoryBarrierReleaseFunction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_MemoryBarrierReleaseFunction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Insert a memory release barrier (function version).</p>
<p>Please refer to SDL_MemoryBarrierRelease for details. This is a function version, which might be useful if you need to use this functionality from a scripting language, etc. Also, some of the macro versions call this function behind the scenes, where more heavy lifting can happen inside of SDL. Generally, though, an app written in C/C++/etc should use the macro version, as it will be more efficient.</p>
<dl class="section user"><dt>Thread Safety</dt><dd>Obviously this function is safe to use from any thread at any time, but if you find yourself needing this, you are probably dealing with some very sensitive code; be careful!</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a041cb5705236fe51b35cb3d59c1fbba7">SDL_MemoryBarrierRelease</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  375</span>{</div>
<div class="line"><span class="lineno">  376</span>    <a class="code hl_define" href="#a041cb5705236fe51b35cb3d59c1fbba7">SDL_MemoryBarrierRelease</a>();</div>
<div class="line"><span class="lineno">  377</span>}</div>
<div class="ttc" id="aSDL__atomic_8h_html_a041cb5705236fe51b35cb3d59c1fbba7"><div class="ttname"><a href="#a041cb5705236fe51b35cb3d59c1fbba7">SDL_MemoryBarrierRelease</a></div><div class="ttdeci">#define SDL_MemoryBarrierRelease()</div><div class="ttdef"><b>Definition</b> SDL_atomic.h:322</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a041cb5705236fe51b35cb3d59c1fbba7">SDL_MemoryBarrierRelease</a>.</p>

</div>
</div>
<a id="a5204fd0a33cb2419dd416665372a5192" name="a5204fd0a33cb2419dd416665372a5192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5204fd0a33cb2419dd416665372a5192">&#9670;&#160;</a></span>SDL_SetAtomicInt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> int <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_SetAtomicInt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set an atomic variable to a value.</p>
<p>This function also acts as a full memory barrier.</p>
<p><em><b>Note: If you don't know what this function is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to an <a class="el" href="../../d1/dbc/structSDL__AtomicInt.html">SDL_AtomicInt</a> variable to be modified. </td></tr>
    <tr><td class="paramname">v</td><td>the desired value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value of the atomic variable.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a443848bbff4a83c87535d069fced7f7b">SDL_GetAtomicInt</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  217</span>{</div>
<div class="line"><span class="lineno">  218</span><span class="preprocessor">#ifdef HAVE_MSC_ATOMICS</span></div>
<div class="line"><span class="lineno">  219</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_set, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>));</div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">return</span> _InterlockedExchange((<span class="keywordtype">long</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, v);</div>
<div class="line"><span class="lineno">  221</span><span class="preprocessor">#elif defined(HAVE_WATCOM_ATOMICS)</span></div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordflow">return</span> _SDL_xchg_watcom(&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, v);</div>
<div class="line"><span class="lineno">  223</span><span class="preprocessor">#elif defined(HAVE_GCC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordflow">return</span> __sync_lock_test_and_set(&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, v);</div>
<div class="line"><span class="lineno">  225</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  226</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_set, <span class="keyword">sizeof</span>(uint_t) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>));</div>
<div class="line"><span class="lineno">  227</span>    <span class="keywordflow">return</span> (<span class="keywordtype">int</span>)atomic_swap_uint((<span class="keyword">volatile</span> uint_t *)&amp;a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>, v);</div>
<div class="line"><span class="lineno">  228</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordtype">int</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  231</span>        <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a> = a-&gt;<a class="code hl_variable" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">value</a>;</div>
<div class="line"><span class="lineno">  232</span>    } <span class="keywordflow">while</span> (!<a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#a146f183a014bdbfc9fbe58c0c5280137">SDL_CompareAndSwapAtomicInt</a>(a, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>, v));</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  234</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  235</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a146f183a014bdbfc9fbe58c0c5280137">SDL_CompareAndSwapAtomicInt()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>, and <a class="el" href="../../d1/dbc/structSDL__AtomicInt.html#a5cf4b9c173347ef0f44bf90e6d30c938">SDL_AtomicInt::value</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d6/d9b/SDL__audio_8c.html#af79315a3b24d901305aeb7179781243c">ClosePhysicalAudioDevice()</a>, <a class="el" href="../../db/d6b/SDL__camera_8c.html#ab7a71f9714b725dee33350131a9d91f0">ClosePhysicalCamera()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a7511eb031923f0e5397110f871bbb938">CreatePhysicalAudioDevice()</a>, <a class="el" href="../../db/d6b/SDL__camera_8c.html#afb7c241c357906c05f5b76ca6e5f8efc">SDL_AddCamera()</a>, <a class="el" href="../../d9/df4/SDL__asyncio_8h.html#a7bd4187be7789e1f595a8112973ea143">SDL_CreateAsyncIOQueue()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#a37e06358d8393edac37f38330b518d09">SDL_CreateMainThreadCallback()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a90958f670ac5638cd0e715270b74b704">SDL_CreateRWLock()</a>, <a class="el" href="../../dd/d1d/SDL__thread_8h.html#acaf006103a900885b8a4b0df49628412">SDL_CreateThreadWithPropertiesRuntime()</a>, <a class="el" href="../../d7/d6c/SDL__timer_8c.html#a6fc565810341c701296a428dd94163f6">SDL_CreateTimer()</a>, <a class="el" href="../../d9/d78/SDL__main__callbacks_8c.html#a3d21b5bf7aa441418de48c5b2856336a">SDL_InitMainCallbacks()</a>, <a class="el" href="../../d7/d6c/SDL__timer_8c.html#a1fa564f8f53956683659fc79e0d03e22">SDL_InitTimers()</a>, <a class="el" href="../../dd/da1/SDL__audio_8h.html#a86990d3619e1aaa56bd07a83f3f64af0">SDL_OpenAudioDevice()</a>, <a class="el" href="../../dd/da1/SDL__audio_8h.html#abe2fe6e25c35be2400c91481b104158a">SDL_OpenAudioDeviceStream()</a>, <a class="el" href="../../da/d44/SDL__camera_8h.html#a319a5f6e2a13ed96f1f997a308090bfe">SDL_OpenCamera()</a>, <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a7d70c55ed45ac74681419ceb4a67de7a">SDL_QuitAudio()</a>, <a class="el" href="../../db/d6b/SDL__camera_8c.html#a6fca7b5907990a504def9694c2ab4dc6">SDL_QuitCamera()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#a5a86f8dae96e526364ea24012bb9d92d">SDL_QuitMainThreadCallbacks()</a>, <a class="el" href="../../d7/d6c/SDL__timer_8c.html#adf93aeca8eb2f0d91b6bd3eaada2a36a">SDL_QuitTimers()</a>, <a class="el" href="../../d6/d3c/SDL__timer_8h.html#ad52b2340e2abd3dc68bc467f0b5c5664">SDL_RemoveTimer()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#a473aaa83eeba3cb5a15d97a3d7f75a34">SDL_RunMainThreadCallbacks()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a2caa5e1495667a1d253ec560054d0051">SDL_SetInitialized()</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#ab42a6259ac4f78f7e7b7839643d3b2bf">SDL_StopEventLoop()</a>, <a class="el" href="../../d7/d6c/SDL__timer_8c.html#a0afadd0548903b40cc22773e3cc1dabe">SDL_TimerThread()</a>, and <a class="el" href="../../d6/d9b/SDL__audio_8c.html#a4ff2a514eee77707b9fb347a268a59e5">SetLogicalAudioDevicePauseState()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a5204fd0a33cb2419dd416665372a5192_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a5204fd0a33cb2419dd416665372a5192_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ade60a16e3f0ddf5aa0a53b0cb1102909" name="ade60a16e3f0ddf5aa0a53b0cb1102909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade60a16e3f0ddf5aa0a53b0cb1102909">&#9670;&#160;</a></span>SDL_SetAtomicPointer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *<a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_SetAtomicPointer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> **</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> *</td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set a pointer to a value atomically.</p>
<p><em><b>Note: If you don't know what this function is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to a pointer. </td></tr>
    <tr><td class="paramname">v</td><td>the desired pointer value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value of the pointer.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#a998de1115c4b8afd9303856239351c37">SDL_CompareAndSwapAtomicPointer</a> </dd>
<dd>
<a class="el" href="#ac9c298616d26bdff11b476817bb551a8">SDL_GetAtomicPointer</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  259</span>{</div>
<div class="line"><span class="lineno">  260</span><span class="preprocessor">#ifdef HAVE_MSC_ATOMICS</span></div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">return</span> _InterlockedExchangePointer(a, v);</div>
<div class="line"><span class="lineno">  262</span><span class="preprocessor">#elif defined(HAVE_WATCOM_ATOMICS)</span></div>
<div class="line"><span class="lineno">  263</span>    <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)_SDL_xchg_watcom((<span class="keywordtype">int</span> *)a, (<span class="keywordtype">long</span>)v);</div>
<div class="line"><span class="lineno">  264</span><span class="preprocessor">#elif defined(HAVE_GCC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  265</span>    <span class="keywordflow">return</span> __sync_lock_test_and_set(a, v);</div>
<div class="line"><span class="lineno">  266</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">return</span> atomic_swap_ptr(a, v);</div>
<div class="line"><span class="lineno">  268</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordtype">void</span> *<a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  271</span>        <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a> = *a;</div>
<div class="line"><span class="lineno">  272</span>    } <span class="keywordflow">while</span> (!<a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#a3878b161f85d09952f64aa42c8407083">SDL_CompareAndSwapAtomicPointer</a>(a, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>, v));</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  274</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  275</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a3878b161f85d09952f64aa42c8407083">SDL_CompareAndSwapAtomicPointer()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d07/SDL__events_8c.html#aec749d751c4928457661e98b6d984d57">SDL_SendWakeupEvent()</a>, and <a class="el" href="../../d4/d07/SDL__events_8c.html#a04e12aac9448fe0c4c345fe8ba667921">SDL_WaitEventTimeout_Device()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_ade60a16e3f0ddf5aa0a53b0cb1102909_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_ade60a16e3f0ddf5aa0a53b0cb1102909_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ad25872337b5b5dbb39a99ead1ed99ec4" name="ad25872337b5b5dbb39a99ead1ed99ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25872337b5b5dbb39a99ead1ed99ec4">&#9670;&#160;</a></span>SDL_SetAtomicU32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_SetAtomicU32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/d9b/structSDL__AtomicU32.html">SDL_AtomicU32</a> *</td>          <td class="paramname"><span class="paramname"><em>a</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a></td>          <td class="paramname"><span class="paramname"><em>v</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set an atomic variable to a value.</p>
<p>This function also acts as a full memory barrier.</p>
<p><em><b>Note: If you don't know what this function is for, you shouldn't use it!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>a pointer to an <a class="el" href="../../df/d9b/structSDL__AtomicU32.html">SDL_AtomicU32</a> variable to be modified. </td></tr>
    <tr><td class="paramname">v</td><td>the desired value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the previous value of the atomic variable.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#afbd9eeebbf43a4b5977de11089eda879">SDL_GetAtomicU32</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  238</span>{</div>
<div class="line"><span class="lineno">  239</span><span class="preprocessor">#ifdef HAVE_MSC_ATOMICS</span></div>
<div class="line"><span class="lineno">  240</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_set, <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>));</div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">return</span> _InterlockedExchange((<span class="keywordtype">long</span> *)&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, v);</div>
<div class="line"><span class="lineno">  242</span><span class="preprocessor">#elif defined(HAVE_WATCOM_ATOMICS)</span></div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">return</span> _SDL_xchg_watcom(&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, v);</div>
<div class="line"><span class="lineno">  244</span><span class="preprocessor">#elif defined(HAVE_GCC_ATOMICS)</span></div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">return</span> __sync_lock_test_and_set(&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, v);</div>
<div class="line"><span class="lineno">  246</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  247</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(atomic_set, <span class="keyword">sizeof</span>(uint_t) == <span class="keyword">sizeof</span>(a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>));</div>
<div class="line"><span class="lineno">  248</span>    <span class="keywordflow">return</span> (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)atomic_swap_uint((<span class="keyword">volatile</span> uint_t *)&amp;a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>, v);</div>
<div class="line"><span class="lineno">  249</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  250</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  252</span>        <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a> = a-&gt;<a class="code hl_variable" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">value</a>;</div>
<div class="line"><span class="lineno">  253</span>    } <span class="keywordflow">while</span> (!<a class="code hl_function" href="../../de/dc7/SDL__atomic_8c.html#a9a973e4c9f96d3f2dd03814409813ddd">SDL_CompareAndSwapAtomicU32</a>(a, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>, v));</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#ac65f229362223146c236e514997528c0">value</a>;</div>
<div class="line"><span class="lineno">  255</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  256</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a9a973e4c9f96d3f2dd03814409813ddd">SDL_CompareAndSwapAtomicU32()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>, and <a class="el" href="../../df/d9b/structSDL__AtomicU32.html#a500feeb428b8ea36d8c7fed787d15d68">SDL_AtomicU32::value</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_ad25872337b5b5dbb39a99ead1ed99ec4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="adf414875db852cad52a9ebcbccbbc05d" name="adf414875db852cad52a9ebcbccbbc05d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf414875db852cad52a9ebcbccbbc05d">&#9670;&#160;</a></span>SDL_TryLockSpinlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_TryLockSpinlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a59179ff8d21c65b9d9a544f3c2088e81">SDL_SpinLock</a> *</td>          <td class="paramname"><span class="paramname"><em>lock</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Try to lock a spin lock by setting it to a non-zero value.</p>
<p><em><b>Please note that spinlocks are dangerous if you don't know what you're doing. Please be careful using any sort of spinlock!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>a pointer to a lock variable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the lock succeeded, false if the lock is already held.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa48f91b7a30ab6a65db25652142d6a2c">SDL_LockSpinlock</a> </dd>
<dd>
<a class="el" href="#a7465e76bfcf477ab650952e63e1cd790">SDL_UnlockSpinlock</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">   61</span>{</div>
<div class="line"><span class="lineno">   62</span><span class="preprocessor">#if defined(HAVE_GCC_ATOMICS) || defined(HAVE_GCC_SYNC_LOCK_TEST_AND_SET)</span></div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">return</span> __sync_lock_test_and_set(<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>, 1) == 0;</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span><span class="preprocessor">#elif defined(_MSC_VER) &amp;&amp; (defined(_M_ARM) || defined(_M_ARM64))</span></div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">return</span> _InterlockedExchange_acq(<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>, 1) == 0;</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span><span class="preprocessor">#elif defined(_MSC_VER)</span></div>
<div class="line"><span class="lineno">   69</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>(locksize, <span class="keyword">sizeof</span>(*<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>) == <span class="keyword">sizeof</span>(<span class="keywordtype">long</span>));</div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordflow">return</span> InterlockedExchange((<span class="keywordtype">long</span> *)<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>, 1) == 0;</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span><span class="preprocessor">#elif defined(__WATCOMC__) &amp;&amp; defined(__386__)</span></div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">return</span> _SDL_xchg_watcom(<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>, 1) == 0;</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span><span class="preprocessor">#elif defined(__GNUC__) &amp;&amp; defined(__arm__) &amp;&amp;               \</span></div>
<div class="line"><span class="lineno">   76</span><span class="preprocessor">    (defined(__ARM_ARCH_3__) || defined(__ARM_ARCH_3M__) ||  \</span></div>
<div class="line"><span class="lineno">   77</span><span class="preprocessor">     defined(__ARM_ARCH_4__) || defined(__ARM_ARCH_4T__) ||  \</span></div>
<div class="line"><span class="lineno">   78</span><span class="preprocessor">     defined(__ARM_ARCH_5__) || defined(__ARM_ARCH_5TE__) || \</span></div>
<div class="line"><span class="lineno">   79</span><span class="preprocessor">     defined(__ARM_ARCH_5TEJ__))</span></div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span><span class="preprocessor">#ifdef SDL_PLATFORM_RISCOS</span></div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">if</span> (__cpucap_have_rex()) {</div>
<div class="line"><span class="lineno">   84</span>        __asm__ __volatile__(</div>
<div class="line"><span class="lineno">   85</span>            <span class="stringliteral">&quot;ldrex %0, [%2]\nteq   %0, #0\nstrexeq %0, %1, [%2]&quot;</span></div>
<div class="line"><span class="lineno">   86</span>            : <span class="stringliteral">&quot;=&amp;r&quot;</span>(result)</div>
<div class="line"><span class="lineno">   87</span>            : <span class="stringliteral">&quot;r&quot;</span>(1), <span class="stringliteral">&quot;r&quot;</span>(<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>)</div>
<div class="line"><span class="lineno">   88</span>            : <span class="stringliteral">&quot;cc&quot;</span>, <span class="stringliteral">&quot;memory&quot;</span>);</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">return</span> result == 0;</div>
<div class="line"><span class="lineno">   90</span>    }</div>
<div class="line"><span class="lineno">   91</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>    __asm__ __volatile__(</div>
<div class="line"><span class="lineno">   94</span>        <span class="stringliteral">&quot;swp %0, %1, [%2]\n&quot;</span></div>
<div class="line"><span class="lineno">   95</span>        : <span class="stringliteral">&quot;=&amp;r,&amp;r&quot;</span>(result)</div>
<div class="line"><span class="lineno">   96</span>        : <span class="stringliteral">&quot;r,0&quot;</span>(1), <span class="stringliteral">&quot;r,r&quot;</span>(<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>)</div>
<div class="line"><span class="lineno">   97</span>        : <span class="stringliteral">&quot;memory&quot;</span>);</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">return</span> result == 0;</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span><span class="preprocessor">#elif defined(__GNUC__) &amp;&amp; defined(__arm__)</span></div>
<div class="line"><span class="lineno">  101</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno">  102</span>    __asm__ __volatile__(</div>
<div class="line"><span class="lineno">  103</span>        <span class="stringliteral">&quot;ldrex %0, [%2]\nteq   %0, #0\nstrexeq %0, %1, [%2]&quot;</span></div>
<div class="line"><span class="lineno">  104</span>        : <span class="stringliteral">&quot;=&amp;r&quot;</span>(result)</div>
<div class="line"><span class="lineno">  105</span>        : <span class="stringliteral">&quot;r&quot;</span>(1), <span class="stringliteral">&quot;r&quot;</span>(<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>)</div>
<div class="line"><span class="lineno">  106</span>        : <span class="stringliteral">&quot;cc&quot;</span>, <span class="stringliteral">&quot;memory&quot;</span>);</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">return</span> result == 0;</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span><span class="preprocessor">#elif defined(__GNUC__) &amp;&amp; (defined(__i386__) || defined(__x86_64__))</span></div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno">  111</span>    __asm__ __volatile__(</div>
<div class="line"><span class="lineno">  112</span>        <span class="stringliteral">&quot;lock ; xchgl %0, (%1)\n&quot;</span></div>
<div class="line"><span class="lineno">  113</span>        : <span class="stringliteral">&quot;=r&quot;</span>(result)</div>
<div class="line"><span class="lineno">  114</span>        : <span class="stringliteral">&quot;r&quot;</span>(<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>), <span class="stringliteral">&quot;0&quot;</span>(1)</div>
<div class="line"><span class="lineno">  115</span>        : <span class="stringliteral">&quot;cc&quot;</span>, <span class="stringliteral">&quot;memory&quot;</span>);</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">return</span> result == 0;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span><span class="preprocessor">#elif defined(SDL_PLATFORM_MACOS) || defined(SDL_PLATFORM_IOS) || defined(SDL_PLATFORM_TVOS)</span></div>
<div class="line"><span class="lineno">  119</span>    <span class="comment">// Maybe used for PowerPC, but the Intel asm or gcc atomics are favored.</span></div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">return</span> OSAtomicCompareAndSwap32Barrier(0, 1, <a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>);</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS) &amp;&amp; defined(_LP64)</span></div>
<div class="line"><span class="lineno">  123</span>    <span class="comment">// Used for Solaris with non-gcc compilers.</span></div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">return</span> ((<span class="keywordtype">int</span>)atomic_cas_64((<span class="keyword">volatile</span> uint64_t *)<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>, 0, 1) == 0);</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS) &amp;&amp; !defined(_LP64)</span></div>
<div class="line"><span class="lineno">  127</span>    <span class="comment">// Used for Solaris with non-gcc compilers.</span></div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">return</span> ((<span class="keywordtype">int</span>)atomic_cas_32((<span class="keyword">volatile</span> uint32_t *)<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>, 0, 1) == 0);</div>
<div class="line"><span class="lineno">  129</span><span class="preprocessor">#elif defined(PS2)</span></div>
<div class="line"><span class="lineno">  130</span>    uint32_t oldintr;</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordtype">bool</span> res = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  132</span>    <span class="comment">// disable interruption</span></div>
<div class="line"><span class="lineno">  133</span>    oldintr = DIntr();</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">if</span> (*<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a> == 0) {</div>
<div class="line"><span class="lineno">  136</span>        *<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a> = 1;</div>
<div class="line"><span class="lineno">  137</span>        res = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  138</span>    }</div>
<div class="line"><span class="lineno">  139</span>    <span class="comment">// enable interruption</span></div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">if</span> (oldintr) {</div>
<div class="line"><span class="lineno">  141</span>        EIntr();</div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">return</span> res;</div>
<div class="line"><span class="lineno">  144</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  145</span>    <span class="comment">// Terrible terrible damage</span></div>
<div class="line"><span class="lineno">  146</span>    <span class="keyword">static</span> <a class="code hl_struct" href="../../d0/df2/structSDL__Mutex.html">SDL_Mutex</a> *_spinlock_mutex;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">if</span> (!_spinlock_mutex) {</div>
<div class="line"><span class="lineno">  149</span>        <span class="comment">// Race condition on first lock...</span></div>
<div class="line"><span class="lineno">  150</span>        _spinlock_mutex = <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#ab9add3b671cc8e5fc22589f347865f5c">SDL_CreateMutex</a>();</div>
<div class="line"><span class="lineno">  151</span>    }</div>
<div class="line"><span class="lineno">  152</span>    <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#ab0bbb94c39385a83a6a1322c1a3b9d64">SDL_LockMutex</a>(_spinlock_mutex);</div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">if</span> (*<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a> == 0) {</div>
<div class="line"><span class="lineno">  154</span>        *<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a> = 1;</div>
<div class="line"><span class="lineno">  155</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex</a>(_spinlock_mutex);</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  157</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  158</span>        <a class="code hl_function" href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex</a>(_spinlock_mutex);</div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  160</span>    }</div>
<div class="line"><span class="lineno">  161</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  162</span>}</div>
<div class="ttc" id="aSDL__mutex_8h_html_a3214eb540f1b1ecc2155c7a9dd371131"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_UnlockMutex(SDL_Mutex *mutex)</div><div class="ttdef"><b>Definition</b> SDL_sysmutex.c:108</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_ab0bbb94c39385a83a6a1322c1a3b9d64"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#ab0bbb94c39385a83a6a1322c1a3b9d64">SDL_LockMutex</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_LockMutex(SDL_Mutex *mutex)</div><div class="ttdef"><b>Definition</b> SDL_sysmutex.c:64</div></div>
<div class="ttc" id="aSDL__mutex_8h_html_ab9add3b671cc8e5fc22589f347865f5c"><div class="ttname"><a href="../../df/dd9/SDL__mutex_8h.html#ab9add3b671cc8e5fc22589f347865f5c">SDL_CreateMutex</a></div><div class="ttdeci">SDL_DECLSPEC SDL_Mutex *SDLCALL SDL_CreateMutex(void)</div><div class="ttdef"><b>Definition</b> SDL_sysmutex.c:34</div></div>
<div class="ttc" id="astructSDL__Mutex_html"><div class="ttname"><a href="../../d0/df2/structSDL__Mutex.html">SDL_Mutex</a></div><div class="ttdef"><b>Definition</b> SDL_sysmutex.c:28</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aba1f23ae531b67b0455a2e254bdad09b">SDL_COMPILE_TIME_ASSERT</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#ab9add3b671cc8e5fc22589f347865f5c">SDL_CreateMutex()</a>, <a class="el" href="../../df/dd9/SDL__mutex_8h.html#ab0bbb94c39385a83a6a1322c1a3b9d64">SDL_LockMutex()</a>, and <a class="el" href="../../df/dd9/SDL__mutex_8h.html#a3214eb540f1b1ecc2155c7a9dd371131">SDL_UnlockMutex()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#aa48f91b7a30ab6a65db25652142d6a2c">SDL_LockSpinlock()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_adf414875db852cad52a9ebcbccbbc05d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_adf414875db852cad52a9ebcbccbbc05d_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7465e76bfcf477ab650952e63e1cd790" name="a7465e76bfcf477ab650952e63e1cd790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7465e76bfcf477ab650952e63e1cd790">&#9670;&#160;</a></span>SDL_UnlockSpinlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a30b8f91258eb8116a6bd3a3319448fc6">SDL_DECLSPEC</a> <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a81faf4ba0455dc75f2e0507eddb79401">SDLCALL</a> SDL_UnlockSpinlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#a59179ff8d21c65b9d9a544f3c2088e81">SDL_SpinLock</a> *</td>          <td class="paramname"><span class="paramname"><em>lock</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel extern">extern</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Unlock a spin lock by setting it to 0.</p>
<p>Always returns immediately.</p>
<p><em><b>Please note that spinlocks are dangerous if you don't know what you're doing. Please be careful using any sort of spinlock!</b></em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lock</td><td>a pointer to a lock variable.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="#aa48f91b7a30ab6a65db25652142d6a2c">SDL_LockSpinlock</a> </dd>
<dd>
<a class="el" href="#adf414875db852cad52a9ebcbccbbc05d">SDL_TryLockSpinlock</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  180</span>{</div>
<div class="line"><span class="lineno">  181</span><span class="preprocessor">#if defined(HAVE_GCC_ATOMICS) || defined(HAVE_GCC_SYNC_LOCK_TEST_AND_SET)</span></div>
<div class="line"><span class="lineno">  182</span>    __sync_lock_release(<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>);</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span><span class="preprocessor">#elif defined(_MSC_VER) &amp;&amp; (defined(_M_ARM) || defined(_M_ARM64))</span></div>
<div class="line"><span class="lineno">  185</span>    _InterlockedExchange_rel(<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>, 0);</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span><span class="preprocessor">#elif defined(_MSC_VER)</span></div>
<div class="line"><span class="lineno">  188</span>    _ReadWriteBarrier();</div>
<div class="line"><span class="lineno">  189</span>    *<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a> = 0;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span><span class="preprocessor">#elif defined(__WATCOMC__) &amp;&amp; defined(__386__)</span></div>
<div class="line"><span class="lineno">  192</span>    <a class="code hl_define" href="#a36d435d444dc115a5cc11fa7027576ec">SDL_CompilerBarrier</a>();</div>
<div class="line"><span class="lineno">  193</span>    *<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a> = 0;</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span><span class="preprocessor">#elif defined(SDL_PLATFORM_SOLARIS)</span></div>
<div class="line"><span class="lineno">  196</span>    <span class="comment">// Used for Solaris when not using gcc.</span></div>
<div class="line"><span class="lineno">  197</span>    *<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a> = 0;</div>
<div class="line"><span class="lineno">  198</span>    membar_producer();</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  201</span>    *<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a> = 0;</div>
<div class="line"><span class="lineno">  202</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  203</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d4/d07/SDL__events_8c.html#a4d2e1c579af14be8e8cdaf431cd25c2b">lock</a>, and <a class="el" href="#a36d435d444dc115a5cc11fa7027576ec">SDL_CompilerBarrier</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../de/dc7/SDL__atomic_8c.html#a3242ce14b4634721db1ff9ed9f552345">leaveLock()</a>, <a class="el" href="../../d7/d6c/SDL__timer_8c.html#a6fc565810341c701296a428dd94163f6">SDL_CreateTimer()</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#a371cc048fe8101a8e91ebd607dce7bab">SDL_ReportAssertion()</a>, and <a class="el" href="../../d7/d6c/SDL__timer_8c.html#a0afadd0548903b40cc22773e3cc1dabe">SDL_TimerThread()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d2/dd2/SDL__atomic_8h_a7465e76bfcf477ab650952e63e1cd790_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../dir_50980eb3d68ca1a5cefc02d16026552f.html">SDL-main</a></li><li class="navelem"><a href="../../dir_ebf95f20007d6bc6b45c448835273ca9.html">include</a></li><li class="navelem"><a href="../../dir_89be6ea473cbda3da5d58e5cae62f3cd.html">SDL3</a></li><li class="navelem"><a href="../../d2/dd2/SDL__atomic_8h.html">SDL_atomic.h</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for SDL3 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
