<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDL3: SDL-main/src/audio/SDL_wave.c File Reference</title>
<link rel="icon" href="../../logo.png" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">SDL3<span id="projectnumber">&#160;3.2.18</span>
   </div>
   <div id="projectbrief">SDL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('d4/dac/SDL__wave_8c.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">SDL_wave.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/d4e/SDL__internal_8h.html">SDL_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d1/d3b/SDL__wave_8h.html">SDL_wave.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../db/d41/SDL__sysaudio_8h.html">SDL_sysaudio.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for SDL_wave.c:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/d7b/SDL__wave_8c__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:ADPCM_5FDecoderState" id="r_ADPCM_5FDecoderState"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a></td></tr>
<tr class="memitem:MS_5FADPCM_5FChannelState" id="r_MS_5FADPCM_5FChannelState"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dad/structMS__ADPCM__ChannelState.html">MS_ADPCM_ChannelState</a></td></tr>
<tr class="memitem:MS_5FADPCM_5FCoeffData" id="r_MS_5FADPCM_5FCoeffData"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d80/structMS__ADPCM__CoeffData.html">MS_ADPCM_CoeffData</a></td></tr>
<tr class="memitem:WaveExtensibleGUID" id="r_WaveExtensibleGUID"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/dd3/structWaveExtensibleGUID.html">WaveExtensibleGUID</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a9ec306f36d50c7375e74f0d1c55a3a67" id="r_a9ec306f36d50c7375e74f0d1c55a3a67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a>&#160;&#160;&#160;<a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ace3c96991b704ef4ec9279dea218cf00">SDL_MAX_SINT32</a></td></tr>
<tr class="memitem:a3c75bb398badb69c7577b21486f9963f" id="r_a3c75bb398badb69c7577b21486f9963f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>&#160;&#160;&#160;((size_t)-1)</td></tr>
<tr class="memitem:a2c67e72866d5441926c43de82806b672" id="r_a2c67e72866d5441926c43de82806b672"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c67e72866d5441926c43de82806b672">WAVE_FORMATTAG_GUID</a>(tag)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-typedef-members" class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9f503e969365b2f252b4b5d1230f6c48" id="r_a9f503e969365b2f252b4b5d1230f6c48"><td class="memItemLeft" align="right" valign="top">typedef struct ADPCM_DecoderState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f503e969365b2f252b4b5d1230f6c48">ADPCM_DecoderState</a></td></tr>
<tr class="memitem:a8419ad5f0dfcf4a4369cd49b8990b5e2" id="r_a8419ad5f0dfcf4a4369cd49b8990b5e2"><td class="memItemLeft" align="right" valign="top">typedef struct MS_ADPCM_ChannelState&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8419ad5f0dfcf4a4369cd49b8990b5e2">MS_ADPCM_ChannelState</a></td></tr>
<tr class="memitem:ae0772e1ed5c24eb0b846448792f58f1a" id="r_ae0772e1ed5c24eb0b846448792f58f1a"><td class="memItemLeft" align="right" valign="top">typedef struct MS_ADPCM_CoeffData&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae0772e1ed5c24eb0b846448792f58f1a">MS_ADPCM_CoeffData</a></td></tr>
<tr class="memitem:a828a8e494baf1a909d01dc65185bf3d4" id="r_a828a8e494baf1a909d01dc65185bf3d4"><td class="memItemLeft" align="right" valign="top">typedef struct WaveExtensibleGUID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a828a8e494baf1a909d01dc65185bf3d4">WaveExtensibleGUID</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a277780307d9acc24732b6b2b3442d3d4" id="r_a277780307d9acc24732b6b2b3442d3d4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a277780307d9acc24732b6b2b3442d3d4">IMA_ADPCM_CalculateSampleFrames</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, size_t datalength)</td></tr>
<tr class="memitem:ab909d8c895556083a8893be1b1d630f4" id="r_ab909d8c895556083a8893be1b1d630f4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab909d8c895556083a8893be1b1d630f4">IMA_ADPCM_Decode</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **audio_buf, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *audio_len)</td></tr>
<tr class="memitem:a020d501999cf9cb2c7cf1d8e90ea9da8" id="r_a020d501999cf9cb2c7cf1d8e90ea9da8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a020d501999cf9cb2c7cf1d8e90ea9da8">IMA_ADPCM_DecodeBlockData</a> (<a class="el" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a> *state)</td></tr>
<tr class="memitem:aed94d49d54525506ad65834229d9c5f2" id="r_aed94d49d54525506ad65834229d9c5f2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed94d49d54525506ad65834229d9c5f2">IMA_ADPCM_DecodeBlockHeader</a> (<a class="el" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a> *state)</td></tr>
<tr class="memitem:aab28ccbe8c4cf1aabee13e51fd1a48bb" id="r_aab28ccbe8c4cf1aabee13e51fd1a48bb"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aab28ccbe8c4cf1aabee13e51fd1a48bb">IMA_ADPCM_Init</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, size_t datalength)</td></tr>
<tr class="memitem:a65f30cb8f033ec3b49bfbeda45e2164d" id="r_a65f30cb8f033ec3b49bfbeda45e2164d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65f30cb8f033ec3b49bfbeda45e2164d">IMA_ADPCM_ProcessNibble</a> (<a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a5fc98623306a32e69eaab63e89e1d138">Sint8</a> *cindex, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> lastsample, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> nybble)</td></tr>
<tr class="memitem:a95aa579d5b34ccc02a3e174550f9f13d" id="r_a95aa579d5b34ccc02a3e174550f9f13d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95aa579d5b34ccc02a3e174550f9f13d">LAW_Decode</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **audio_buf, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *audio_len)</td></tr>
<tr class="memitem:a973182ff75a3c798d1e8d33a5230c44d" id="r_a973182ff75a3c798d1e8d33a5230c44d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a973182ff75a3c798d1e8d33a5230c44d">LAW_Init</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, size_t datalength)</td></tr>
<tr class="memitem:adde56761a56d946bde5ff72747b51780" id="r_adde56761a56d946bde5ff72747b51780"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adde56761a56d946bde5ff72747b51780">MS_ADPCM_CalculateSampleFrames</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, size_t datalength)</td></tr>
<tr class="memitem:abed04a09158704527cace31d0e71a2b0" id="r_abed04a09158704527cace31d0e71a2b0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abed04a09158704527cace31d0e71a2b0">MS_ADPCM_Decode</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **audio_buf, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *audio_len)</td></tr>
<tr class="memitem:ace29428b2a53bc1c32acda9b8c6f4a86" id="r_ace29428b2a53bc1c32acda9b8c6f4a86"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace29428b2a53bc1c32acda9b8c6f4a86">MS_ADPCM_DecodeBlockData</a> (<a class="el" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a> *state)</td></tr>
<tr class="memitem:adaf81ea720c35eb6368d169660d47907" id="r_adaf81ea720c35eb6368d169660d47907"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adaf81ea720c35eb6368d169660d47907">MS_ADPCM_DecodeBlockHeader</a> (<a class="el" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a> *state)</td></tr>
<tr class="memitem:ac4e4fb8695733d5703b81f918b8e85f9" id="r_ac4e4fb8695733d5703b81f918b8e85f9"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4e4fb8695733d5703b81f918b8e85f9">MS_ADPCM_Init</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, size_t datalength)</td></tr>
<tr class="memitem:aae1c9808589c646335ecbbfc926f5f6c" id="r_aae1c9808589c646335ecbbfc926f5f6c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae1c9808589c646335ecbbfc926f5f6c">MS_ADPCM_ProcessNibble</a> (<a class="el" href="../../d3/dad/structMS__ADPCM__ChannelState.html">MS_ADPCM_ChannelState</a> *cstate, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> sample1, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> sample2, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> nybble)</td></tr>
<tr class="memitem:aa0a5f8951455fba4d1b5cbe1129ecabe" id="r_aa0a5f8951455fba4d1b5cbe1129ecabe"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa0a5f8951455fba4d1b5cbe1129ecabe">PCM_ConvertSint24ToSint32</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **audio_buf, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *audio_len)</td></tr>
<tr class="memitem:addadd8fd88d0b5474a83bbba1f0f0a14" id="r_addadd8fd88d0b5474a83bbba1f0f0a14"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#addadd8fd88d0b5474a83bbba1f0f0a14">PCM_Decode</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **audio_buf, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *audio_len)</td></tr>
<tr class="memitem:a5de487d2ef3ab30c0e771e38722d2889" id="r_a5de487d2ef3ab30c0e771e38722d2889"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5de487d2ef3ab30c0e771e38722d2889">PCM_Init</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, size_t datalength)</td></tr>
<tr class="memitem:a9bcf60574ac3b225d16dff4fac63285c" id="r_a9bcf60574ac3b225d16dff4fac63285c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult</a> (size_t *f1, size_t f2)</td></tr>
<tr class="memitem:a2778dacf0f70ba9f13a958577ea6bb61" id="r_a2778dacf0f70ba9f13a958577ea6bb61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2778dacf0f70ba9f13a958577ea6bb61">SDL_COMPILE_TIME_ASSERT</a> (int_size, sizeof(int)==sizeof(<a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a>))</td></tr>
<tr class="memitem:a8f44fee5faff8eeca26f48be1e66141f" id="r_a8f44fee5faff8eeca26f48be1e66141f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8f44fee5faff8eeca26f48be1e66141f">SDL_LoadWAV</a> (const char *path, <a class="el" href="../../dc/da1/structSDL__AudioSpec.html">SDL_AudioSpec</a> *spec, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **audio_buf, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *audio_len)</td></tr>
<tr class="memitem:afeaef077e6cb8f35303b234139713b6d" id="r_afeaef077e6cb8f35303b234139713b6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afeaef077e6cb8f35303b234139713b6d">SDL_LoadWAV_IO</a> (<a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *src, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> closeio, <a class="el" href="../../dc/da1/structSDL__AudioSpec.html">SDL_AudioSpec</a> *spec, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **audio_buf, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *audio_len)</td></tr>
<tr class="memitem:a09a82ccc0229bf790d2d8000596d02e6" id="r_a09a82ccc0229bf790d2d8000596d02e6"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a> sampleframes)</td></tr>
<tr class="memitem:a7ccff187951fea33da0b5a17e2786a44" id="r_a7ccff187951fea33da0b5a17e2786a44"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ccff187951fea33da0b5a17e2786a44">WaveCheckFormat</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, size_t datalength)</td></tr>
<tr class="memitem:a9ffe58deb6ede54eb238e21999406894" id="r_a9ffe58deb6ede54eb238e21999406894"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9ffe58deb6ede54eb238e21999406894">WaveFreeChunkData</a> (<a class="el" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk)</td></tr>
<tr class="memitem:a031bbdd778f0446bf3ff17c3106c040a" id="r_a031bbdd778f0446bf3ff17c3106c040a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9">WaveFactChunkHint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a031bbdd778f0446bf3ff17c3106c040a">WaveGetFactChunkHint</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)</td></tr>
<tr class="memitem:abbd0579df2d985660595e279c11e4381" id="r_abbd0579df2d985660595e279c11e4381"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abbd0579df2d985660595e279c11e4381">WaveGetFormatGUIDEncoding</a> (<a class="el" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="el" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>)</td></tr>
<tr class="memitem:aae80a4308b72d9e829004b0894983b80" id="r_aae80a4308b72d9e829004b0894983b80"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5f">WaveRiffSizeHint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aae80a4308b72d9e829004b0894983b80">WaveGetRiffSizeHint</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)</td></tr>
<tr class="memitem:aa58fc0cac892abe9b6aba3573336d902" id="r_aa58fc0cac892abe9b6aba3573336d902"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725c">WaveTruncationHint</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa58fc0cac892abe9b6aba3573336d902">WaveGetTruncationHint</a> (<a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>)</td></tr>
<tr class="memitem:a74a2f92d8c663adf2d70ed3fc458c1b5" id="r_a74a2f92d8c663adf2d70ed3fc458c1b5"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad</a> (<a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *src, <a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file, <a class="el" href="../../dc/da1/structSDL__AudioSpec.html">SDL_AudioSpec</a> *spec, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **audio_buf, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *audio_len)</td></tr>
<tr class="memitem:a7ef1a477aa6ccd8189d0185626978535" id="r_a7ef1a477aa6ccd8189d0185626978535"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ef1a477aa6ccd8189d0185626978535">WaveNextChunk</a> (<a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *src, <a class="el" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk)</td></tr>
<tr class="memitem:ab3836c42ce28e16317272b590c79190c" id="r_ab3836c42ce28e16317272b590c79190c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3836c42ce28e16317272b590c79190c">WaveReadChunkData</a> (<a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *src, <a class="el" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk)</td></tr>
<tr class="memitem:a555c3fb0af314226bd9ef39a61aacfe1" id="r_a555c3fb0af314226bd9ef39a61aacfe1"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a555c3fb0af314226bd9ef39a61aacfe1">WaveReadFormat</a> (<a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *file)</td></tr>
<tr class="memitem:ac89e76af4a69b7011354078ab804ae5b" id="r_ac89e76af4a69b7011354078ab804ae5b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac89e76af4a69b7011354078ab804ae5b">WaveReadPartialChunkData</a> (<a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *src, <a class="el" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk, size_t length)</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-var-members" class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a573d42a63b54b44cb325377b8f22b015" id="r_a573d42a63b54b44cb325377b8f22b015"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d4/dd3/structWaveExtensibleGUID.html">WaveExtensibleGUID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a573d42a63b54b44cb325377b8f22b015">extensible_guids</a> []</td></tr>
</table>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a9ec306f36d50c7375e74f0d1c55a3a67" name="a9ec306f36d50c7375e74f0d1c55a3a67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ec306f36d50c7375e74f0d1c55a3a67">&#9670;&#160;</a></span>INT_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INT_MAX&#160;&#160;&#160;<a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ace3c96991b704ef4ec9279dea218cf00">SDL_MAX_SINT32</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d6/d1a/classMainWindow.html#ab198cd229ee6b9245d552bf027ecbce6">MainWindow::onGetFeatureReport()</a>, <a class="el" href="../../d6/d1a/classMainWindow.html#ad4af7241941a89dbdef6643877d58719">MainWindow::onTimeout()</a>, and <a class="el" href="#a7ccff187951fea33da0b5a17e2786a44">WaveCheckFormat()</a>.</p>

</div>
</div>
<a id="a3c75bb398badb69c7577b21486f9963f" name="a3c75bb398badb69c7577b21486f9963f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c75bb398badb69c7577b21486f9963f">&#9670;&#160;</a></span>SIZE_MAX</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SIZE_MAX&#160;&#160;&#160;((size_t)-1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#ab909d8c895556083a8893be1b1d630f4">IMA_ADPCM_Decode()</a>, <a class="el" href="#a95aa579d5b34ccc02a3e174550f9f13d">LAW_Decode()</a>, <a class="el" href="#abed04a09158704527cace31d0e71a2b0">MS_ADPCM_Decode()</a>, <a class="el" href="#aa0a5f8951455fba4d1b5cbe1129ecabe">PCM_ConvertSint24ToSint32()</a>, <a class="el" href="#addadd8fd88d0b5474a83bbba1f0f0a14">PCM_Decode()</a>, and <a class="el" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult()</a>.</p>

</div>
</div>
<a id="a2c67e72866d5441926c43de82806b672" name="a2c67e72866d5441926c43de82806b672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c67e72866d5441926c43de82806b672">&#9670;&#160;</a></span>WAVE_FORMATTAG_GUID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define WAVE_FORMATTAG_GUID</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tag</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    {                                                                                \</div>
<div class="line">        (tag) &amp; 0xff, (tag) &gt;&gt; 8, 0, 0, 0, 0, 16, 0, 128, 0, 0, 170, 0, 56, 155, 113 \</div>
<div class="line">    }</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="lineno"> 1578</span><span class="preprocessor">#define WAVE_FORMATTAG_GUID(tag)                                                     \</span></div>
<div class="line"><span class="lineno"> 1579</span><span class="preprocessor">    {                                                                                \</span></div>
<div class="line"><span class="lineno"> 1580</span><span class="preprocessor">        (tag) &amp; 0xff, (tag) &gt;&gt; 8, 0, 0, 0, 0, 16, 0, 128, 0, 0, 170, 0, 56, 155, 113 \</span></div>
<div class="line"><span class="lineno"> 1581</span><span class="preprocessor">    }</span></div>
</div><!-- fragment -->
</div>
</div>
<a name="doc-typedef-members" id="doc-typedef-members"></a><h2 id="header-doc-typedef-members" class="groupheader">Typedef Documentation</h2>
<a id="a9f503e969365b2f252b4b5d1230f6c48" name="a9f503e969365b2f252b4b5d1230f6c48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f503e969365b2f252b4b5d1230f6c48">&#9670;&#160;</a></span>ADPCM_DecoderState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct ADPCM_DecoderState ADPCM_DecoderState</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8419ad5f0dfcf4a4369cd49b8990b5e2" name="a8419ad5f0dfcf4a4369cd49b8990b5e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8419ad5f0dfcf4a4369cd49b8990b5e2">&#9670;&#160;</a></span>MS_ADPCM_ChannelState</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct MS_ADPCM_ChannelState MS_ADPCM_ChannelState</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae0772e1ed5c24eb0b846448792f58f1a" name="ae0772e1ed5c24eb0b846448792f58f1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0772e1ed5c24eb0b846448792f58f1a">&#9670;&#160;</a></span>MS_ADPCM_CoeffData</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct MS_ADPCM_CoeffData MS_ADPCM_CoeffData</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a828a8e494baf1a909d01dc65185bf3d4" name="a828a8e494baf1a909d01dc65185bf3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a828a8e494baf1a909d01dc65185bf3d4">&#9670;&#160;</a></span>WaveExtensibleGUID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct WaveExtensibleGUID WaveExtensibleGUID</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a277780307d9acc24732b6b2b3442d3d4" name="a277780307d9acc24732b6b2b3442d3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a277780307d9acc24732b6b2b3442d3d4">&#9670;&#160;</a></span>IMA_ADPCM_CalculateSampleFrames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> IMA_ADPCM_CalculateSampleFrames </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>datalength</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  737</span>{</div>
<div class="line"><span class="lineno">  738</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno">  739</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockheadersize = (size_t)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels * 4;</div>
<div class="line"><span class="lineno">  740</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> subblockframesize = (size_t)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels * 4;</div>
<div class="line"><span class="lineno">  741</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> availableblocks = datalength / <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign;</div>
<div class="line"><span class="lineno">  742</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> trailingdata = datalength % <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign;</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>) {</div>
<div class="line"><span class="lineno">  745</span>        <span class="comment">// The size of the data chunk must be a multiple of the block size.</span></div>
<div class="line"><span class="lineno">  746</span>        <span class="keywordflow">if</span> (datalength &lt; blockheadersize || trailingdata &gt; 0) {</div>
<div class="line"><span class="lineno">  747</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Truncated IMA ADPCM block&quot;</span>);</div>
<div class="line"><span class="lineno">  748</span>        }</div>
<div class="line"><span class="lineno">  749</span>    }</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>    <span class="comment">// Calculate number of sample frames that will be decoded.</span></div>
<div class="line"><span class="lineno">  752</span>    file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>)availableblocks * <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock;</div>
<div class="line"><span class="lineno">  753</span>    <span class="keywordflow">if</span> (trailingdata &gt; 0) {</div>
<div class="line"><span class="lineno">  754</span>        <span class="comment">// The last block is truncated. Check if we can get any samples out of it.</span></div>
<div class="line"><span class="lineno">  755</span>        <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a> &amp;&amp; trailingdata &gt; blockheadersize - 2) {</div>
<div class="line"><span class="lineno">  756</span>            <span class="comment">/* The sample frame in the header of the truncated block is present.</span></div>
<div class="line"><span class="lineno">  757</span><span class="comment">             * Drop incomplete sample frames.</span></div>
<div class="line"><span class="lineno">  758</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno">  759</span>            <span class="keywordtype">size_t</span> trailingsamples = 1;</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>            <span class="keywordflow">if</span> (trailingdata &gt; blockheadersize) {</div>
<div class="line"><span class="lineno">  762</span>                <span class="comment">// More data following after the header.</span></div>
<div class="line"><span class="lineno">  763</span>                <span class="keyword">const</span> <span class="keywordtype">size_t</span> trailingblockdata = trailingdata - blockheadersize;</div>
<div class="line"><span class="lineno">  764</span>                <span class="keyword">const</span> <span class="keywordtype">size_t</span> trailingsubblockdata = trailingblockdata % subblockframesize;</div>
<div class="line"><span class="lineno">  765</span>                trailingsamples += (trailingblockdata / subblockframesize) * 8;</div>
<div class="line"><span class="lineno">  766</span>                <span class="comment">/* Due to the interleaved sub-blocks, the last 4 bytes determine</span></div>
<div class="line"><span class="lineno">  767</span><span class="comment">                 * how many samples of the truncated sub-block are lost.</span></div>
<div class="line"><span class="lineno">  768</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  769</span>                <span class="keywordflow">if</span> (trailingsubblockdata &gt; subblockframesize - 4) {</div>
<div class="line"><span class="lineno">  770</span>                    trailingsamples += (trailingsubblockdata % 4) * 2;</div>
<div class="line"><span class="lineno">  771</span>                }</div>
<div class="line"><span class="lineno">  772</span>            }</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>            <span class="keywordflow">if</span> (trailingsamples &gt; <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock) {</div>
<div class="line"><span class="lineno">  775</span>                trailingsamples = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock;</div>
<div class="line"><span class="lineno">  776</span>            }</div>
<div class="line"><span class="lineno">  777</span>            file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> += trailingsamples;</div>
<div class="line"><span class="lineno">  778</span>        }</div>
<div class="line"><span class="lineno">  779</span>    }</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>    file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> = <a class="code hl_function" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue</a>(file, file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a>);</div>
<div class="line"><span class="lineno">  782</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  783</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  784</span>    }</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  787</span>}</div>
<div class="ttc" id="aSDL__error_8h_html_ac23553088fda91b9d123eed70e977c43"><div class="ttname"><a href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_SetError(SDL_PRINTF_FORMAT_STRING const char *fmt,...) SDL_PRINTF_VARARG_FUNC(1)</div><div class="ttdef"><b>Definition</b> SDL_error.c:29</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_ac006cf2bd55a42a9cc8ae9f123aa7e13"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a></div><div class="ttdeci">uint64_t Uint64</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:483</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a09a82ccc0229bf790d2d8000596d02e6"><div class="ttname"><a href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue</a></div><div class="ttdeci">static Sint64 WaveAdjustToFactValue(WaveFile *file, Sint64 sampleframes)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:323</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a></div><div class="ttdeci">@ TruncVeryStrict</div><div class="ttdef"><b>Definition</b> SDL_wave.h:118</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a></div><div class="ttdeci">@ TruncStrict</div><div class="ttdef"><b>Definition</b> SDL_wave.h:119</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a></div><div class="ttdeci">@ TruncDropFrame</div><div class="ttdef"><b>Definition</b> SDL_wave.h:120</div></div>
<div class="ttc" id="aeglext_8h_html_a0ea17d37604a80dac378e5f917a091f1"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a></div><div class="ttdeci">EGLint format</div><div class="ttdef"><b>Definition</b> eglext.h:810</div></div>
<div class="ttc" id="astructWaveFile_html_a75ce19b0f26aa62f4bdb818902fe8335"><div class="ttname"><a href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a></div><div class="ttdeci">WaveFormat format</div><div class="ttdef"><b>Definition</b> SDL_wave.h:137</div></div>
<div class="ttc" id="astructWaveFile_html_a98ce8434c17a64e678514fa8776598a1"><div class="ttname"><a href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">WaveFile::sampleframes</a></div><div class="ttdeci">Sint64 sampleframes</div><div class="ttdef"><b>Definition</b> SDL_wave.h:144</div></div>
<div class="ttc" id="astructWaveFile_html_af95e10b847a374e9988d16218d6f5d78"><div class="ttname"><a href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">WaveFile::trunchint</a></div><div class="ttdeci">WaveTruncationHint trunchint</div><div class="ttdef"><b>Definition</b> SDL_wave.h:149</div></div>
<div class="ttc" id="astructWaveFormat_html"><div class="ttname"><a href="../../de/dd8/structWaveFormat.html">WaveFormat</a></div><div class="ttdef"><b>Definition</b> SDL_wave.h:51</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">WaveFile::sampleframes</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">WaveFile::trunchint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>, and <a class="el" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ab909d8c895556083a8893be1b1d630f4">IMA_ADPCM_Decode()</a>, and <a class="el" href="#aab28ccbe8c4cf1aabee13e51fd1a48bb">IMA_ADPCM_Init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a277780307d9acc24732b6b2b3442d3d4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a277780307d9acc24732b6b2b3442d3d4_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ab909d8c895556083a8893be1b1d630f4" name="ab909d8c895556083a8893be1b1d630f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab909d8c895556083a8893be1b1d630f4">&#9670;&#160;</a></span>IMA_ADPCM_Decode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> IMA_ADPCM_Decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **</td>          <td class="paramname"><span class="paramname"><em>audio_buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *</td>          <td class="paramname"><span class="paramname"><em>audio_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1032</span>{</div>
<div class="line"><span class="lineno"> 1033</span>    <span class="keywordtype">bool</span> result;</div>
<div class="line"><span class="lineno"> 1034</span>    <span class="keywordtype">size_t</span> bytesleft, outputsize;</div>
<div class="line"><span class="lineno"> 1035</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>;</div>
<div class="line"><span class="lineno"> 1036</span>    <a class="code hl_struct" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a> state;</div>
<div class="line"><span class="lineno"> 1037</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a5fc98623306a32e69eaab63e89e1d138">Sint8</a> *cstate;</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>    <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> != chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>) {</div>
<div class="line"><span class="lineno"> 1040</span>        <span class="comment">// Could not read everything. Recalculate number of sample frames.</span></div>
<div class="line"><span class="lineno"> 1041</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a277780307d9acc24732b6b2b3442d3d4">IMA_ADPCM_CalculateSampleFrames</a>(file, chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a>)) {</div>
<div class="line"><span class="lineno"> 1042</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1043</span>        }</div>
<div class="line"><span class="lineno"> 1044</span>    }</div>
<div class="line"><span class="lineno"> 1045</span> </div>
<div class="line"><span class="lineno"> 1046</span>    <span class="comment">// Nothing to decode, nothing to return.</span></div>
<div class="line"><span class="lineno"> 1047</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> == 0) {</div>
<div class="line"><span class="lineno"> 1048</span>        *audio_buf = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1049</span>        *audio_len = 0;</div>
<div class="line"><span class="lineno"> 1050</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1051</span>    }</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(state);</div>
<div class="line"><span class="lineno"> 1054</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a> = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#a13c0bdbb32a4bfe1a2d28b40e474f385">channels</a>;</div>
<div class="line"><span class="lineno"> 1055</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a5af7794152d4edb5850fc97bc37d2fc2">blocksize</a> = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#af26d82b3f68df2f803fdca2a8db2faa0">blockalign</a>;</div>
<div class="line"><span class="lineno"> 1056</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">blockheadersize</a> = (size_t)state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a> * 4;</div>
<div class="line"><span class="lineno"> 1057</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">samplesperblock</a> = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#a0b1013c5bb60444481625c739b76f16d">samplesperblock</a>;</div>
<div class="line"><span class="lineno"> 1058</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#ab72628b79bc32c3c636697d1b221f1fe">framesize</a> = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a> * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>);</div>
<div class="line"><span class="lineno"> 1059</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">framestotal</a> = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a>;</div>
<div class="line"><span class="lineno"> 1060</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a> = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">framestotal</a>;</div>
<div class="line"><span class="lineno"> 1061</span> </div>
<div class="line"><span class="lineno"> 1062</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a> = chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a>;</div>
<div class="line"><span class="lineno"> 1063</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> = chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a>;</div>
<div class="line"><span class="lineno"> 1064</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> = 0;</div>
<div class="line"><span class="lineno"> 1065</span> </div>
<div class="line"><span class="lineno"> 1066</span>    <span class="comment">// The output size in bytes. May get modified if data is truncated.</span></div>
<div class="line"><span class="lineno"> 1067</span>    outputsize = (size_t)state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">framestotal</a>;</div>
<div class="line"><span class="lineno"> 1068</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult</a>(&amp;outputsize, state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#ab72628b79bc32c3c636697d1b221f1fe">framesize</a>)) {</div>
<div class="line"><span class="lineno"> 1069</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1070</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (outputsize &gt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a> || state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">framestotal</a> &gt; <a class="code hl_define" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>) {</div>
<div class="line"><span class="lineno"> 1071</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1072</span>    }</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> = 0;</div>
<div class="line"><span class="lineno"> 1075</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> = outputsize / <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>);</div>
<div class="line"><span class="lineno"> 1076</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a> = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> *)<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc</a>(outputsize);</div>
<div class="line"><span class="lineno"> 1077</span>    <span class="keywordflow">if</span> (!state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>) {</div>
<div class="line"><span class="lineno"> 1078</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1079</span>    }</div>
<div class="line"><span class="lineno"> 1080</span> </div>
<div class="line"><span class="lineno"> 1081</span>    cstate = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a5fc98623306a32e69eaab63e89e1d138">Sint8</a> *)<a class="code hl_function" href="../../d4/d23/SDL__malloc_8c.html#a7bfedc95facf166f557059a2d98714d0">SDL_calloc</a>(state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a>, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a5fc98623306a32e69eaab63e89e1d138">Sint8</a>));</div>
<div class="line"><span class="lineno"> 1082</span>    <span class="keywordflow">if</span> (!cstate) {</div>
<div class="line"><span class="lineno"> 1083</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>);</div>
<div class="line"><span class="lineno"> 1084</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1085</span>    }</div>
<div class="line"><span class="lineno"> 1086</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">cstate</a> = cstate;</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>    <span class="comment">// Decode block by block. A truncated block will stop the decoding.</span></div>
<div class="line"><span class="lineno"> 1089</span>    bytesleft = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> - state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>;</div>
<div class="line"><span class="lineno"> 1090</span>    <span class="keywordflow">while</span> (state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a> &gt; 0 &amp;&amp; bytesleft &gt;= state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">blockheadersize</a>) {</div>
<div class="line"><span class="lineno"> 1091</span>        state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a> = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a> + state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>;</div>
<div class="line"><span class="lineno"> 1092</span>        state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> = bytesleft &lt; state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a5af7794152d4edb5850fc97bc37d2fc2">blocksize</a> ? bytesleft : state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a5af7794152d4edb5850fc97bc37d2fc2">blocksize</a>;</div>
<div class="line"><span class="lineno"> 1093</span>        state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> = 0;</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>        <span class="keywordflow">if</span> (state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> - state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> &lt; (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>)state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a> * state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a>) {</div>
<div class="line"><span class="lineno"> 1096</span>            <span class="comment">// Somehow didn&#39;t allocate enough space for the output.</span></div>
<div class="line"><span class="lineno"> 1097</span>            <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>);</div>
<div class="line"><span class="lineno"> 1098</span>            <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(cstate);</div>
<div class="line"><span class="lineno"> 1099</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unexpected overflow in IMA ADPCM decoder&quot;</span>);</div>
<div class="line"><span class="lineno"> 1100</span>        }</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>        <span class="comment">// Initialize decoder with the values from the block header.</span></div>
<div class="line"><span class="lineno"> 1103</span>        result = <a class="code hl_function" href="#aed94d49d54525506ad65834229d9c5f2">IMA_ADPCM_DecodeBlockHeader</a>(&amp;state);</div>
<div class="line"><span class="lineno"> 1104</span>        <span class="keywordflow">if</span> (result) {</div>
<div class="line"><span class="lineno"> 1105</span>            <span class="comment">// Decode the block data. It stores the samples directly in the output.</span></div>
<div class="line"><span class="lineno"> 1106</span>            result = <a class="code hl_function" href="#a020d501999cf9cb2c7cf1d8e90ea9da8">IMA_ADPCM_DecodeBlockData</a>(&amp;state);</div>
<div class="line"><span class="lineno"> 1107</span>        }</div>
<div class="line"><span class="lineno"> 1108</span> </div>
<div class="line"><span class="lineno"> 1109</span>        <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno"> 1110</span>            <span class="comment">// Unexpected end. Stop decoding and return partial data if necessary.</span></div>
<div class="line"><span class="lineno"> 1111</span>            <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>) {</div>
<div class="line"><span class="lineno"> 1112</span>                <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>);</div>
<div class="line"><span class="lineno"> 1113</span>                <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(cstate);</div>
<div class="line"><span class="lineno"> 1114</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Truncated data chunk&quot;</span>);</div>
<div class="line"><span class="lineno"> 1115</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> != <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a>) {</div>
<div class="line"><span class="lineno"> 1116</span>                state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> -= state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> % (state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">samplesperblock</a> * state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a>);</div>
<div class="line"><span class="lineno"> 1117</span>            }</div>
<div class="line"><span class="lineno"> 1118</span>            outputsize = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>); <span class="comment">// Can&#39;t overflow, is always smaller.</span></div>
<div class="line"><span class="lineno"> 1119</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1120</span>        }</div>
<div class="line"><span class="lineno"> 1121</span> </div>
<div class="line"><span class="lineno"> 1122</span>        state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> += state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a>;</div>
<div class="line"><span class="lineno"> 1123</span>        bytesleft = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> - state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>;</div>
<div class="line"><span class="lineno"> 1124</span>    }</div>
<div class="line"><span class="lineno"> 1125</span> </div>
<div class="line"><span class="lineno"> 1126</span>    *audio_buf = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>;</div>
<div class="line"><span class="lineno"> 1127</span>    *audio_len = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)outputsize;</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>    <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(cstate);</div>
<div class="line"><span class="lineno"> 1130</span> </div>
<div class="line"><span class="lineno"> 1131</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1132</span>}</div>
<div class="ttc" id="aSDL__begin__code_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> SDL_begin_code.h:469</div></div>
<div class="ttc" id="aSDL__malloc_8c_html_a7bfedc95facf166f557059a2d98714d0"><div class="ttname"><a href="../../d4/d23/SDL__malloc_8c.html#a7bfedc95facf166f557059a2d98714d0">SDL_calloc</a></div><div class="ttdeci">void * SDL_calloc(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition</b> SDL_malloc.c:6462</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a0c50a6dd59993af5802a5418e5dbc27a"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_free(void *mem)</div><div class="ttdef"><b>Definition</b> SDL_malloc.c:6499</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a16b9e31a9558e1cbc9e417b0f35a7b8a"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a></div><div class="ttdeci">#define SDL_zero(x)</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:2607</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a1851171ad859663d305344316a73bd22"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a></div><div class="ttdeci">#define SDL_MAX_UINT32</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:462</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a2944638813a090aa23e62f4da842c3e2"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a></div><div class="ttdeci">uint8_t Uint8</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:425</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a40fd54152a5f65f91e9249c458c99afa"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc</a></div><div class="ttdeci">SDL_DECLSPEC SDL_MALLOC void *SDLCALL SDL_malloc(size_t size)</div><div class="ttdef"><b>Definition</b> SDL_malloc.c:6444</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a5fc98623306a32e69eaab63e89e1d138"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a5fc98623306a32e69eaab63e89e1d138">Sint8</a></div><div class="ttdeci">int8_t Sint8</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:416</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a9d0257032c0e146ab6121bf0122712f5"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a></div><div class="ttdeci">int16_t Sint16</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:434</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_add440eff171ea5f55cb00c4a9ab8672d"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a></div><div class="ttdeci">uint32_t Uint32</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:461</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a020d501999cf9cb2c7cf1d8e90ea9da8"><div class="ttname"><a href="#a020d501999cf9cb2c7cf1d8e90ea9da8">IMA_ADPCM_DecodeBlockData</a></div><div class="ttdeci">static bool IMA_ADPCM_DecodeBlockData(ADPCM_DecoderState *state)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:962</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a277780307d9acc24732b6b2b3442d3d4"><div class="ttname"><a href="#a277780307d9acc24732b6b2b3442d3d4">IMA_ADPCM_CalculateSampleFrames</a></div><div class="ttdeci">static bool IMA_ADPCM_CalculateSampleFrames(WaveFile *file, size_t datalength)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:736</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a3c75bb398badb69c7577b21486f9963f"><div class="ttname"><a href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a></div><div class="ttdeci">#define SIZE_MAX</div><div class="ttdef"><b>Definition</b> SDL_wave.c:31</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a9bcf60574ac3b225d16dff4fac63285c"><div class="ttname"><a href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult</a></div><div class="ttdeci">static int SafeMult(size_t *f1, size_t f2)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:44</div></div>
<div class="ttc" id="aSDL__wave_8c_html_aed94d49d54525506ad65834229d9c5f2"><div class="ttname"><a href="#aed94d49d54525506ad65834229d9c5f2">IMA_ADPCM_DecodeBlockHeader</a></div><div class="ttdeci">static bool IMA_ADPCM_DecodeBlockHeader(ADPCM_DecoderState *state)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:923</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a></div><div class="ttdef"><b>Definition</b> SDL_wave.c:54</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a01c89c58effc8ead5e4aed961a576b9c"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">ADPCM_DecoderState::pos</a></div><div class="ttdeci">size_t pos</div><div class="ttdef"><b>Definition</b> SDL_wave.c:70</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a020d39b129be9860e8ce4b87a46b6b34"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">ADPCM_DecoderState::data</a></div><div class="ttdeci">Uint8 * data</div><div class="ttdef"><b>Definition</b> SDL_wave.c:68</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a173503c682c3c325a4aceaff886f9d58"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">ADPCM_DecoderState::framestotal</a></div><div class="ttdeci">Sint64 framestotal</div><div class="ttdef"><b>Definition</b> SDL_wave.c:60</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a1cf040593ba4d4d5c69f88a975e49c7c"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">ADPCM_DecoderState::blockheadersize</a></div><div class="ttdeci">size_t blockheadersize</div><div class="ttdef"><b>Definition</b> SDL_wave.c:57</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a213d9b4c8ceafb8d6e9dc56726793bcb"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">ADPCM_DecoderState::channels</a></div><div class="ttdeci">Uint32 channels</div><div class="ttdef"><b>Definition</b> SDL_wave.c:55</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a2b56223bde316c82c33512a1de2587c0"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">ADPCM_DecoderState::block</a></div><div class="ttdeci">struct ADPCM_DecoderState::@073150316133267020051041014162045266125374203240 block</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a3607f043a45259a7ce5f6839387f59bb"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">ADPCM_DecoderState::input</a></div><div class="ttdeci">struct ADPCM_DecoderState::@041136323142024054207202212044342077273362230061 input</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a538ce00577dbc624f4e45089af12441a"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">ADPCM_DecoderState::framesleft</a></div><div class="ttdeci">Sint64 framesleft</div><div class="ttdef"><b>Definition</b> SDL_wave.c:61</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a5af7794152d4edb5850fc97bc37d2fc2"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a5af7794152d4edb5850fc97bc37d2fc2">ADPCM_DecoderState::blocksize</a></div><div class="ttdeci">size_t blocksize</div><div class="ttdef"><b>Definition</b> SDL_wave.c:56</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a62342f3c5331a9fcddea11dc40e28588"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">ADPCM_DecoderState::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition</b> SDL_wave.c:69</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a7289eca88f7473cd7d6f8f92891919d2"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">ADPCM_DecoderState::samplesperblock</a></div><div class="ttdeci">size_t samplesperblock</div><div class="ttdef"><b>Definition</b> SDL_wave.c:58</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_ab21c065aededca8ca9af176b4aa6ad8b"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">ADPCM_DecoderState::cstate</a></div><div class="ttdeci">void * cstate</div><div class="ttdef"><b>Definition</b> SDL_wave.c:63</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_ab72628b79bc32c3c636697d1b221f1fe"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#ab72628b79bc32c3c636697d1b221f1fe">ADPCM_DecoderState::framesize</a></div><div class="ttdeci">size_t framesize</div><div class="ttdef"><b>Definition</b> SDL_wave.c:59</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_adf5c2ae1994605ab6d0d759f84bc74d3"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">ADPCM_DecoderState::output</a></div><div class="ttdeci">struct ADPCM_DecoderState::@114326120337271037000154314014346031277064131074 output</div></div>
<div class="ttc" id="astructWaveChunk_html"><div class="ttname"><a href="../../d3/d76/structWaveChunk.html">WaveChunk</a></div><div class="ttdef"><b>Definition</b> SDL_wave.h:96</div></div>
<div class="ttc" id="astructWaveChunk_html_a3af3c0a9a46c80d933c04df3b399087b"><div class="ttname"><a href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a></div><div class="ttdeci">Uint8 * data</div><div class="ttdef"><b>Definition</b> SDL_wave.h:100</div></div>
<div class="ttc" id="astructWaveChunk_html_a3d9b8bce7aaffec3deed4962f95527f2"><div class="ttname"><a href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">WaveChunk::length</a></div><div class="ttdeci">Uint32 length</div><div class="ttdef"><b>Definition</b> SDL_wave.h:98</div></div>
<div class="ttc" id="astructWaveChunk_html_a86ae892ec8159655207a2b91c74be3bf"><div class="ttname"><a href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a></div><div class="ttdeci">size_t size</div><div class="ttdef"><b>Definition</b> SDL_wave.h:101</div></div>
<div class="ttc" id="astructWaveFile_html_a0c85227f8e4b5b237909d0406d701941"><div class="ttname"><a href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a></div><div class="ttdeci">WaveChunk chunk</div><div class="ttdef"><b>Definition</b> SDL_wave.h:136</div></div>
<div class="ttc" id="astructWaveFormat_html_a0b1013c5bb60444481625c739b76f16d"><div class="ttname"><a href="../../de/dd8/structWaveFormat.html#a0b1013c5bb60444481625c739b76f16d">WaveFormat::samplesperblock</a></div><div class="ttdeci">Uint32 samplesperblock</div><div class="ttdef"><b>Definition</b> SDL_wave.h:67</div></div>
<div class="ttc" id="astructWaveFormat_html_a13c0bdbb32a4bfe1a2d28b40e474f385"><div class="ttname"><a href="../../de/dd8/structWaveFormat.html#a13c0bdbb32a4bfe1a2d28b40e474f385">WaveFormat::channels</a></div><div class="ttdeci">Uint16 channels</div><div class="ttdef"><b>Definition</b> SDL_wave.h:54</div></div>
<div class="ttc" id="astructWaveFormat_html_af26d82b3f68df2f803fdca2a8db2faa0"><div class="ttname"><a href="../../de/dd8/structWaveFormat.html#af26d82b3f68df2f803fdca2a8db2faa0">WaveFormat::blockalign</a></div><div class="ttdeci">Uint16 blockalign</div><div class="ttdef"><b>Definition</b> SDL_wave.h:57</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">ADPCM_DecoderState::block</a>, <a class="el" href="../../de/dd8/structWaveFormat.html#af26d82b3f68df2f803fdca2a8db2faa0">WaveFormat::blockalign</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">ADPCM_DecoderState::blockheadersize</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a5af7794152d4edb5850fc97bc37d2fc2">ADPCM_DecoderState::blocksize</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">ADPCM_DecoderState::channels</a>, <a class="el" href="../../de/dd8/structWaveFormat.html#a13c0bdbb32a4bfe1a2d28b40e474f385">WaveFormat::channels</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">ADPCM_DecoderState::cstate</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">ADPCM_DecoderState::data</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#ab72628b79bc32c3c636697d1b221f1fe">ADPCM_DecoderState::framesize</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">ADPCM_DecoderState::framesleft</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">ADPCM_DecoderState::framestotal</a>, <a class="el" href="#a277780307d9acc24732b6b2b3442d3d4">IMA_ADPCM_CalculateSampleFrames()</a>, <a class="el" href="#a020d501999cf9cb2c7cf1d8e90ea9da8">IMA_ADPCM_DecodeBlockData()</a>, <a class="el" href="#aed94d49d54525506ad65834229d9c5f2">IMA_ADPCM_DecodeBlockHeader()</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">ADPCM_DecoderState::input</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">WaveChunk::length</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">ADPCM_DecoderState::output</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">ADPCM_DecoderState::pos</a>, <a class="el" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult()</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">WaveFile::sampleframes</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">ADPCM_DecoderState::samplesperblock</a>, <a class="el" href="../../de/dd8/structWaveFormat.html#a0b1013c5bb60444481625c739b76f16d">WaveFormat::samplesperblock</a>, <a class="el" href="../../d4/d23/SDL__malloc_8c.html#a7bfedc95facf166f557059a2d98714d0">SDL_calloc()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">ADPCM_DecoderState::size</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>, <a class="el" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">WaveFile::trunchint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>, and <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_ab909d8c895556083a8893be1b1d630f4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_ab909d8c895556083a8893be1b1d630f4_icgraph.svg" width="635" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a020d501999cf9cb2c7cf1d8e90ea9da8" name="a020d501999cf9cb2c7cf1d8e90ea9da8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a020d501999cf9cb2c7cf1d8e90ea9da8">&#9670;&#160;</a></span>IMA_ADPCM_DecodeBlockData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> IMA_ADPCM_DecodeBlockData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a> *</td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  963</span>{</div>
<div class="line"><span class="lineno">  964</span>    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno">  965</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> channels = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a>;</div>
<div class="line"><span class="lineno">  966</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> subblockframesize = (size_t)channels * 4;</div>
<div class="line"><span class="lineno">  967</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a> bytesrequired;</div>
<div class="line"><span class="lineno">  968</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> c;</div>
<div class="line"><span class="lineno">  969</span>    <span class="keywordtype">bool</span> result = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>    <span class="keywordtype">size_t</span> blockpos = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>;</div>
<div class="line"><span class="lineno">  972</span>    <span class="keywordtype">size_t</span> blocksize = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a>;</div>
<div class="line"><span class="lineno">  973</span>    <span class="keywordtype">size_t</span> blockleft = blocksize - blockpos;</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>    <span class="keywordtype">size_t</span> outpos = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>;</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a> blockframesleft = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">samplesperblock</a> - 1;</div>
<div class="line"><span class="lineno">  978</span>    <span class="keywordflow">if</span> (blockframesleft &gt; state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a>) {</div>
<div class="line"><span class="lineno">  979</span>        blockframesleft = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a>;</div>
<div class="line"><span class="lineno">  980</span>    }</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>    bytesrequired = (blockframesleft + 7) / 8 * subblockframesize;</div>
<div class="line"><span class="lineno">  983</span>    <span class="keywordflow">if</span> (blockleft &lt; bytesrequired) {</div>
<div class="line"><span class="lineno">  984</span>        <span class="comment">// Data truncated. Calculate how many samples we can get out if it.</span></div>
<div class="line"><span class="lineno">  985</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> guaranteedframes = blockleft / subblockframesize;</div>
<div class="line"><span class="lineno">  986</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> remainingbytes = blockleft % subblockframesize;</div>
<div class="line"><span class="lineno">  987</span>        blockframesleft = guaranteedframes;</div>
<div class="line"><span class="lineno">  988</span>        <span class="keywordflow">if</span> (remainingbytes &gt; subblockframesize - 4) {</div>
<div class="line"><span class="lineno">  989</span>            blockframesleft += (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a>)(remainingbytes % 4) * 2;</div>
<div class="line"><span class="lineno">  990</span>        }</div>
<div class="line"><span class="lineno">  991</span>        <span class="comment">// Signal the truncation.</span></div>
<div class="line"><span class="lineno">  992</span>        result = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  993</span>    }</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>    <span class="comment">/* Each channel has their nibbles packed into 32-bit blocks. These blocks</span></div>
<div class="line"><span class="lineno">  996</span><span class="comment">     * are interleaved and make up the data part of the ADPCM block. This loop</span></div>
<div class="line"><span class="lineno">  997</span><span class="comment">     * decodes the samples as they come from the input data and puts them at</span></div>
<div class="line"><span class="lineno">  998</span><span class="comment">     * the appropriate places in the output data.</span></div>
<div class="line"><span class="lineno">  999</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1000</span>    <span class="keywordflow">while</span> (blockframesleft &gt; 0) {</div>
<div class="line"><span class="lineno"> 1001</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> subblocksamples = blockframesleft &lt; 8 ? (size_t)blockframesleft : 8;</div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>        <span class="keywordflow">for</span> (c = 0; c &lt; channels; c++) {</div>
<div class="line"><span class="lineno"> 1004</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> nybble = 0;</div>
<div class="line"><span class="lineno"> 1005</span>            <span class="comment">// Load previous sample which may come from the block header.</span></div>
<div class="line"><span class="lineno"> 1006</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> sample = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[outpos + c - channels];</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>            <span class="keywordflow">for</span> (i = 0; i &lt; subblocksamples; i++) {</div>
<div class="line"><span class="lineno"> 1009</span>                <span class="keywordflow">if</span> (i &amp; 1) {</div>
<div class="line"><span class="lineno"> 1010</span>                    nybble &gt;&gt;= 4;</div>
<div class="line"><span class="lineno"> 1011</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1012</span>                    nybble = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[blockpos++];</div>
<div class="line"><span class="lineno"> 1013</span>                }</div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span>                sample = <a class="code hl_function" href="#a65f30cb8f033ec3b49bfbeda45e2164d">IMA_ADPCM_ProcessNibble</a>((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a5fc98623306a32e69eaab63e89e1d138">Sint8</a> *)state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">cstate</a> + c, sample, nybble &amp; 0x0f);</div>
<div class="line"><span class="lineno"> 1016</span>                state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[outpos + c + i * channels] = sample;</div>
<div class="line"><span class="lineno"> 1017</span>            }</div>
<div class="line"><span class="lineno"> 1018</span>        }</div>
<div class="line"><span class="lineno"> 1019</span> </div>
<div class="line"><span class="lineno"> 1020</span>        outpos += channels * subblocksamples;</div>
<div class="line"><span class="lineno"> 1021</span>        state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a> -= subblocksamples;</div>
<div class="line"><span class="lineno"> 1022</span>        blockframesleft -= subblocksamples;</div>
<div class="line"><span class="lineno"> 1023</span>    }</div>
<div class="line"><span class="lineno"> 1024</span> </div>
<div class="line"><span class="lineno"> 1025</span>    state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> = blockpos;</div>
<div class="line"><span class="lineno"> 1026</span>    state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> = outpos;</div>
<div class="line"><span class="lineno"> 1027</span> </div>
<div class="line"><span class="lineno"> 1028</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 1029</span>}</div>
<div class="ttc" id="aSDL__stdinc_8h_html_a2c1a61d5c466bb74680be0a8cc1b455d"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a></div><div class="ttdeci">int64_t Sint64</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:472</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a65f30cb8f033ec3b49bfbeda45e2164d"><div class="ttname"><a href="#a65f30cb8f033ec3b49bfbeda45e2164d">IMA_ADPCM_ProcessNibble</a></div><div class="ttdeci">static Sint16 IMA_ADPCM_ProcessNibble(Sint8 *cindex, Sint16 lastsample, Uint8 nybble)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:854</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">ADPCM_DecoderState::block</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">ADPCM_DecoderState::channels</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">ADPCM_DecoderState::cstate</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">ADPCM_DecoderState::data</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">ADPCM_DecoderState::framesleft</a>, <a class="el" href="#a65f30cb8f033ec3b49bfbeda45e2164d">IMA_ADPCM_ProcessNibble()</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">ADPCM_DecoderState::output</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">ADPCM_DecoderState::pos</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">ADPCM_DecoderState::samplesperblock</a>, and <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">ADPCM_DecoderState::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ab909d8c895556083a8893be1b1d630f4">IMA_ADPCM_Decode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a020d501999cf9cb2c7cf1d8e90ea9da8_cgraph.svg" width="467" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a020d501999cf9cb2c7cf1d8e90ea9da8_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aed94d49d54525506ad65834229d9c5f2" name="aed94d49d54525506ad65834229d9c5f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed94d49d54525506ad65834229d9c5f2">&#9670;&#160;</a></span>IMA_ADPCM_DecodeBlockHeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> IMA_ADPCM_DecodeBlockHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a> *</td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  924</span>{</div>
<div class="line"><span class="lineno">  925</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> step;</div>
<div class="line"><span class="lineno">  926</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> c;</div>
<div class="line"><span class="lineno">  927</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *cstate = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">cstate</a>;</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>    <span class="keywordflow">for</span> (c = 0; c &lt; state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a>; c++) {</div>
<div class="line"><span class="lineno">  930</span>        <span class="keywordtype">size_t</span> o = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> + c * 4;</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>        <span class="comment">// Extract the sample from the header.</span></div>
<div class="line"><span class="lineno">  933</span>        <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> sample = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o] | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a>)state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o + 1] &lt;&lt; 8);</div>
<div class="line"><span class="lineno">  934</span>        <span class="keywordflow">if</span> (sample &gt;= 0x8000) {</div>
<div class="line"><span class="lineno">  935</span>            sample -= 0x10000;</div>
<div class="line"><span class="lineno">  936</span>        }</div>
<div class="line"><span class="lineno">  937</span>        state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>++] = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>)sample;</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>        <span class="comment">// Channel step index.</span></div>
<div class="line"><span class="lineno">  940</span>        step = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>)state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o + 2];</div>
<div class="line"><span class="lineno">  941</span>        cstate[c] = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a5fc98623306a32e69eaab63e89e1d138">Sint8</a>)(step &gt; 0x80 ? step - 0x100 : step);</div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>        <span class="comment">// Reserved byte in block header, should be 0.</span></div>
<div class="line"><span class="lineno">  944</span>        <span class="keywordflow">if</span> (state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o + 3] != 0) {</div>
<div class="line"><span class="lineno">  945</span>            <span class="comment">/* Uh oh, corrupt data?  Buggy code? */</span>;</div>
<div class="line"><span class="lineno">  946</span>        }</div>
<div class="line"><span class="lineno">  947</span>    }</div>
<div class="line"><span class="lineno">  948</span> </div>
<div class="line"><span class="lineno">  949</span>    state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> += state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">blockheadersize</a>;</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>    <span class="comment">// Header provided one sample frame.</span></div>
<div class="line"><span class="lineno">  952</span>    state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a>--;</div>
<div class="line"><span class="lineno">  953</span> </div>
<div class="line"><span class="lineno">  954</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  955</span>}</div>
<div class="ttc" id="aSDL__stdinc_8h_html_a7a90b941db9d4582e9ad7abb9940ff7e"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a></div><div class="ttdeci">int32_t Sint32</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:452</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">ADPCM_DecoderState::block</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">ADPCM_DecoderState::blockheadersize</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">ADPCM_DecoderState::channels</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">ADPCM_DecoderState::cstate</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">ADPCM_DecoderState::data</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">ADPCM_DecoderState::framesleft</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">ADPCM_DecoderState::output</a>, and <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">ADPCM_DecoderState::pos</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ab909d8c895556083a8893be1b1d630f4">IMA_ADPCM_Decode()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_aed94d49d54525506ad65834229d9c5f2_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aab28ccbe8c4cf1aabee13e51fd1a48bb" name="aab28ccbe8c4cf1aabee13e51fd1a48bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab28ccbe8c4cf1aabee13e51fd1a48bb">&#9670;&#160;</a></span>IMA_ADPCM_Init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> IMA_ADPCM_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>datalength</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  790</span>{</div>
<div class="line"><span class="lineno">  791</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno">  792</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>;</div>
<div class="line"><span class="lineno">  793</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockheadersize = (size_t)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels * 4;</div>
<div class="line"><span class="lineno">  794</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockdatasize = (size_t)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign - blockheadersize;</div>
<div class="line"><span class="lineno">  795</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockframebitsize = (size_t)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample * <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels;</div>
<div class="line"><span class="lineno">  796</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockdatasamples = (blockdatasize * 8) / blockframebitsize;</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>    <span class="comment">// Sanity checks.</span></div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>    <span class="comment">// IMA ADPCM can also have 3-bit samples, but it&#39;s not supported by SDL at this time.</span></div>
<div class="line"><span class="lineno">  801</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample == 3) {</div>
<div class="line"><span class="lineno">  802</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;3-bit IMA ADPCM currently not supported&quot;</span>);</div>
<div class="line"><span class="lineno">  803</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample != 4) {</div>
<div class="line"><span class="lineno">  804</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid IMA ADPCM bits per sample of %u&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample);</div>
<div class="line"><span class="lineno">  805</span>    }</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>    <span class="comment">/* The block size is required to be a multiple of 4 and it must be able to</span></div>
<div class="line"><span class="lineno">  808</span><span class="comment">     * hold a block header.</span></div>
<div class="line"><span class="lineno">  809</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  810</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign &lt; blockheadersize || <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign % 4) {</div>
<div class="line"><span class="lineno">  811</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid IMA ADPCM block size (nBlockAlign)&quot;</span>);</div>
<div class="line"><span class="lineno">  812</span>    }</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;formattag == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aa92c66da4d85adbb169f0781c629c872">EXTENSIBLE_CODE</a>) {</div>
<div class="line"><span class="lineno">  815</span>        <span class="comment">/* There&#39;s no specification for this, but it&#39;s basically the same</span></div>
<div class="line"><span class="lineno">  816</span><span class="comment">         * format because the extensible header has wSampePerBlocks too.</span></div>
<div class="line"><span class="lineno">  817</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  818</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  819</span>        <span class="comment">// The Standards Update says there &#39;should&#39; be 2 bytes for wSamplesPerBlock.</span></div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">if</span> (chunk-&gt;size &gt;= 20 &amp;&amp; <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;extsize &gt;= 2) {</div>
<div class="line"><span class="lineno">  821</span>            <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock = chunk-&gt;data[18] | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a>)chunk-&gt;data[19] &lt;&lt; 8);</div>
<div class="line"><span class="lineno">  822</span>        }</div>
<div class="line"><span class="lineno">  823</span>    }</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock == 0) {</div>
<div class="line"><span class="lineno">  826</span>        <span class="comment">/* Field zero? No problem. We just assume the encoder packed the block.</span></div>
<div class="line"><span class="lineno">  827</span><span class="comment">         * The specification calculates it this way:</span></div>
<div class="line"><span class="lineno">  828</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  829</span><span class="comment">         *   x = Block size (in bits) minus header size (in bits)</span></div>
<div class="line"><span class="lineno">  830</span><span class="comment">         *   y = Bit depth multiplied by channel count</span></div>
<div class="line"><span class="lineno">  831</span><span class="comment">         *   z = Number of samples per channel in header</span></div>
<div class="line"><span class="lineno">  832</span><span class="comment">         *   wSamplesPerBlock = x / y + z</span></div>
<div class="line"><span class="lineno">  833</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  834</span>        <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)blockdatasamples + 1;</div>
<div class="line"><span class="lineno">  835</span>    }</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>    <span class="comment">/* nBlockAlign can be in conflict with wSamplesPerBlock. For example, if</span></div>
<div class="line"><span class="lineno">  838</span><span class="comment">     * the number of samples doesn&#39;t fit into the block. The Standards Update</span></div>
<div class="line"><span class="lineno">  839</span><span class="comment">     * also describes wSamplesPerBlock with a formula that makes it necessary</span></div>
<div class="line"><span class="lineno">  840</span><span class="comment">     * to always fill the block with the maximum amount of samples, but this is</span></div>
<div class="line"><span class="lineno">  841</span><span class="comment">     * not enforced here as there are no compatibility issues.</span></div>
<div class="line"><span class="lineno">  842</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  843</span>    <span class="keywordflow">if</span> (blockdatasamples &lt; format-&gt;samplesperblock - 1) {</div>
<div class="line"><span class="lineno">  844</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid number of samples per IMA ADPCM block (wSamplesPerBlock)&quot;</span>);</div>
<div class="line"><span class="lineno">  845</span>    }</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a277780307d9acc24732b6b2b3442d3d4">IMA_ADPCM_CalculateSampleFrames</a>(file, datalength)) {</div>
<div class="line"><span class="lineno">  848</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  849</span>    }</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  852</span>}</div>
<div class="ttc" id="aSDL__stdinc_8h_html_a31fcc0a076c9068668173ee26d33e42b"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a></div><div class="ttdeci">uint16_t Uint16</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:443</div></div>
<div class="ttc" id="aSDL__wave_8h_html_aa92c66da4d85adbb169f0781c629c872"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#aa92c66da4d85adbb169f0781c629c872">EXTENSIBLE_CODE</a></div><div class="ttdeci">#define EXTENSIBLE_CODE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:47</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#aa92c66da4d85adbb169f0781c629c872">EXTENSIBLE_CODE</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="#a277780307d9acc24732b6b2b3442d3d4">IMA_ADPCM_CalculateSampleFrames()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, and <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a7ccff187951fea33da0b5a17e2786a44">WaveCheckFormat()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_aab28ccbe8c4cf1aabee13e51fd1a48bb_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_aab28ccbe8c4cf1aabee13e51fd1a48bb_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a65f30cb8f033ec3b49bfbeda45e2164d" name="a65f30cb8f033ec3b49bfbeda45e2164d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65f30cb8f033ec3b49bfbeda45e2164d">&#9670;&#160;</a></span>IMA_ADPCM_ProcessNibble()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> IMA_ADPCM_ProcessNibble </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a5fc98623306a32e69eaab63e89e1d138">Sint8</a> *</td>          <td class="paramname"><span class="paramname"><em>cindex</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a></td>          <td class="paramname"><span class="paramname"><em>lastsample</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a></td>          <td class="paramname"><span class="paramname"><em>nybble</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  855</span>{</div>
<div class="line"><span class="lineno">  856</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> max_audioval = 32767;</div>
<div class="line"><span class="lineno">  857</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> min_audioval = -32768;</div>
<div class="line"><span class="lineno">  858</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a5fc98623306a32e69eaab63e89e1d138">Sint8</a> index_table_4b[16] = {</div>
<div class="line"><span class="lineno">  859</span>        -1, -1, -1, -1,</div>
<div class="line"><span class="lineno">  860</span>        2, 4, 6, 8,</div>
<div class="line"><span class="lineno">  861</span>        -1, -1, -1, -1,</div>
<div class="line"><span class="lineno">  862</span>        2, 4, 6, 8</div>
<div class="line"><span class="lineno">  863</span>    };</div>
<div class="line"><span class="lineno">  864</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> step_table[89] = {</div>
<div class="line"><span class="lineno">  865</span>        7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 19, 21, 23, 25, 28, 31,</div>
<div class="line"><span class="lineno">  866</span>        34, 37, 41, 45, 50, 55, 60, 66, 73, 80, 88, 97, 107, 118, 130,</div>
<div class="line"><span class="lineno">  867</span>        143, 157, 173, 190, 209, 230, 253, 279, 307, 337, 371, 408,</div>
<div class="line"><span class="lineno">  868</span>        449, 494, 544, 598, 658, 724, 796, 876, 963, 1060, 1166, 1282,</div>
<div class="line"><span class="lineno">  869</span>        1411, 1552, 1707, 1878, 2066, 2272, 2499, 2749, 3024, 3327,</div>
<div class="line"><span class="lineno">  870</span>        3660, 4026, 4428, 4871, 5358, 5894, 6484, 7132, 7845, 8630,</div>
<div class="line"><span class="lineno">  871</span>        9493, 10442, 11487, 12635, 13899, 15289, 16818, 18500, 20350,</div>
<div class="line"><span class="lineno">  872</span>        22385, 24623, 27086, 29794, 32767</div>
<div class="line"><span class="lineno">  873</span>    };</div>
<div class="line"><span class="lineno">  874</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> step;</div>
<div class="line"><span class="lineno">  875</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> sample, delta;</div>
<div class="line"><span class="lineno">  876</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a5fc98623306a32e69eaab63e89e1d138">Sint8</a> index = *cindex;</div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>    <span class="comment">// Clamp index into valid range.</span></div>
<div class="line"><span class="lineno">  879</span>    <span class="keywordflow">if</span> (index &gt; 88) {</div>
<div class="line"><span class="lineno">  880</span>        index = 88;</div>
<div class="line"><span class="lineno">  881</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (index &lt; 0) {</div>
<div class="line"><span class="lineno">  882</span>        index = 0;</div>
<div class="line"><span class="lineno">  883</span>    }</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>    <span class="comment">// explicit cast to avoid gcc warning about using &#39;char&#39; as array index</span></div>
<div class="line"><span class="lineno">  886</span>    step = step_table[(size_t)index];</div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>    <span class="comment">// Update index value</span></div>
<div class="line"><span class="lineno">  889</span>    *cindex = index + index_table_4b[nybble];</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>    <span class="comment">/* This calculation uses shifts and additions because multiplications were</span></div>
<div class="line"><span class="lineno">  892</span><span class="comment">     * much slower back then. Sadly, this can&#39;t just be replaced with an actual</span></div>
<div class="line"><span class="lineno">  893</span><span class="comment">     * multiplication now as the old algorithm drops some bits. The closest</span></div>
<div class="line"><span class="lineno">  894</span><span class="comment">     * approximation I could find is something like this:</span></div>
<div class="line"><span class="lineno">  895</span><span class="comment">     * (nybble &amp; 0x8 ? -1 : 1) * ((nybble &amp; 0x7) * step / 4 + step / 8)</span></div>
<div class="line"><span class="lineno">  896</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  897</span>    delta = step &gt;&gt; 3;</div>
<div class="line"><span class="lineno">  898</span>    <span class="keywordflow">if</span> (nybble &amp; 0x04) {</div>
<div class="line"><span class="lineno">  899</span>        delta += step;</div>
<div class="line"><span class="lineno">  900</span>    }</div>
<div class="line"><span class="lineno">  901</span>    <span class="keywordflow">if</span> (nybble &amp; 0x02) {</div>
<div class="line"><span class="lineno">  902</span>        delta += step &gt;&gt; 1;</div>
<div class="line"><span class="lineno">  903</span>    }</div>
<div class="line"><span class="lineno">  904</span>    <span class="keywordflow">if</span> (nybble &amp; 0x01) {</div>
<div class="line"><span class="lineno">  905</span>        delta += step &gt;&gt; 2;</div>
<div class="line"><span class="lineno">  906</span>    }</div>
<div class="line"><span class="lineno">  907</span>    <span class="keywordflow">if</span> (nybble &amp; 0x08) {</div>
<div class="line"><span class="lineno">  908</span>        delta = -delta;</div>
<div class="line"><span class="lineno">  909</span>    }</div>
<div class="line"><span class="lineno">  910</span> </div>
<div class="line"><span class="lineno">  911</span>    sample = lastsample + delta;</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>    <span class="comment">// Clamp output sample</span></div>
<div class="line"><span class="lineno">  914</span>    <span class="keywordflow">if</span> (sample &gt; max_audioval) {</div>
<div class="line"><span class="lineno">  915</span>        sample = max_audioval;</div>
<div class="line"><span class="lineno">  916</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sample &lt; min_audioval) {</div>
<div class="line"><span class="lineno">  917</span>        sample = min_audioval;</div>
<div class="line"><span class="lineno">  918</span>    }</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>    <span class="keywordflow">return</span> (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>)sample;</div>
<div class="line"><span class="lineno">  921</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#a020d501999cf9cb2c7cf1d8e90ea9da8">IMA_ADPCM_DecodeBlockData()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a65f30cb8f033ec3b49bfbeda45e2164d_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a95aa579d5b34ccc02a3e174550f9f13d" name="a95aa579d5b34ccc02a3e174550f9f13d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95aa579d5b34ccc02a3e174550f9f13d">&#9670;&#160;</a></span>LAW_Decode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> LAW_Decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **</td>          <td class="paramname"><span class="paramname"><em>audio_buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *</td>          <td class="paramname"><span class="paramname"><em>audio_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1163</span>{</div>
<div class="line"><span class="lineno"> 1164</span><span class="preprocessor">#ifdef SDL_WAVE_LAW_LUT</span></div>
<div class="line"><span class="lineno"> 1165</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> alaw_lut[256] = {</div>
<div class="line"><span class="lineno"> 1166</span>        -5504, -5248, -6016, -5760, -4480, -4224, -4992, -4736, -7552, -7296, -8064, -7808, -6528, -6272, -7040, -6784, -2752,</div>
<div class="line"><span class="lineno"> 1167</span>        -2624, -3008, -2880, -2240, -2112, -2496, -2368, -3776, -3648, -4032, -3904, -3264, -3136, -3520, -3392, -22016,</div>
<div class="line"><span class="lineno"> 1168</span>        -20992, -24064, -23040, -17920, -16896, -19968, -18944, -30208, -29184, -32256, -31232, -26112, -25088, -28160, -27136, -11008,</div>
<div class="line"><span class="lineno"> 1169</span>        -10496, -12032, -11520, -8960, -8448, -9984, -9472, -15104, -14592, -16128, -15616, -13056, -12544, -14080, -13568, -344,</div>
<div class="line"><span class="lineno"> 1170</span>        -328, -376, -360, -280, -264, -312, -296, -472, -456, -504, -488, -408, -392, -440, -424, -88,</div>
<div class="line"><span class="lineno"> 1171</span>        -72, -120, -104, -24, -8, -56, -40, -216, -200, -248, -232, -152, -136, -184, -168, -1376,</div>
<div class="line"><span class="lineno"> 1172</span>        -1312, -1504, -1440, -1120, -1056, -1248, -1184, -1888, -1824, -2016, -1952, -1632, -1568, -1760, -1696, -688,</div>
<div class="line"><span class="lineno"> 1173</span>        -656, -752, -720, -560, -528, -624, -592, -944, -912, -1008, -976, -816, -784, -880, -848, 5504,</div>
<div class="line"><span class="lineno"> 1174</span>        5248, 6016, 5760, 4480, 4224, 4992, 4736, 7552, 7296, 8064, 7808, 6528, 6272, 7040, 6784, 2752,</div>
<div class="line"><span class="lineno"> 1175</span>        2624, 3008, 2880, 2240, 2112, 2496, 2368, 3776, 3648, 4032, 3904, 3264, 3136, 3520, 3392, 22016,</div>
<div class="line"><span class="lineno"> 1176</span>        20992, 24064, 23040, 17920, 16896, 19968, 18944, 30208, 29184, 32256, 31232, 26112, 25088, 28160, 27136, 11008,</div>
<div class="line"><span class="lineno"> 1177</span>        10496, 12032, 11520, 8960, 8448, 9984, 9472, 15104, 14592, 16128, 15616, 13056, 12544, 14080, 13568, 344,</div>
<div class="line"><span class="lineno"> 1178</span>        328, 376, 360, 280, 264, 312, 296, 472, 456, 504, 488, 408, 392, 440, 424, 88,</div>
<div class="line"><span class="lineno"> 1179</span>        72, 120, 104, 24, 8, 56, 40, 216, 200, 248, 232, 152, 136, 184, 168, 1376,</div>
<div class="line"><span class="lineno"> 1180</span>        1312, 1504, 1440, 1120, 1056, 1248, 1184, 1888, 1824, 2016, 1952, 1632, 1568, 1760, 1696, 688,</div>
<div class="line"><span class="lineno"> 1181</span>        656, 752, 720, 560, 528, 624, 592, 944, 912, 1008, 976, 816, 784, 880, 848</div>
<div class="line"><span class="lineno"> 1182</span>    };</div>
<div class="line"><span class="lineno"> 1183</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> mulaw_lut[256] = {</div>
<div class="line"><span class="lineno"> 1184</span>        -32124, -31100, -30076, -29052, -28028, -27004, -25980, -24956, -23932, -22908, -21884, -20860, -19836, -18812, -17788, -16764, -15996,</div>
<div class="line"><span class="lineno"> 1185</span>        -15484, -14972, -14460, -13948, -13436, -12924, -12412, -11900, -11388, -10876, -10364, -9852, -9340, -8828, -8316, -7932,</div>
<div class="line"><span class="lineno"> 1186</span>        -7676, -7420, -7164, -6908, -6652, -6396, -6140, -5884, -5628, -5372, -5116, -4860, -4604, -4348, -4092, -3900,</div>
<div class="line"><span class="lineno"> 1187</span>        -3772, -3644, -3516, -3388, -3260, -3132, -3004, -2876, -2748, -2620, -2492, -2364, -2236, -2108, -1980, -1884,</div>
<div class="line"><span class="lineno"> 1188</span>        -1820, -1756, -1692, -1628, -1564, -1500, -1436, -1372, -1308, -1244, -1180, -1116, -1052, -988, -924, -876,</div>
<div class="line"><span class="lineno"> 1189</span>        -844, -812, -780, -748, -716, -684, -652, -620, -588, -556, -524, -492, -460, -428, -396, -372,</div>
<div class="line"><span class="lineno"> 1190</span>        -356, -340, -324, -308, -292, -276, -260, -244, -228, -212, -196, -180, -164, -148, -132, -120,</div>
<div class="line"><span class="lineno"> 1191</span>        -112, -104, -96, -88, -80, -72, -64, -56, -48, -40, -32, -24, -16, -8, 0, 32124,</div>
<div class="line"><span class="lineno"> 1192</span>        31100, 30076, 29052, 28028, 27004, 25980, 24956, 23932, 22908, 21884, 20860, 19836, 18812, 17788, 16764, 15996,</div>
<div class="line"><span class="lineno"> 1193</span>        15484, 14972, 14460, 13948, 13436, 12924, 12412, 11900, 11388, 10876, 10364, 9852, 9340, 8828, 8316, 7932,</div>
<div class="line"><span class="lineno"> 1194</span>        7676, 7420, 7164, 6908, 6652, 6396, 6140, 5884, 5628, 5372, 5116, 4860, 4604, 4348, 4092, 3900,</div>
<div class="line"><span class="lineno"> 1195</span>        3772, 3644, 3516, 3388, 3260, 3132, 3004, 2876, 2748, 2620, 2492, 2364, 2236, 2108, 1980, 1884,</div>
<div class="line"><span class="lineno"> 1196</span>        1820, 1756, 1692, 1628, 1564, 1500, 1436, 1372, 1308, 1244, 1180, 1116, 1052, 988, 924, 876,</div>
<div class="line"><span class="lineno"> 1197</span>        844, 812, 780, 748, 716, 684, 652, 620, 588, 556, 524, 492, 460, 428, 396, 372,</div>
<div class="line"><span class="lineno"> 1198</span>        356, 340, 324, 308, 292, 276, 260, 244, 228, 212, 196, 180, 164, 148, 132, 120,</div>
<div class="line"><span class="lineno"> 1199</span>        112, 104, 96, 88, 80, 72, 64, 56, 48, 40, 32, 24, 16, 8, 0</div>
<div class="line"><span class="lineno"> 1200</span>    };</div>
<div class="line"><span class="lineno"> 1201</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1202</span> </div>
<div class="line"><span class="lineno"> 1203</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno"> 1204</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>;</div>
<div class="line"><span class="lineno"> 1205</span>    <span class="keywordtype">size_t</span> i, sample_count, expanded_len;</div>
<div class="line"><span class="lineno"> 1206</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *src;</div>
<div class="line"><span class="lineno"> 1207</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> *dst;</div>
<div class="line"><span class="lineno"> 1208</span> </div>
<div class="line"><span class="lineno"> 1209</span>    <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> != chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a>) {</div>
<div class="line"><span class="lineno"> 1210</span>        file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> = <a class="code hl_function" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue</a>(file, chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> / <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign);</div>
<div class="line"><span class="lineno"> 1211</span>        <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1212</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1213</span>        }</div>
<div class="line"><span class="lineno"> 1214</span>    }</div>
<div class="line"><span class="lineno"> 1215</span> </div>
<div class="line"><span class="lineno"> 1216</span>    <span class="comment">// Nothing to decode, nothing to return.</span></div>
<div class="line"><span class="lineno"> 1217</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> == 0) {</div>
<div class="line"><span class="lineno"> 1218</span>        *audio_buf = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1219</span>        *audio_len = 0;</div>
<div class="line"><span class="lineno"> 1220</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1221</span>    }</div>
<div class="line"><span class="lineno"> 1222</span> </div>
<div class="line"><span class="lineno"> 1223</span>    sample_count = (size_t)file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a>;</div>
<div class="line"><span class="lineno"> 1224</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult</a>(&amp;sample_count, <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels)) {</div>
<div class="line"><span class="lineno"> 1225</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1226</span>    }</div>
<div class="line"><span class="lineno"> 1227</span> </div>
<div class="line"><span class="lineno"> 1228</span>    expanded_len = sample_count;</div>
<div class="line"><span class="lineno"> 1229</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult</a>(&amp;expanded_len, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>))) {</div>
<div class="line"><span class="lineno"> 1230</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1231</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expanded_len &gt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> &gt; <a class="code hl_define" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>) {</div>
<div class="line"><span class="lineno"> 1232</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1233</span>    }</div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span>    <span class="comment">// 1 to avoid allocating zero bytes, to keep static analysis happy.</span></div>
<div class="line"><span class="lineno"> 1236</span>    src = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)<a class="code hl_function" href="../../d4/d23/SDL__malloc_8c.html#a85652d5d4d7f0010772e5276fd9f3516">SDL_realloc</a>(chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a>, expanded_len ? expanded_len : 1);</div>
<div class="line"><span class="lineno"> 1237</span>    <span class="keywordflow">if</span> (!src) {</div>
<div class="line"><span class="lineno"> 1238</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1239</span>    }</div>
<div class="line"><span class="lineno"> 1240</span>    chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1241</span>    chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> = 0;</div>
<div class="line"><span class="lineno"> 1242</span> </div>
<div class="line"><span class="lineno"> 1243</span>    dst = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> *)src;</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span>    <span class="comment">/* Work backwards, since we&#39;re expanding in-place. `format` will</span></div>
<div class="line"><span class="lineno"> 1246</span><span class="comment">     * inform the caller about the byte order.</span></div>
<div class="line"><span class="lineno"> 1247</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1248</span>    i = sample_count;</div>
<div class="line"><span class="lineno"> 1249</span>    <span class="keywordflow">switch</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#a567694f796fc0206cf43f018e0dc1c97">encoding</a>) {</div>
<div class="line"><span class="lineno"> 1250</span><span class="preprocessor">#ifdef SDL_WAVE_LAW_LUT</span></div>
<div class="line"><span class="lineno"> 1251</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 1252</span>        <span class="keywordflow">while</span> (i--) {</div>
<div class="line"><span class="lineno"> 1253</span>            dst[i] = alaw_lut[src[i]];</div>
<div class="line"><span class="lineno"> 1254</span>        }</div>
<div class="line"><span class="lineno"> 1255</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1256</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 1257</span>        <span class="keywordflow">while</span> (i--) {</div>
<div class="line"><span class="lineno"> 1258</span>            dst[i] = mulaw_lut[src[i]];</div>
<div class="line"><span class="lineno"> 1259</span>        }</div>
<div class="line"><span class="lineno"> 1260</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1261</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno"> 1262</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 1263</span>        <span class="keywordflow">while</span> (i--) {</div>
<div class="line"><span class="lineno"> 1264</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> <a class="code hl_function" href="../../d8/d2c/SDL__guid_8c.html#a2412d1f2ff46728ae73e0ed8bb23677f">nibble</a> = src[i];</div>
<div class="line"><span class="lineno"> 1265</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> exponent = (<a class="code hl_function" href="../../d8/d2c/SDL__guid_8c.html#a2412d1f2ff46728ae73e0ed8bb23677f">nibble</a> &amp; 0x7f) ^ 0x55;</div>
<div class="line"><span class="lineno"> 1266</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> mantissa = exponent &amp; 0xf;</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>            exponent &gt;&gt;= 4;</div>
<div class="line"><span class="lineno"> 1269</span>            <span class="keywordflow">if</span> (exponent &gt; 0) {</div>
<div class="line"><span class="lineno"> 1270</span>                mantissa |= 0x10;</div>
<div class="line"><span class="lineno"> 1271</span>            }</div>
<div class="line"><span class="lineno"> 1272</span>            mantissa = (mantissa &lt;&lt; 4) | 0x8;</div>
<div class="line"><span class="lineno"> 1273</span>            <span class="keywordflow">if</span> (exponent &gt; 1) {</div>
<div class="line"><span class="lineno"> 1274</span>                mantissa &lt;&lt;= exponent - 1;</div>
<div class="line"><span class="lineno"> 1275</span>            }</div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>            dst[i] = <a class="code hl_function" href="../../d8/d2c/SDL__guid_8c.html#a2412d1f2ff46728ae73e0ed8bb23677f">nibble</a> &amp; 0x80 ? mantissa : -mantissa;</div>
<div class="line"><span class="lineno"> 1278</span>        }</div>
<div class="line"><span class="lineno"> 1279</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1280</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 1281</span>        <span class="keywordflow">while</span> (i--) {</div>
<div class="line"><span class="lineno"> 1282</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> <a class="code hl_function" href="../../d8/d2c/SDL__guid_8c.html#a2412d1f2ff46728ae73e0ed8bb23677f">nibble</a> = ~src[i];</div>
<div class="line"><span class="lineno"> 1283</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> mantissa = <a class="code hl_function" href="../../d8/d2c/SDL__guid_8c.html#a2412d1f2ff46728ae73e0ed8bb23677f">nibble</a> &amp; 0xf;</div>
<div class="line"><span class="lineno"> 1284</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> exponent = (<a class="code hl_function" href="../../d8/d2c/SDL__guid_8c.html#a2412d1f2ff46728ae73e0ed8bb23677f">nibble</a> &gt;&gt; 4) &amp; 0x7;</div>
<div class="line"><span class="lineno"> 1285</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> step = 4 &lt;&lt; (exponent + 1);</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>            mantissa = (0x80 &lt;&lt; exponent) + step * mantissa + step / 2 - 132;</div>
<div class="line"><span class="lineno"> 1288</span> </div>
<div class="line"><span class="lineno"> 1289</span>            dst[i] = <a class="code hl_function" href="../../d8/d2c/SDL__guid_8c.html#a2412d1f2ff46728ae73e0ed8bb23677f">nibble</a> &amp; 0x80 ? -mantissa : mantissa;</div>
<div class="line"><span class="lineno"> 1290</span>        }</div>
<div class="line"><span class="lineno"> 1291</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1292</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1293</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1294</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(src);</div>
<div class="line"><span class="lineno"> 1295</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unknown companded encoding&quot;</span>);</div>
<div class="line"><span class="lineno"> 1296</span>    }</div>
<div class="line"><span class="lineno"> 1297</span> </div>
<div class="line"><span class="lineno"> 1298</span>    *audio_buf = src;</div>
<div class="line"><span class="lineno"> 1299</span>    *audio_len = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)expanded_len;</div>
<div class="line"><span class="lineno"> 1300</span> </div>
<div class="line"><span class="lineno"> 1301</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1302</span>}</div>
<div class="ttc" id="aSDL__guid_8c_html_a2412d1f2ff46728ae73e0ed8bb23677f"><div class="ttname"><a href="../../d8/d2c/SDL__guid_8c.html#a2412d1f2ff46728ae73e0ed8bb23677f">nibble</a></div><div class="ttdeci">static unsigned char nibble(unsigned char c)</div><div class="ttdef"><b>Definition</b> SDL_guid.c:49</div></div>
<div class="ttc" id="aSDL__malloc_8c_html_a85652d5d4d7f0010772e5276fd9f3516"><div class="ttname"><a href="../../d4/d23/SDL__malloc_8c.html#a85652d5d4d7f0010772e5276fd9f3516">SDL_realloc</a></div><div class="ttdeci">void * SDL_realloc(void *ptr, size_t size)</div><div class="ttdef"><b>Definition</b> SDL_malloc.c:6481</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a2c7f1d6de8b83f8b7693cf4ede7b0d55"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a></div><div class="ttdeci">#define ALAW_CODE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:42</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a6b0e56c60f62a3f3bf39cf3f4a20e4ff"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a></div><div class="ttdeci">#define MULAW_CODE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:43</div></div>
<div class="ttc" id="astructWaveFormat_html_a567694f796fc0206cf43f018e0dc1c97"><div class="ttname"><a href="../../de/dd8/structWaveFormat.html#a567694f796fc0206cf43f018e0dc1c97">WaveFormat::encoding</a></div><div class="ttdeci">Uint16 encoding</div><div class="ttdef"><b>Definition</b> SDL_wave.h:53</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a>, <a class="el" href="../../de/dd8/structWaveFormat.html#a567694f796fc0206cf43f018e0dc1c97">WaveFormat::encoding</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">WaveChunk::length</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>, <a class="el" href="../../d8/d2c/SDL__guid_8c.html#a2412d1f2ff46728ae73e0ed8bb23677f">nibble()</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult()</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">WaveFile::sampleframes</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a>, <a class="el" href="../../d4/d23/SDL__malloc_8c.html#a85652d5d4d7f0010772e5276fd9f3516">SDL_realloc()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>, <a class="el" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>, and <a class="el" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a95aa579d5b34ccc02a3e174550f9f13d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a95aa579d5b34ccc02a3e174550f9f13d_icgraph.svg" width="583" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a973182ff75a3c798d1e8d33a5230c44d" name="a973182ff75a3c798d1e8d33a5230c44d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a973182ff75a3c798d1e8d33a5230c44d">&#9670;&#160;</a></span>LAW_Init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> LAW_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>datalength</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1135</span>{</div>
<div class="line"><span class="lineno"> 1136</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>    <span class="comment">// Standards Update requires this to be 8.</span></div>
<div class="line"><span class="lineno"> 1139</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample != 8) {</div>
<div class="line"><span class="lineno"> 1140</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid companded bits per sample of %u&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample);</div>
<div class="line"><span class="lineno"> 1141</span>    }</div>
<div class="line"><span class="lineno"> 1142</span> </div>
<div class="line"><span class="lineno"> 1143</span>    <span class="comment">// Not going to bother with weird padding.</span></div>
<div class="line"><span class="lineno"> 1144</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign != <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels) {</div>
<div class="line"><span class="lineno"> 1145</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unsupported block alignment&quot;</span>);</div>
<div class="line"><span class="lineno"> 1146</span>    }</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>    <span class="keywordflow">if</span> ((file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>)) {</div>
<div class="line"><span class="lineno"> 1149</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign &gt; 1 &amp;&amp; datalength % <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign) {</div>
<div class="line"><span class="lineno"> 1150</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Truncated data chunk in WAVE file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1151</span>        }</div>
<div class="line"><span class="lineno"> 1152</span>    }</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>    file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> = <a class="code hl_function" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue</a>(file, datalength / <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign);</div>
<div class="line"><span class="lineno"> 1155</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1156</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1157</span>    }</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1160</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">WaveFile::sampleframes</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">WaveFile::trunchint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>, and <a class="el" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a7ccff187951fea33da0b5a17e2786a44">WaveCheckFormat()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a973182ff75a3c798d1e8d33a5230c44d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a973182ff75a3c798d1e8d33a5230c44d_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="adde56761a56d946bde5ff72747b51780" name="adde56761a56d946bde5ff72747b51780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adde56761a56d946bde5ff72747b51780">&#9670;&#160;</a></span>MS_ADPCM_CalculateSampleFrames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> MS_ADPCM_CalculateSampleFrames </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>datalength</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  338</span>{</div>
<div class="line"><span class="lineno">  339</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno">  340</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockheadersize = (size_t)file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#a13c0bdbb32a4bfe1a2d28b40e474f385">channels</a> * 7;</div>
<div class="line"><span class="lineno">  341</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> availableblocks = datalength / file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#af26d82b3f68df2f803fdca2a8db2faa0">blockalign</a>;</div>
<div class="line"><span class="lineno">  342</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockframebitsize = (size_t)file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#a5e1629d15a5bd6684be4018c6aab5a3a">bitspersample</a> * file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#a13c0bdbb32a4bfe1a2d28b40e474f385">channels</a>;</div>
<div class="line"><span class="lineno">  343</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> trailingdata = datalength % file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#af26d82b3f68df2f803fdca2a8db2faa0">blockalign</a>;</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>) {</div>
<div class="line"><span class="lineno">  346</span>        <span class="comment">// The size of the data chunk must be a multiple of the block size.</span></div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordflow">if</span> (datalength &lt; blockheadersize || trailingdata &gt; 0) {</div>
<div class="line"><span class="lineno">  348</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Truncated MS ADPCM block&quot;</span>);</div>
<div class="line"><span class="lineno">  349</span>        }</div>
<div class="line"><span class="lineno">  350</span>    }</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    <span class="comment">// Calculate number of sample frames that will be decoded.</span></div>
<div class="line"><span class="lineno">  353</span>    file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a>)availableblocks * <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock;</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">if</span> (trailingdata &gt; 0) {</div>
<div class="line"><span class="lineno">  355</span>        <span class="comment">// The last block is truncated. Check if we can get any samples out of it.</span></div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a>) {</div>
<div class="line"><span class="lineno">  357</span>            <span class="comment">// Drop incomplete sample frame.</span></div>
<div class="line"><span class="lineno">  358</span>            <span class="keywordflow">if</span> (trailingdata &gt;= blockheadersize) {</div>
<div class="line"><span class="lineno">  359</span>                <span class="keywordtype">size_t</span> trailingsamples = 2 + (trailingdata - blockheadersize) * 8 / blockframebitsize;</div>
<div class="line"><span class="lineno">  360</span>                <span class="keywordflow">if</span> (trailingsamples &gt; <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock) {</div>
<div class="line"><span class="lineno">  361</span>                    trailingsamples = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock;</div>
<div class="line"><span class="lineno">  362</span>                }</div>
<div class="line"><span class="lineno">  363</span>                file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> += trailingsamples;</div>
<div class="line"><span class="lineno">  364</span>            }</div>
<div class="line"><span class="lineno">  365</span>        }</div>
<div class="line"><span class="lineno">  366</span>    }</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>    file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> = <a class="code hl_function" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue</a>(file, file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a>);</div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> &lt; 0) {</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  371</span>    }</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  374</span>}</div>
<div class="ttc" id="astructWaveFormat_html_a5e1629d15a5bd6684be4018c6aab5a3a"><div class="ttname"><a href="../../de/dd8/structWaveFormat.html#a5e1629d15a5bd6684be4018c6aab5a3a">WaveFormat::bitspersample</a></div><div class="ttdeci">Uint16 bitspersample</div><div class="ttdef"><b>Definition</b> SDL_wave.h:58</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../de/dd8/structWaveFormat.html#a5e1629d15a5bd6684be4018c6aab5a3a">WaveFormat::bitspersample</a>, <a class="el" href="../../de/dd8/structWaveFormat.html#af26d82b3f68df2f803fdca2a8db2faa0">WaveFormat::blockalign</a>, <a class="el" href="../../de/dd8/structWaveFormat.html#a13c0bdbb32a4bfe1a2d28b40e474f385">WaveFormat::channels</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">WaveFile::sampleframes</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">WaveFile::trunchint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>, and <a class="el" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#abed04a09158704527cace31d0e71a2b0">MS_ADPCM_Decode()</a>, and <a class="el" href="#ac4e4fb8695733d5703b81f918b8e85f9">MS_ADPCM_Init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_adde56761a56d946bde5ff72747b51780_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_adde56761a56d946bde5ff72747b51780_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="abed04a09158704527cace31d0e71a2b0" name="abed04a09158704527cace31d0e71a2b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed04a09158704527cace31d0e71a2b0">&#9670;&#160;</a></span>MS_ADPCM_Decode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> MS_ADPCM_Decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **</td>          <td class="paramname"><span class="paramname"><em>audio_buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *</td>          <td class="paramname"><span class="paramname"><em>audio_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  638</span>{</div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordtype">bool</span> result;</div>
<div class="line"><span class="lineno">  640</span>    <span class="keywordtype">size_t</span> bytesleft, outputsize;</div>
<div class="line"><span class="lineno">  641</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>;</div>
<div class="line"><span class="lineno">  642</span>    <a class="code hl_struct" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a> state;</div>
<div class="line"><span class="lineno">  643</span>    <a class="code hl_struct" href="../../d3/dad/structMS__ADPCM__ChannelState.html">MS_ADPCM_ChannelState</a> cstate[2];</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(state);</div>
<div class="line"><span class="lineno">  646</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1edc08d14c13f587b33d9e482035e3af">SDL_zeroa</a>(cstate);</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>    <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> != chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>) {</div>
<div class="line"><span class="lineno">  649</span>        <span class="comment">// Could not read everything. Recalculate number of sample frames.</span></div>
<div class="line"><span class="lineno">  650</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#adde56761a56d946bde5ff72747b51780">MS_ADPCM_CalculateSampleFrames</a>(file, chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a>)) {</div>
<div class="line"><span class="lineno">  651</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  652</span>        }</div>
<div class="line"><span class="lineno">  653</span>    }</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>    <span class="comment">// Nothing to decode, nothing to return.</span></div>
<div class="line"><span class="lineno">  656</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> == 0) {</div>
<div class="line"><span class="lineno">  657</span>        *audio_buf = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  658</span>        *audio_len = 0;</div>
<div class="line"><span class="lineno">  659</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  660</span>    }</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a5af7794152d4edb5850fc97bc37d2fc2">blocksize</a> = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#af26d82b3f68df2f803fdca2a8db2faa0">blockalign</a>;</div>
<div class="line"><span class="lineno">  663</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a> = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#a13c0bdbb32a4bfe1a2d28b40e474f385">channels</a>;</div>
<div class="line"><span class="lineno">  664</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">blockheadersize</a> = (size_t)state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a> * 7;</div>
<div class="line"><span class="lineno">  665</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">samplesperblock</a> = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>.<a class="code hl_variable" href="../../de/dd8/structWaveFormat.html#a0b1013c5bb60444481625c739b76f16d">samplesperblock</a>;</div>
<div class="line"><span class="lineno">  666</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#ab72628b79bc32c3c636697d1b221f1fe">framesize</a> = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a> * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>);</div>
<div class="line"><span class="lineno">  667</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a22e9ef53ad961b524a4fb91b8f690764">ddata</a> = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a7396f6953d8625788f67b7ecd93a7520">decoderdata</a>;</div>
<div class="line"><span class="lineno">  668</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">framestotal</a> = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a>;</div>
<div class="line"><span class="lineno">  669</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a> = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">framestotal</a>;</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a> = chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a>;</div>
<div class="line"><span class="lineno">  672</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> = chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a>;</div>
<div class="line"><span class="lineno">  673</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> = 0;</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>    <span class="comment">// The output size in bytes. May get modified if data is truncated.</span></div>
<div class="line"><span class="lineno">  676</span>    outputsize = (size_t)state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">framestotal</a>;</div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult</a>(&amp;outputsize, state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#ab72628b79bc32c3c636697d1b221f1fe">framesize</a>)) {</div>
<div class="line"><span class="lineno">  678</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno">  679</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (outputsize &gt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a> || state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">framestotal</a> &gt; <a class="code hl_define" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>) {</div>
<div class="line"><span class="lineno">  680</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno">  681</span>    }</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> = 0;</div>
<div class="line"><span class="lineno">  684</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> = outputsize / <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>);</div>
<div class="line"><span class="lineno">  685</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a> = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> *)<a class="code hl_function" href="../../d4/d23/SDL__malloc_8c.html#a7bfedc95facf166f557059a2d98714d0">SDL_calloc</a>(1, outputsize);</div>
<div class="line"><span class="lineno">  686</span>    <span class="keywordflow">if</span> (!state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>) {</div>
<div class="line"><span class="lineno">  687</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  688</span>    }</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>    state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">cstate</a> = cstate;</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>    <span class="comment">// Decode block by block. A truncated block will stop the decoding.</span></div>
<div class="line"><span class="lineno">  693</span>    bytesleft = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> - state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>;</div>
<div class="line"><span class="lineno">  694</span>    <span class="keywordflow">while</span> (state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a> &gt; 0 &amp;&amp; bytesleft &gt;= state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">blockheadersize</a>) {</div>
<div class="line"><span class="lineno">  695</span>        state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a> = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a> + state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>;</div>
<div class="line"><span class="lineno">  696</span>        state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> = bytesleft &lt; state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a5af7794152d4edb5850fc97bc37d2fc2">blocksize</a> ? bytesleft : state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a5af7794152d4edb5850fc97bc37d2fc2">blocksize</a>;</div>
<div class="line"><span class="lineno">  697</span>        state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> = 0;</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>        <span class="keywordflow">if</span> (state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> - state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> &lt; (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>)state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a> * state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a>) {</div>
<div class="line"><span class="lineno">  700</span>            <span class="comment">// Somehow didn&#39;t allocate enough space for the output.</span></div>
<div class="line"><span class="lineno">  701</span>            <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>);</div>
<div class="line"><span class="lineno">  702</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unexpected overflow in MS ADPCM decoder&quot;</span>);</div>
<div class="line"><span class="lineno">  703</span>        }</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>        <span class="comment">// Initialize decoder with the values from the block header.</span></div>
<div class="line"><span class="lineno">  706</span>        result = <a class="code hl_function" href="#adaf81ea720c35eb6368d169660d47907">MS_ADPCM_DecodeBlockHeader</a>(&amp;state);</div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  708</span>            <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>);</div>
<div class="line"><span class="lineno">  709</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  710</span>        }</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>        <span class="comment">// Decode the block data. It stores the samples directly in the output.</span></div>
<div class="line"><span class="lineno">  713</span>        result = <a class="code hl_function" href="#ace29428b2a53bc1c32acda9b8c6f4a86">MS_ADPCM_DecodeBlockData</a>(&amp;state);</div>
<div class="line"><span class="lineno">  714</span>        <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno">  715</span>            <span class="comment">// Unexpected end. Stop decoding and return partial data if necessary.</span></div>
<div class="line"><span class="lineno">  716</span>            <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>) {</div>
<div class="line"><span class="lineno">  717</span>                <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>);</div>
<div class="line"><span class="lineno">  718</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Truncated data chunk&quot;</span>);</div>
<div class="line"><span class="lineno">  719</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> != <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a>) {</div>
<div class="line"><span class="lineno">  720</span>                state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> -= state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> % (state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">samplesperblock</a> * state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a>);</div>
<div class="line"><span class="lineno">  721</span>            }</div>
<div class="line"><span class="lineno">  722</span>            outputsize = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> * <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>); <span class="comment">// Can&#39;t overflow, is always smaller.</span></div>
<div class="line"><span class="lineno">  723</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  724</span>        }</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>        state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> += state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a>;</div>
<div class="line"><span class="lineno">  727</span>        bytesleft = state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a> - state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">input</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>;</div>
<div class="line"><span class="lineno">  728</span>    }</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>    *audio_buf = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)state.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>;</div>
<div class="line"><span class="lineno">  731</span>    *audio_len = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)outputsize;</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  734</span>}</div>
<div class="ttc" id="aSDL__stdinc_8h_html_a1edc08d14c13f587b33d9e482035e3af"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a1edc08d14c13f587b33d9e482035e3af">SDL_zeroa</a></div><div class="ttdeci">#define SDL_zeroa(x)</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:2645</div></div>
<div class="ttc" id="aSDL__wave_8c_html_ace29428b2a53bc1c32acda9b8c6f4a86"><div class="ttname"><a href="#ace29428b2a53bc1c32acda9b8c6f4a86">MS_ADPCM_DecodeBlockData</a></div><div class="ttdeci">static bool MS_ADPCM_DecodeBlockData(ADPCM_DecoderState *state)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:590</div></div>
<div class="ttc" id="aSDL__wave_8c_html_adaf81ea720c35eb6368d169660d47907"><div class="ttname"><a href="#adaf81ea720c35eb6368d169660d47907">MS_ADPCM_DecodeBlockHeader</a></div><div class="ttdeci">static bool MS_ADPCM_DecodeBlockHeader(ADPCM_DecoderState *state)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:530</div></div>
<div class="ttc" id="aSDL__wave_8c_html_adde56761a56d946bde5ff72747b51780"><div class="ttname"><a href="#adde56761a56d946bde5ff72747b51780">MS_ADPCM_CalculateSampleFrames</a></div><div class="ttdeci">static bool MS_ADPCM_CalculateSampleFrames(WaveFile *file, size_t datalength)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:337</div></div>
<div class="ttc" id="astructADPCM__DecoderState_html_a22e9ef53ad961b524a4fb91b8f690764"><div class="ttname"><a href="../../db/d46/structADPCM__DecoderState.html#a22e9ef53ad961b524a4fb91b8f690764">ADPCM_DecoderState::ddata</a></div><div class="ttdeci">void * ddata</div><div class="ttdef"><b>Definition</b> SDL_wave.c:62</div></div>
<div class="ttc" id="astructMS__ADPCM__ChannelState_html"><div class="ttname"><a href="../../d3/dad/structMS__ADPCM__ChannelState.html">MS_ADPCM_ChannelState</a></div><div class="ttdef"><b>Definition</b> SDL_wave.c:98</div></div>
<div class="ttc" id="astructWaveFile_html_a7396f6953d8625788f67b7ecd93a7520"><div class="ttname"><a href="../../d9/ddf/structWaveFile.html#a7396f6953d8625788f67b7ecd93a7520">WaveFile::decoderdata</a></div><div class="ttdeci">void * decoderdata</div><div class="ttdef"><b>Definition</b> SDL_wave.h:146</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">ADPCM_DecoderState::block</a>, <a class="el" href="../../de/dd8/structWaveFormat.html#af26d82b3f68df2f803fdca2a8db2faa0">WaveFormat::blockalign</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">ADPCM_DecoderState::blockheadersize</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a5af7794152d4edb5850fc97bc37d2fc2">ADPCM_DecoderState::blocksize</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">ADPCM_DecoderState::channels</a>, <a class="el" href="../../de/dd8/structWaveFormat.html#a13c0bdbb32a4bfe1a2d28b40e474f385">WaveFormat::channels</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">ADPCM_DecoderState::cstate</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">ADPCM_DecoderState::data</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a22e9ef53ad961b524a4fb91b8f690764">ADPCM_DecoderState::ddata</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a7396f6953d8625788f67b7ecd93a7520">WaveFile::decoderdata</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#ab72628b79bc32c3c636697d1b221f1fe">ADPCM_DecoderState::framesize</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">ADPCM_DecoderState::framesleft</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a173503c682c3c325a4aceaff886f9d58">ADPCM_DecoderState::framestotal</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a3607f043a45259a7ce5f6839387f59bb">ADPCM_DecoderState::input</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">WaveChunk::length</a>, <a class="el" href="#adde56761a56d946bde5ff72747b51780">MS_ADPCM_CalculateSampleFrames()</a>, <a class="el" href="#ace29428b2a53bc1c32acda9b8c6f4a86">MS_ADPCM_DecodeBlockData()</a>, <a class="el" href="#adaf81ea720c35eb6368d169660d47907">MS_ADPCM_DecodeBlockHeader()</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">ADPCM_DecoderState::output</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">ADPCM_DecoderState::pos</a>, <a class="el" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult()</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">WaveFile::sampleframes</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">ADPCM_DecoderState::samplesperblock</a>, <a class="el" href="../../de/dd8/structWaveFormat.html#a0b1013c5bb60444481625c739b76f16d">WaveFormat::samplesperblock</a>, <a class="el" href="../../d4/d23/SDL__malloc_8c.html#a7bfedc95facf166f557059a2d98714d0">SDL_calloc()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a1edc08d14c13f587b33d9e482035e3af">SDL_zeroa</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">ADPCM_DecoderState::size</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>, <a class="el" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">WaveFile::trunchint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>, and <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_abed04a09158704527cace31d0e71a2b0_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_abed04a09158704527cace31d0e71a2b0_icgraph.svg" width="631" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ace29428b2a53bc1c32acda9b8c6f4a86" name="ace29428b2a53bc1c32acda9b8c6f4a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace29428b2a53bc1c32acda9b8c6f4a86">&#9670;&#160;</a></span>MS_ADPCM_DecodeBlockData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> MS_ADPCM_DecodeBlockData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a> *</td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  591</span>{</div>
<div class="line"><span class="lineno">  592</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> nybble = 0;</div>
<div class="line"><span class="lineno">  593</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> sample1, sample2;</div>
<div class="line"><span class="lineno">  594</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> channels = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a>;</div>
<div class="line"><span class="lineno">  595</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> c;</div>
<div class="line"><span class="lineno">  596</span>    <a class="code hl_struct" href="../../d3/dad/structMS__ADPCM__ChannelState.html">MS_ADPCM_ChannelState</a> *cstate = (<a class="code hl_struct" href="../../d3/dad/structMS__ADPCM__ChannelState.html">MS_ADPCM_ChannelState</a> *)state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">cstate</a>;</div>
<div class="line"><span class="lineno">  597</span> </div>
<div class="line"><span class="lineno">  598</span>    <span class="keywordtype">size_t</span> blockpos = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>;</div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordtype">size_t</span> blocksize = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">size</a>;</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordtype">size_t</span> outpos = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>;</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a> blockframesleft = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">samplesperblock</a> - 2;</div>
<div class="line"><span class="lineno">  604</span>    <span class="keywordflow">if</span> (blockframesleft &gt; state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a>) {</div>
<div class="line"><span class="lineno">  605</span>        blockframesleft = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a>;</div>
<div class="line"><span class="lineno">  606</span>    }</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">while</span> (blockframesleft &gt; 0) {</div>
<div class="line"><span class="lineno">  609</span>        <span class="keywordflow">for</span> (c = 0; c &lt; channels; c++) {</div>
<div class="line"><span class="lineno">  610</span>            <span class="keywordflow">if</span> (nybble &amp; 0x4000) {</div>
<div class="line"><span class="lineno">  611</span>                nybble &lt;&lt;= 4;</div>
<div class="line"><span class="lineno">  612</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (blockpos &lt; blocksize) {</div>
<div class="line"><span class="lineno">  613</span>                nybble = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[blockpos++] | 0x4000;</div>
<div class="line"><span class="lineno">  614</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  615</span>                <span class="comment">// Out of input data. Drop the incomplete frame and return.</span></div>
<div class="line"><span class="lineno">  616</span>                state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> = outpos - c;</div>
<div class="line"><span class="lineno">  617</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  618</span>            }</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>            <span class="comment">// Load previous samples which may come from the block header.</span></div>
<div class="line"><span class="lineno">  621</span>            sample1 = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[outpos - channels];</div>
<div class="line"><span class="lineno">  622</span>            sample2 = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[outpos - channels * 2];</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>            sample1 = <a class="code hl_function" href="#aae1c9808589c646335ecbbfc926f5f6c">MS_ADPCM_ProcessNibble</a>(cstate + c, sample1, sample2, (nybble &gt;&gt; 4) &amp; 0x0f);</div>
<div class="line"><span class="lineno">  625</span>            state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[outpos++] = sample1;</div>
<div class="line"><span class="lineno">  626</span>        }</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>        state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a>--;</div>
<div class="line"><span class="lineno">  629</span>        blockframesleft--;</div>
<div class="line"><span class="lineno">  630</span>    }</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>    state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> = outpos;</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  635</span>}</div>
<div class="ttc" id="aSDL__wave_8c_html_aae1c9808589c646335ecbbfc926f5f6c"><div class="ttname"><a href="#aae1c9808589c646335ecbbfc926f5f6c">MS_ADPCM_ProcessNibble</a></div><div class="ttdeci">static Sint16 MS_ADPCM_ProcessNibble(MS_ADPCM_ChannelState *cstate, Sint32 sample1, Sint32 sample2, Uint8 nybble)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:494</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">ADPCM_DecoderState::block</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">ADPCM_DecoderState::channels</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">ADPCM_DecoderState::cstate</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">ADPCM_DecoderState::data</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">ADPCM_DecoderState::framesleft</a>, <a class="el" href="#aae1c9808589c646335ecbbfc926f5f6c">MS_ADPCM_ProcessNibble()</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">ADPCM_DecoderState::output</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">ADPCM_DecoderState::pos</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a7289eca88f7473cd7d6f8f92891919d2">ADPCM_DecoderState::samplesperblock</a>, and <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a62342f3c5331a9fcddea11dc40e28588">ADPCM_DecoderState::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#abed04a09158704527cace31d0e71a2b0">MS_ADPCM_Decode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_ace29428b2a53bc1c32acda9b8c6f4a86_cgraph.svg" width="459" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_ace29428b2a53bc1c32acda9b8c6f4a86_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="adaf81ea720c35eb6368d169660d47907" name="adaf81ea720c35eb6368d169660d47907"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaf81ea720c35eb6368d169660d47907">&#9670;&#160;</a></span>MS_ADPCM_DecodeBlockHeader()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> MS_ADPCM_DecodeBlockHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d46/structADPCM__DecoderState.html">ADPCM_DecoderState</a> *</td>          <td class="paramname"><span class="paramname"><em>state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  531</span>{</div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> coeffindex;</div>
<div class="line"><span class="lineno">  533</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> channels = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a>;</div>
<div class="line"><span class="lineno">  534</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> sample;</div>
<div class="line"><span class="lineno">  535</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> c;</div>
<div class="line"><span class="lineno">  536</span>    <a class="code hl_struct" href="../../d3/dad/structMS__ADPCM__ChannelState.html">MS_ADPCM_ChannelState</a> *cstate = (<a class="code hl_struct" href="../../d3/dad/structMS__ADPCM__ChannelState.html">MS_ADPCM_ChannelState</a> *)state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">cstate</a>;</div>
<div class="line"><span class="lineno">  537</span>    <a class="code hl_struct" href="../../d1/d80/structMS__ADPCM__CoeffData.html">MS_ADPCM_CoeffData</a> *ddata = (<a class="code hl_struct" href="../../d1/d80/structMS__ADPCM__CoeffData.html">MS_ADPCM_CoeffData</a> *)state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a22e9ef53ad961b524a4fb91b8f690764">ddata</a>;</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">for</span> (c = 0; c &lt; channels; c++) {</div>
<div class="line"><span class="lineno">  540</span>        <span class="keywordtype">size_t</span> o = c;</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>        <span class="comment">// Load the coefficient pair into the channel state.</span></div>
<div class="line"><span class="lineno">  543</span>        coeffindex = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o];</div>
<div class="line"><span class="lineno">  544</span>        <span class="keywordflow">if</span> (coeffindex &gt; ddata-&gt;<a class="code hl_variable" href="../../d1/d80/structMS__ADPCM__CoeffData.html#aec134d224e50f9dd66ebfbad5e250b81">coeffcount</a>) {</div>
<div class="line"><span class="lineno">  545</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid MS ADPCM coefficient index in block header&quot;</span>);</div>
<div class="line"><span class="lineno">  546</span>        }</div>
<div class="line"><span class="lineno">  547</span>        cstate[c].coeff1 = ddata-&gt;<a class="code hl_variable" href="../../d1/d80/structMS__ADPCM__CoeffData.html#a36b1b42f9a7266bae6f77b1a30d74871">coeff</a>[coeffindex * 2];</div>
<div class="line"><span class="lineno">  548</span>        cstate[c].coeff2 = ddata-&gt;<a class="code hl_variable" href="../../d1/d80/structMS__ADPCM__CoeffData.html#a36b1b42f9a7266bae6f77b1a30d74871">coeff</a>[coeffindex * 2 + 1];</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>        <span class="comment">// Initial delta value.</span></div>
<div class="line"><span class="lineno">  551</span>        o = (size_t)channels + c * 2;</div>
<div class="line"><span class="lineno">  552</span>        cstate[c].delta = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o] | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a>)state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o + 1] &lt;&lt; 8);</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>        <span class="comment">/* Load the samples from the header. Interestingly, the sample later in</span></div>
<div class="line"><span class="lineno">  555</span><span class="comment">         * the output stream comes first.</span></div>
<div class="line"><span class="lineno">  556</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  557</span>        o = (size_t)channels * 3 + c * 2;</div>
<div class="line"><span class="lineno">  558</span>        sample = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o] | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a>)state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o + 1] &lt;&lt; 8);</div>
<div class="line"><span class="lineno">  559</span>        <span class="keywordflow">if</span> (sample &gt;= 0x8000) {</div>
<div class="line"><span class="lineno">  560</span>            sample -= 0x10000;</div>
<div class="line"><span class="lineno">  561</span>        }</div>
<div class="line"><span class="lineno">  562</span>        state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> + channels] = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>)sample;</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>        o = (size_t)channels * 5 + c * 2;</div>
<div class="line"><span class="lineno">  565</span>        sample = state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o] | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a>)state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[o + 1] &lt;&lt; 8);</div>
<div class="line"><span class="lineno">  566</span>        <span class="keywordflow">if</span> (sample &gt;= 0x8000) {</div>
<div class="line"><span class="lineno">  567</span>            sample -= 0x10000;</div>
<div class="line"><span class="lineno">  568</span>        }</div>
<div class="line"><span class="lineno">  569</span>        state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">data</a>[state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>] = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>)sample;</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>        state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a>++;</div>
<div class="line"><span class="lineno">  572</span>    }</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>    state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">block</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> += state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">blockheadersize</a>;</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>    <span class="comment">// Skip second sample frame that came from the header.</span></div>
<div class="line"><span class="lineno">  577</span>    state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">output</a>.<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">pos</a> += state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">channels</a>;</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>    <span class="comment">// Header provided two sample frames.</span></div>
<div class="line"><span class="lineno">  580</span>    state-&gt;<a class="code hl_variable" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">framesleft</a> -= 2;</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  583</span>}</div>
<div class="ttc" id="astructMS__ADPCM__CoeffData_html"><div class="ttname"><a href="../../d1/d80/structMS__ADPCM__CoeffData.html">MS_ADPCM_CoeffData</a></div><div class="ttdef"><b>Definition</b> SDL_wave.c:91</div></div>
<div class="ttc" id="astructMS__ADPCM__CoeffData_html_a36b1b42f9a7266bae6f77b1a30d74871"><div class="ttname"><a href="../../d1/d80/structMS__ADPCM__CoeffData.html#a36b1b42f9a7266bae6f77b1a30d74871">MS_ADPCM_CoeffData::coeff</a></div><div class="ttdeci">Sint16 * coeff</div><div class="ttdef"><b>Definition</b> SDL_wave.c:93</div></div>
<div class="ttc" id="astructMS__ADPCM__CoeffData_html_aec134d224e50f9dd66ebfbad5e250b81"><div class="ttname"><a href="../../d1/d80/structMS__ADPCM__CoeffData.html#aec134d224e50f9dd66ebfbad5e250b81">MS_ADPCM_CoeffData::coeffcount</a></div><div class="ttdeci">Uint16 coeffcount</div><div class="ttdef"><b>Definition</b> SDL_wave.c:92</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a2b56223bde316c82c33512a1de2587c0">ADPCM_DecoderState::block</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a1cf040593ba4d4d5c69f88a975e49c7c">ADPCM_DecoderState::blockheadersize</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a213d9b4c8ceafb8d6e9dc56726793bcb">ADPCM_DecoderState::channels</a>, <a class="el" href="../../d1/d80/structMS__ADPCM__CoeffData.html#a36b1b42f9a7266bae6f77b1a30d74871">MS_ADPCM_CoeffData::coeff</a>, <a class="el" href="../../d3/dad/structMS__ADPCM__ChannelState.html#affcefda2b365f7f88e0ab2359df37a87">MS_ADPCM_ChannelState::coeff1</a>, <a class="el" href="../../d3/dad/structMS__ADPCM__ChannelState.html#a6a250a2e2a67061889bb78e12806e374">MS_ADPCM_ChannelState::coeff2</a>, <a class="el" href="../../d1/d80/structMS__ADPCM__CoeffData.html#aec134d224e50f9dd66ebfbad5e250b81">MS_ADPCM_CoeffData::coeffcount</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#ab21c065aededca8ca9af176b4aa6ad8b">ADPCM_DecoderState::cstate</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a020d39b129be9860e8ce4b87a46b6b34">ADPCM_DecoderState::data</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a22e9ef53ad961b524a4fb91b8f690764">ADPCM_DecoderState::ddata</a>, <a class="el" href="../../d3/dad/structMS__ADPCM__ChannelState.html#a1bd612e0dec8bcb02dfb549a15c2d1c1">MS_ADPCM_ChannelState::delta</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a538ce00577dbc624f4e45089af12441a">ADPCM_DecoderState::framesleft</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#adf5c2ae1994605ab6d0d759f84bc74d3">ADPCM_DecoderState::output</a>, <a class="el" href="../../db/d46/structADPCM__DecoderState.html#a01c89c58effc8ead5e4aed961a576b9c">ADPCM_DecoderState::pos</a>, and <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#abed04a09158704527cace31d0e71a2b0">MS_ADPCM_Decode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_adaf81ea720c35eb6368d169660d47907_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_adaf81ea720c35eb6368d169660d47907_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="ac4e4fb8695733d5703b81f918b8e85f9" name="ac4e4fb8695733d5703b81f918b8e85f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4e4fb8695733d5703b81f918b8e85f9">&#9670;&#160;</a></span>MS_ADPCM_Init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> MS_ADPCM_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>datalength</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  377</span>{</div>
<div class="line"><span class="lineno">  378</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno">  379</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>;</div>
<div class="line"><span class="lineno">  380</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockheadersize = (size_t)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels * 7;</div>
<div class="line"><span class="lineno">  381</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockdatasize = (size_t)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign - blockheadersize;</div>
<div class="line"><span class="lineno">  382</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockframebitsize = (size_t)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample * <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels;</div>
<div class="line"><span class="lineno">  383</span>    <span class="keyword">const</span> <span class="keywordtype">size_t</span> blockdatasamples = (blockdatasize * 8) / blockframebitsize;</div>
<div class="line"><span class="lineno">  384</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> presetcoeffs[14] = { 256, 0, 512, -256, 0, 0, 192, 64, 240, 0, 460, -208, 392, -232 };</div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordtype">size_t</span> i, coeffcount;</div>
<div class="line"><span class="lineno">  386</span>    <a class="code hl_struct" href="../../d1/d80/structMS__ADPCM__CoeffData.html">MS_ADPCM_CoeffData</a> *coeffdata;</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>    <span class="comment">// Sanity checks.</span></div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>    <span class="comment">/* While it&#39;s clear how IMA ADPCM handles more than two channels, the nibble</span></div>
<div class="line"><span class="lineno">  391</span><span class="comment">     * order of MS ADPCM makes it awkward. The Standards Update does not talk</span></div>
<div class="line"><span class="lineno">  392</span><span class="comment">     * about supporting more than stereo anyway.</span></div>
<div class="line"><span class="lineno">  393</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  394</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels &gt; 2) {</div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid number of channels&quot;</span>);</div>
<div class="line"><span class="lineno">  396</span>    }</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample != 4) {</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid MS ADPCM bits per sample of %u&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample);</div>
<div class="line"><span class="lineno">  400</span>    }</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <span class="comment">// The block size must be big enough to contain the block header.</span></div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign &lt; blockheadersize) {</div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid MS ADPCM block size (nBlockAlign)&quot;</span>);</div>
<div class="line"><span class="lineno">  405</span>    }</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;formattag == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aa92c66da4d85adbb169f0781c629c872">EXTENSIBLE_CODE</a>) {</div>
<div class="line"><span class="lineno">  408</span>        <span class="comment">/* Does have a GUID (like all format tags), but there&#39;s no specification</span></div>
<div class="line"><span class="lineno">  409</span><span class="comment">         * for how the data is packed into the extensible header. Making</span></div>
<div class="line"><span class="lineno">  410</span><span class="comment">         * assumptions here could lead to new formats nobody wants to support.</span></div>
<div class="line"><span class="lineno">  411</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  412</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;MS ADPCM with the extensible header is not supported&quot;</span>);</div>
<div class="line"><span class="lineno">  413</span>    }</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    <span class="comment">/* There are wSamplesPerBlock, wNumCoef, and at least 7 coefficient pairs in</span></div>
<div class="line"><span class="lineno">  416</span><span class="comment">     * the extended part of the header.</span></div>
<div class="line"><span class="lineno">  417</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  418</span>    <span class="keywordflow">if</span> (chunk-&gt;size &lt; 22) {</div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not read MS ADPCM format header&quot;</span>);</div>
<div class="line"><span class="lineno">  420</span>    }</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>    <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock = chunk-&gt;data[18] | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a>)chunk-&gt;data[19] &lt;&lt; 8);</div>
<div class="line"><span class="lineno">  423</span>    <span class="comment">// Number of coefficient pairs. A pair has two 16-bit integers.</span></div>
<div class="line"><span class="lineno">  424</span>    coeffcount = chunk-&gt;data[20] | ((size_t)chunk-&gt;data[21] &lt;&lt; 8);</div>
<div class="line"><span class="lineno">  425</span>    <span class="comment">/* bPredictor, the integer offset into the coefficients array, is only</span></div>
<div class="line"><span class="lineno">  426</span><span class="comment">     * 8 bits. It can only address the first 256 coefficients. Let&#39;s limit</span></div>
<div class="line"><span class="lineno">  427</span><span class="comment">     * the count number here.</span></div>
<div class="line"><span class="lineno">  428</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  429</span>    <span class="keywordflow">if</span> (coeffcount &gt; 256) {</div>
<div class="line"><span class="lineno">  430</span>        coeffcount = 256;</div>
<div class="line"><span class="lineno">  431</span>    }</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>    <span class="keywordflow">if</span> (chunk-&gt;size &lt; 22 + coeffcount * 4) {</div>
<div class="line"><span class="lineno">  434</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not read custom coefficients in MS ADPCM format header&quot;</span>);</div>
<div class="line"><span class="lineno">  435</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;extsize &lt; 4 + coeffcount * 4) {</div>
<div class="line"><span class="lineno">  436</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid MS ADPCM format header (too small)&quot;</span>);</div>
<div class="line"><span class="lineno">  437</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (coeffcount &lt; 7) {</div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Missing required coefficients in MS ADPCM format header&quot;</span>);</div>
<div class="line"><span class="lineno">  439</span>    }</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>    coeffdata = (<a class="code hl_struct" href="../../d1/d80/structMS__ADPCM__CoeffData.html">MS_ADPCM_CoeffData</a> *)<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc</a>(<span class="keyword">sizeof</span>(<a class="code hl_struct" href="../../d1/d80/structMS__ADPCM__CoeffData.html">MS_ADPCM_CoeffData</a>) + coeffcount * 4);</div>
<div class="line"><span class="lineno">  442</span>    file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a7396f6953d8625788f67b7ecd93a7520">decoderdata</a> = coeffdata; <span class="comment">// Freed in cleanup.</span></div>
<div class="line"><span class="lineno">  443</span>    <span class="keywordflow">if</span> (!coeffdata) {</div>
<div class="line"><span class="lineno">  444</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  445</span>    }</div>
<div class="line"><span class="lineno">  446</span>    coeffdata-&gt;<a class="code hl_variable" href="../../d1/d80/structMS__ADPCM__CoeffData.html#a36b1b42f9a7266bae6f77b1a30d74871">coeff</a> = &amp;coeffdata-&gt;<a class="code hl_variable" href="../../d1/d80/structMS__ADPCM__CoeffData.html#acea5d7ac61efa5d756cf13dfb8473c72">aligndummy</a>;</div>
<div class="line"><span class="lineno">  447</span>    coeffdata-&gt;<a class="code hl_variable" href="../../d1/d80/structMS__ADPCM__CoeffData.html#aec134d224e50f9dd66ebfbad5e250b81">coeffcount</a> = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a>)coeffcount;</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>    <span class="comment">// Copy the 16-bit pairs.</span></div>
<div class="line"><span class="lineno">  450</span>    <span class="keywordflow">for</span> (i = 0; i &lt; coeffcount * 2; i++) {</div>
<div class="line"><span class="lineno">  451</span>        <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> c = chunk-&gt;data[22 + i * 2] | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a>)chunk-&gt;data[23 + i * 2] &lt;&lt; 8);</div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">if</span> (c &gt;= 0x8000) {</div>
<div class="line"><span class="lineno">  453</span>            c -= 0x10000;</div>
<div class="line"><span class="lineno">  454</span>        }</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">if</span> (i &lt; 14 &amp;&amp; c != presetcoeffs[i]) {</div>
<div class="line"><span class="lineno">  456</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Wrong preset coefficients in MS ADPCM format header&quot;</span>);</div>
<div class="line"><span class="lineno">  457</span>        }</div>
<div class="line"><span class="lineno">  458</span>        coeffdata-&gt;<a class="code hl_variable" href="../../d1/d80/structMS__ADPCM__CoeffData.html#a36b1b42f9a7266bae6f77b1a30d74871">coeff</a>[i] = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>)c;</div>
<div class="line"><span class="lineno">  459</span>    }</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>    <span class="comment">/* Technically, wSamplesPerBlock is required, but we have all the</span></div>
<div class="line"><span class="lineno">  462</span><span class="comment">     * information in the other fields to calculate it, if it&#39;s zero.</span></div>
<div class="line"><span class="lineno">  463</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock == 0) {</div>
<div class="line"><span class="lineno">  465</span>        <span class="comment">/* Let&#39;s be nice to the encoders that didn&#39;t know how to fill this.</span></div>
<div class="line"><span class="lineno">  466</span><span class="comment">         * The Standards Update calculates it this way:</span></div>
<div class="line"><span class="lineno">  467</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">  468</span><span class="comment">         *   x = Block size (in bits) minus header size (in bits)</span></div>
<div class="line"><span class="lineno">  469</span><span class="comment">         *   y = Bit depth multiplied by channel count</span></div>
<div class="line"><span class="lineno">  470</span><span class="comment">         *   z = Number of samples per channel in block header</span></div>
<div class="line"><span class="lineno">  471</span><span class="comment">         *   wSamplesPerBlock = x / y + z</span></div>
<div class="line"><span class="lineno">  472</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  473</span>        <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)blockdatasamples + 2;</div>
<div class="line"><span class="lineno">  474</span>    }</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>    <span class="comment">/* nBlockAlign can be in conflict with wSamplesPerBlock. For example, if</span></div>
<div class="line"><span class="lineno">  477</span><span class="comment">     * the number of samples doesn&#39;t fit into the block. The Standards Update</span></div>
<div class="line"><span class="lineno">  478</span><span class="comment">     * also describes wSamplesPerBlock with a formula that makes it necessary to</span></div>
<div class="line"><span class="lineno">  479</span><span class="comment">     * always fill the block with the maximum amount of samples, but this is not</span></div>
<div class="line"><span class="lineno">  480</span><span class="comment">     * enforced here as there are no compatibility issues.</span></div>
<div class="line"><span class="lineno">  481</span><span class="comment">     * A truncated block header with just one sample is not supported.</span></div>
<div class="line"><span class="lineno">  482</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock == 1 || blockdatasamples &lt; format-&gt;samplesperblock - 2) {</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid number of samples per MS ADPCM block (wSamplesPerBlock)&quot;</span>);</div>
<div class="line"><span class="lineno">  485</span>    }</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="#adde56761a56d946bde5ff72747b51780">MS_ADPCM_CalculateSampleFrames</a>(file, datalength)) {</div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  489</span>    }</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  492</span>}</div>
<div class="ttc" id="astructMS__ADPCM__CoeffData_html_acea5d7ac61efa5d756cf13dfb8473c72"><div class="ttname"><a href="../../d1/d80/structMS__ADPCM__CoeffData.html#acea5d7ac61efa5d756cf13dfb8473c72">MS_ADPCM_CoeffData::aligndummy</a></div><div class="ttdeci">Sint16 aligndummy</div><div class="ttdef"><b>Definition</b> SDL_wave.c:94</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d80/structMS__ADPCM__CoeffData.html#acea5d7ac61efa5d756cf13dfb8473c72">MS_ADPCM_CoeffData::aligndummy</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../d1/d80/structMS__ADPCM__CoeffData.html#a36b1b42f9a7266bae6f77b1a30d74871">MS_ADPCM_CoeffData::coeff</a>, <a class="el" href="../../d1/d80/structMS__ADPCM__CoeffData.html#aec134d224e50f9dd66ebfbad5e250b81">MS_ADPCM_CoeffData::coeffcount</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a7396f6953d8625788f67b7ecd93a7520">WaveFile::decoderdata</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#aa92c66da4d85adbb169f0781c629c872">EXTENSIBLE_CODE</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="#adde56761a56d946bde5ff72747b51780">MS_ADPCM_CalculateSampleFrames()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, and <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a7ccff187951fea33da0b5a17e2786a44">WaveCheckFormat()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_ac4e4fb8695733d5703b81f918b8e85f9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_ac4e4fb8695733d5703b81f918b8e85f9_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aae1c9808589c646335ecbbfc926f5f6c" name="aae1c9808589c646335ecbbfc926f5f6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae1c9808589c646335ecbbfc926f5f6c">&#9670;&#160;</a></span>MS_ADPCM_ProcessNibble()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a> MS_ADPCM_ProcessNibble </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dad/structMS__ADPCM__ChannelState.html">MS_ADPCM_ChannelState</a> *</td>          <td class="paramname"><span class="paramname"><em>cstate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a></td>          <td class="paramname"><span class="paramname"><em>sample1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a></td>          <td class="paramname"><span class="paramname"><em>sample2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a></td>          <td class="paramname"><span class="paramname"><em>nybble</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  495</span>{</div>
<div class="line"><span class="lineno">  496</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> max_audioval = 32767;</div>
<div class="line"><span class="lineno">  497</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> min_audioval = -32768;</div>
<div class="line"><span class="lineno">  498</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> max_deltaval = 65535;</div>
<div class="line"><span class="lineno">  499</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> adaptive[] = {</div>
<div class="line"><span class="lineno">  500</span>        230, 230, 230, 230, 307, 409, 512, 614,</div>
<div class="line"><span class="lineno">  501</span>        768, 614, 512, 409, 307, 230, 230, 230</div>
<div class="line"><span class="lineno">  502</span>    };</div>
<div class="line"><span class="lineno">  503</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> new_sample;</div>
<div class="line"><span class="lineno">  504</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> errordelta;</div>
<div class="line"><span class="lineno">  505</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> delta = cstate-&gt;<a class="code hl_variable" href="../../d3/dad/structMS__ADPCM__ChannelState.html#a1bd612e0dec8bcb02dfb549a15c2d1c1">delta</a>;</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>    new_sample = (sample1 * cstate-&gt;<a class="code hl_variable" href="../../d3/dad/structMS__ADPCM__ChannelState.html#affcefda2b365f7f88e0ab2359df37a87">coeff1</a> + sample2 * cstate-&gt;<a class="code hl_variable" href="../../d3/dad/structMS__ADPCM__ChannelState.html#a6a250a2e2a67061889bb78e12806e374">coeff2</a>) / 256;</div>
<div class="line"><span class="lineno">  508</span>    <span class="comment">// The nibble is a signed 4-bit error delta.</span></div>
<div class="line"><span class="lineno">  509</span>    errordelta = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a>)nybble - (nybble &gt;= 0x08 ? 0x10 : 0);</div>
<div class="line"><span class="lineno">  510</span>    new_sample += (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a>)delta * errordelta;</div>
<div class="line"><span class="lineno">  511</span>    <span class="keywordflow">if</span> (new_sample &lt; min_audioval) {</div>
<div class="line"><span class="lineno">  512</span>        new_sample = min_audioval;</div>
<div class="line"><span class="lineno">  513</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (new_sample &gt; max_audioval) {</div>
<div class="line"><span class="lineno">  514</span>        new_sample = max_audioval;</div>
<div class="line"><span class="lineno">  515</span>    }</div>
<div class="line"><span class="lineno">  516</span>    delta = (delta * adaptive[nybble]) / 256;</div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">if</span> (delta &lt; 16) {</div>
<div class="line"><span class="lineno">  518</span>        delta = 16;</div>
<div class="line"><span class="lineno">  519</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (delta &gt; max_deltaval) {</div>
<div class="line"><span class="lineno">  520</span>        <span class="comment">/* This issue is not described in the Standards Update and therefore</span></div>
<div class="line"><span class="lineno">  521</span><span class="comment">         * undefined. It seems sensible to prevent overflows with a limit.</span></div>
<div class="line"><span class="lineno">  522</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  523</span>        delta = max_deltaval;</div>
<div class="line"><span class="lineno">  524</span>    }</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>    cstate-&gt;<a class="code hl_variable" href="../../d3/dad/structMS__ADPCM__ChannelState.html#a1bd612e0dec8bcb02dfb549a15c2d1c1">delta</a> = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a>)delta;</div>
<div class="line"><span class="lineno">  527</span>    <span class="keywordflow">return</span> (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a9d0257032c0e146ab6121bf0122712f5">Sint16</a>)new_sample;</div>
<div class="line"><span class="lineno">  528</span>}</div>
<div class="ttc" id="astructMS__ADPCM__ChannelState_html_a1bd612e0dec8bcb02dfb549a15c2d1c1"><div class="ttname"><a href="../../d3/dad/structMS__ADPCM__ChannelState.html#a1bd612e0dec8bcb02dfb549a15c2d1c1">MS_ADPCM_ChannelState::delta</a></div><div class="ttdeci">Uint16 delta</div><div class="ttdef"><b>Definition</b> SDL_wave.c:99</div></div>
<div class="ttc" id="astructMS__ADPCM__ChannelState_html_a6a250a2e2a67061889bb78e12806e374"><div class="ttname"><a href="../../d3/dad/structMS__ADPCM__ChannelState.html#a6a250a2e2a67061889bb78e12806e374">MS_ADPCM_ChannelState::coeff2</a></div><div class="ttdeci">Sint16 coeff2</div><div class="ttdef"><b>Definition</b> SDL_wave.c:101</div></div>
<div class="ttc" id="astructMS__ADPCM__ChannelState_html_affcefda2b365f7f88e0ab2359df37a87"><div class="ttname"><a href="../../d3/dad/structMS__ADPCM__ChannelState.html#affcefda2b365f7f88e0ab2359df37a87">MS_ADPCM_ChannelState::coeff1</a></div><div class="ttdeci">Sint16 coeff1</div><div class="ttdef"><b>Definition</b> SDL_wave.c:100</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/dad/structMS__ADPCM__ChannelState.html#affcefda2b365f7f88e0ab2359df37a87">MS_ADPCM_ChannelState::coeff1</a>, <a class="el" href="../../d3/dad/structMS__ADPCM__ChannelState.html#a6a250a2e2a67061889bb78e12806e374">MS_ADPCM_ChannelState::coeff2</a>, and <a class="el" href="../../d3/dad/structMS__ADPCM__ChannelState.html#a1bd612e0dec8bcb02dfb549a15c2d1c1">MS_ADPCM_ChannelState::delta</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ace29428b2a53bc1c32acda9b8c6f4a86">MS_ADPCM_DecodeBlockData()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_aae1c9808589c646335ecbbfc926f5f6c_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aa0a5f8951455fba4d1b5cbe1129ecabe" name="aa0a5f8951455fba4d1b5cbe1129ecabe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0a5f8951455fba4d1b5cbe1129ecabe">&#9670;&#160;</a></span>PCM_ConvertSint24ToSint32()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> PCM_ConvertSint24ToSint32 </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **</td>          <td class="paramname"><span class="paramname"><em>audio_buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *</td>          <td class="paramname"><span class="paramname"><em>audio_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1348</span>{</div>
<div class="line"><span class="lineno"> 1349</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno"> 1350</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>;</div>
<div class="line"><span class="lineno"> 1351</span>    <span class="keywordtype">size_t</span> i, expanded_len, sample_count;</div>
<div class="line"><span class="lineno"> 1352</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *ptr;</div>
<div class="line"><span class="lineno"> 1353</span> </div>
<div class="line"><span class="lineno"> 1354</span>    sample_count = (size_t)file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a>;</div>
<div class="line"><span class="lineno"> 1355</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult</a>(&amp;sample_count, <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels)) {</div>
<div class="line"><span class="lineno"> 1356</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1357</span>    }</div>
<div class="line"><span class="lineno"> 1358</span> </div>
<div class="line"><span class="lineno"> 1359</span>    expanded_len = sample_count;</div>
<div class="line"><span class="lineno"> 1360</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult</a>(&amp;expanded_len, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a>))) {</div>
<div class="line"><span class="lineno"> 1361</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1362</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (expanded_len &gt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> &gt; <a class="code hl_define" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>) {</div>
<div class="line"><span class="lineno"> 1363</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1364</span>    }</div>
<div class="line"><span class="lineno"> 1365</span> </div>
<div class="line"><span class="lineno"> 1366</span>    <span class="comment">// 1 to avoid allocating zero bytes, to keep static analysis happy.</span></div>
<div class="line"><span class="lineno"> 1367</span>    ptr = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)<a class="code hl_function" href="../../d4/d23/SDL__malloc_8c.html#a85652d5d4d7f0010772e5276fd9f3516">SDL_realloc</a>(chunk-&gt;data, expanded_len ? expanded_len : 1);</div>
<div class="line"><span class="lineno"> 1368</span>    <span class="keywordflow">if</span> (!ptr) {</div>
<div class="line"><span class="lineno"> 1369</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1370</span>    }</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span>    <span class="comment">// This pointer is now invalid.</span></div>
<div class="line"><span class="lineno"> 1373</span>    chunk-&gt;data = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1374</span>    chunk-&gt;size = 0;</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>    *audio_buf = ptr;</div>
<div class="line"><span class="lineno"> 1377</span>    *audio_len = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)expanded_len;</div>
<div class="line"><span class="lineno"> 1378</span> </div>
<div class="line"><span class="lineno"> 1379</span>    <span class="comment">// work from end to start, since we&#39;re expanding in-place.</span></div>
<div class="line"><span class="lineno"> 1380</span>    <span class="keywordflow">for</span> (i = sample_count; i &gt; 0; i--) {</div>
<div class="line"><span class="lineno"> 1381</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> o = i - 1;</div>
<div class="line"><span class="lineno"> 1382</span>        uint8_t b[4];</div>
<div class="line"><span class="lineno"> 1383</span> </div>
<div class="line"><span class="lineno"> 1384</span>        b[0] = 0;</div>
<div class="line"><span class="lineno"> 1385</span>        b[1] = ptr[o * 3];</div>
<div class="line"><span class="lineno"> 1386</span>        b[2] = ptr[o * 3 + 1];</div>
<div class="line"><span class="lineno"> 1387</span>        b[3] = ptr[o * 3 + 2];</div>
<div class="line"><span class="lineno"> 1388</span> </div>
<div class="line"><span class="lineno"> 1389</span>        ptr[o * 4 + 0] = b[0];</div>
<div class="line"><span class="lineno"> 1390</span>        ptr[o * 4 + 1] = b[1];</div>
<div class="line"><span class="lineno"> 1391</span>        ptr[o * 4 + 2] = b[2];</div>
<div class="line"><span class="lineno"> 1392</span>        ptr[o * 4 + 3] = b[3];</div>
<div class="line"><span class="lineno"> 1393</span>    }</div>
<div class="line"><span class="lineno"> 1394</span> </div>
<div class="line"><span class="lineno"> 1395</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1396</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult()</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">WaveFile::sampleframes</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a>, <a class="el" href="../../d4/d23/SDL__malloc_8c.html#a85652d5d4d7f0010772e5276fd9f3516">SDL_realloc()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>, and <a class="el" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="#addadd8fd88d0b5474a83bbba1f0f0a14">PCM_Decode()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_aa0a5f8951455fba4d1b5cbe1129ecabe_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_aa0a5f8951455fba4d1b5cbe1129ecabe_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="addadd8fd88d0b5474a83bbba1f0f0a14" name="addadd8fd88d0b5474a83bbba1f0f0a14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addadd8fd88d0b5474a83bbba1f0f0a14">&#9670;&#160;</a></span>PCM_Decode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> PCM_Decode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **</td>          <td class="paramname"><span class="paramname"><em>audio_buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *</td>          <td class="paramname"><span class="paramname"><em>audio_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1399</span>{</div>
<div class="line"><span class="lineno"> 1400</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno"> 1401</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>;</div>
<div class="line"><span class="lineno"> 1402</span>    <span class="keywordtype">size_t</span> outputsize;</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span>    <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> != chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a>) {</div>
<div class="line"><span class="lineno"> 1405</span>        file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> = <a class="code hl_function" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue</a>(file, chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> / <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign);</div>
<div class="line"><span class="lineno"> 1406</span>        <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1407</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1408</span>        }</div>
<div class="line"><span class="lineno"> 1409</span>    }</div>
<div class="line"><span class="lineno"> 1410</span> </div>
<div class="line"><span class="lineno"> 1411</span>    <span class="comment">// Nothing to decode, nothing to return.</span></div>
<div class="line"><span class="lineno"> 1412</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> == 0) {</div>
<div class="line"><span class="lineno"> 1413</span>        *audio_buf = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1414</span>        *audio_len = 0;</div>
<div class="line"><span class="lineno"> 1415</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1416</span>    }</div>
<div class="line"><span class="lineno"> 1417</span> </div>
<div class="line"><span class="lineno"> 1418</span>    <span class="comment">// 24-bit samples get shifted to 32 bits.</span></div>
<div class="line"><span class="lineno"> 1419</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a> &amp;&amp; <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample == 24) {</div>
<div class="line"><span class="lineno"> 1420</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="#aa0a5f8951455fba4d1b5cbe1129ecabe">PCM_ConvertSint24ToSint32</a>(file, audio_buf, audio_len);</div>
<div class="line"><span class="lineno"> 1421</span>    }</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>    outputsize = (size_t)file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a>;</div>
<div class="line"><span class="lineno"> 1424</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult</a>(&amp;outputsize, <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign)) {</div>
<div class="line"><span class="lineno"> 1425</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1426</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (outputsize &gt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> &gt; <a class="code hl_define" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>) {</div>
<div class="line"><span class="lineno"> 1427</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;WAVE file too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1428</span>    }</div>
<div class="line"><span class="lineno"> 1429</span> </div>
<div class="line"><span class="lineno"> 1430</span>    *audio_buf = chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a>;</div>
<div class="line"><span class="lineno"> 1431</span>    *audio_len = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)outputsize;</div>
<div class="line"><span class="lineno"> 1432</span> </div>
<div class="line"><span class="lineno"> 1433</span>    <span class="comment">// This pointer is going to be returned to the caller. Prevent free in cleanup.</span></div>
<div class="line"><span class="lineno"> 1434</span>    chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1435</span>    chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> = 0;</div>
<div class="line"><span class="lineno"> 1436</span> </div>
<div class="line"><span class="lineno"> 1437</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1438</span>}</div>
<div class="ttc" id="aSDL__wave_8c_html_aa0a5f8951455fba4d1b5cbe1129ecabe"><div class="ttname"><a href="#aa0a5f8951455fba4d1b5cbe1129ecabe">PCM_ConvertSint24ToSint32</a></div><div class="ttdeci">static bool PCM_ConvertSint24ToSint32(WaveFile *file, Uint8 **audio_buf, Uint32 *audio_len)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1347</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a1338aecfb8aa534fd9ba916965c035c4"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a></div><div class="ttdeci">#define PCM_CODE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:39</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">WaveChunk::length</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>, <a class="el" href="#aa0a5f8951455fba4d1b5cbe1129ecabe">PCM_ConvertSint24ToSint32()</a>, <a class="el" href="#a9bcf60574ac3b225d16dff4fac63285c">SafeMult()</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">WaveFile::sampleframes</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>, <a class="el" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>, and <a class="el" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_addadd8fd88d0b5474a83bbba1f0f0a14_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_addadd8fd88d0b5474a83bbba1f0f0a14_icgraph.svg" width="584" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a5de487d2ef3ab30c0e771e38722d2889" name="a5de487d2ef3ab30c0e771e38722d2889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5de487d2ef3ab30c0e771e38722d2889">&#9670;&#160;</a></span>PCM_Init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> PCM_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>datalength</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1305</span>{</div>
<div class="line"><span class="lineno"> 1306</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno"> 1307</span> </div>
<div class="line"><span class="lineno"> 1308</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>) {</div>
<div class="line"><span class="lineno"> 1309</span>        <span class="keywordflow">switch</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample) {</div>
<div class="line"><span class="lineno"> 1310</span>        <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno"> 1311</span>        <span class="keywordflow">case</span> 16:</div>
<div class="line"><span class="lineno"> 1312</span>        <span class="keywordflow">case</span> 24:</div>
<div class="line"><span class="lineno"> 1313</span>        <span class="keywordflow">case</span> 32:</div>
<div class="line"><span class="lineno"> 1314</span>            <span class="comment">// These are supported.</span></div>
<div class="line"><span class="lineno"> 1315</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1316</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1317</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;%u-bit PCM format not supported&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample);</div>
<div class="line"><span class="lineno"> 1318</span>        }</div>
<div class="line"><span class="lineno"> 1319</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a>) {</div>
<div class="line"><span class="lineno"> 1320</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample != 32) {</div>
<div class="line"><span class="lineno"> 1321</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;%u-bit IEEE floating-point format not supported&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample);</div>
<div class="line"><span class="lineno"> 1322</span>        }</div>
<div class="line"><span class="lineno"> 1323</span>    }</div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span>    <span class="comment">/* It wouldn&#39;t be that hard to support more exotic block sizes, but</span></div>
<div class="line"><span class="lineno"> 1326</span><span class="comment">     * the most common formats should do for now.</span></div>
<div class="line"><span class="lineno"> 1327</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1328</span>    <span class="comment">// Make sure we&#39;re a multiple of the blockalign, at least.</span></div>
<div class="line"><span class="lineno"> 1329</span>    <span class="keywordflow">if</span> ((<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels * <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample) % (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign * 8)) {</div>
<div class="line"><span class="lineno"> 1330</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unsupported block alignment&quot;</span>);</div>
<div class="line"><span class="lineno"> 1331</span>    }</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>    <span class="keywordflow">if</span> ((file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>)) {</div>
<div class="line"><span class="lineno"> 1334</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign &gt; 1 &amp;&amp; datalength % <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign) {</div>
<div class="line"><span class="lineno"> 1335</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Truncated data chunk in WAVE file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1336</span>        }</div>
<div class="line"><span class="lineno"> 1337</span>    }</div>
<div class="line"><span class="lineno"> 1338</span> </div>
<div class="line"><span class="lineno"> 1339</span>    file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> = <a class="code hl_function" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue</a>(file, datalength / <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign);</div>
<div class="line"><span class="lineno"> 1340</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">sampleframes</a> &lt; 0) {</div>
<div class="line"><span class="lineno"> 1341</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1342</span>    }</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1345</span>}</div>
<div class="ttc" id="aSDL__wave_8h_html_a8b78910dad6c1a66db8c650b5f07f422"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a></div><div class="ttdeci">#define IEEE_FLOAT_CODE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:41</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a98ce8434c17a64e678514fa8776598a1">WaveFile::sampleframes</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">WaveFile::trunchint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>, and <a class="el" href="#a09a82ccc0229bf790d2d8000596d02e6">WaveAdjustToFactValue()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a7ccff187951fea33da0b5a17e2786a44">WaveCheckFormat()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a5de487d2ef3ab30c0e771e38722d2889_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a5de487d2ef3ab30c0e771e38722d2889_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a9bcf60574ac3b225d16dff4fac63285c" name="a9bcf60574ac3b225d16dff4fac63285c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bcf60574ac3b225d16dff4fac63285c">&#9670;&#160;</a></span>SafeMult()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int SafeMult </td>
          <td>(</td>
          <td class="paramtype">size_t *</td>          <td class="paramname"><span class="paramname"><em>f1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>f2</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   45</span>{</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">if</span> (*f1 &gt; 0 &amp;&amp; <a class="code hl_define" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a> / *f1 &lt;= f2) {</div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">   48</span>    }</div>
<div class="line"><span class="lineno">   49</span>    *f1 *= f2;</div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">   51</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a3c75bb398badb69c7577b21486f9963f">SIZE_MAX</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ab909d8c895556083a8893be1b1d630f4">IMA_ADPCM_Decode()</a>, <a class="el" href="#a95aa579d5b34ccc02a3e174550f9f13d">LAW_Decode()</a>, <a class="el" href="#abed04a09158704527cace31d0e71a2b0">MS_ADPCM_Decode()</a>, <a class="el" href="#aa0a5f8951455fba4d1b5cbe1129ecabe">PCM_ConvertSint24ToSint32()</a>, and <a class="el" href="#addadd8fd88d0b5474a83bbba1f0f0a14">PCM_Decode()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a9bcf60574ac3b225d16dff4fac63285c_icgraph.svg" width="100%" height="465"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a2778dacf0f70ba9f13a958577ea6bb61" name="a2778dacf0f70ba9f13a958577ea6bb61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2778dacf0f70ba9f13a958577ea6bb61">&#9670;&#160;</a></span>SDL_COMPILE_TIME_ASSERT()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SDL_COMPILE_TIME_ASSERT </td>
          <td>(</td>
          <td class="paramtype">int_size</td>          <td class="paramname"><span class="paramname"><em></em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">sizeof(int)</td>          <td class="paramname"><span class="paramname"><em></em></span><span class="paramdefsep"> = </span><span class="paramdefval">=sizeof(<a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a>)</span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f44fee5faff8eeca26f48be1e66141f" name="a8f44fee5faff8eeca26f48be1e66141f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f44fee5faff8eeca26f48be1e66141f">&#9670;&#160;</a></span>SDL_LoadWAV()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> SDL_LoadWAV </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/da1/structSDL__AudioSpec.html">SDL_AudioSpec</a> *</td>          <td class="paramname"><span class="paramname"><em>spec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **</td>          <td class="paramname"><span class="paramname"><em>audio_buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *</td>          <td class="paramname"><span class="paramname"><em>audio_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Loads a WAV from a file path.</p>
<p>This is a convenience function that is effectively the same as:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="../../dd/da1/SDL__audio_8h.html#ad11ccca46f97b85df318d472cce92c65">SDL_LoadWAV_IO</a>(<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a9140c85491dd8b1774e5128486402cd9">SDL_IOFromFile</a>(path, <span class="stringliteral">&quot;rb&quot;</span>), <span class="keyword">true</span>, spec, audio_buf, audio_len);</div>
<div class="ttc" id="aSDL__audio_8h_html_ad11ccca46f97b85df318d472cce92c65"><div class="ttname"><a href="../../dd/da1/SDL__audio_8h.html#ad11ccca46f97b85df318d472cce92c65">SDL_LoadWAV_IO</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_LoadWAV_IO(SDL_IOStream *src, bool closeio, SDL_AudioSpec *spec, Uint8 **audio_buf, Uint32 *audio_len)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:2079</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a9140c85491dd8b1774e5128486402cd9"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a9140c85491dd8b1774e5128486402cd9">SDL_IOFromFile</a></div><div class="ttdeci">SDL_DECLSPEC SDL_IOStream *SDLCALL SDL_IOFromFile(const char *file, const char *mode)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:808</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the file path of the WAV file to open. </td></tr>
    <tr><td class="paramname">spec</td><td>a pointer to an <a class="el" href="../../dc/da1/structSDL__AudioSpec.html">SDL_AudioSpec</a> that will be set to the WAVE data's format details on successful return. </td></tr>
    <tr><td class="paramname">audio_buf</td><td>a pointer filled with the audio data, allocated by the function. </td></tr>
    <tr><td class="paramname">audio_len</td><td>a pointer filled with the length of the audio data buffer in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success. <span class="tt">audio_buf</span> will be filled with a pointer to an allocated buffer containing the audio data, and <span class="tt">audio_len</span> is filled with the length of that audio buffer in bytes.</dd></dl>
<p>This function returns false if the .WAV file cannot be opened, uses an unknown data format, or is corrupt; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</p>
<p>When the application is done with the data returned in <span class="tt">audio_buf</span>, it should call <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a> to dispose of it.</p>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a> </dd>
<dd>
<a class="el" href="../../dd/da1/SDL__audio_8h.html#ad11ccca46f97b85df318d472cce92c65">SDL_LoadWAV_IO</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 2135</span>{</div>
<div class="line"><span class="lineno"> 2136</span>    <a class="code hl_struct" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a> = <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a9140c85491dd8b1774e5128486402cd9">SDL_IOFromFile</a>(path, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><span class="lineno"> 2137</span>    <span class="keywordflow">if</span> (!<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a>) {</div>
<div class="line"><span class="lineno"> 2138</span>        <span class="keywordflow">if</span> (spec) {</div>
<div class="line"><span class="lineno"> 2139</span>            <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a995406d407faf4cfa1ca9dd904672ab6">SDL_zerop</a>(spec);</div>
<div class="line"><span class="lineno"> 2140</span>        }</div>
<div class="line"><span class="lineno"> 2141</span>        <span class="keywordflow">if</span> (audio_buf) {</div>
<div class="line"><span class="lineno"> 2142</span>            *audio_buf = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2143</span>        }</div>
<div class="line"><span class="lineno"> 2144</span>        <span class="keywordflow">if</span> (audio_len) {</div>
<div class="line"><span class="lineno"> 2145</span>            *audio_len = 0;</div>
<div class="line"><span class="lineno"> 2146</span>        }</div>
<div class="line"><span class="lineno"> 2147</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2148</span>    }</div>
<div class="line"><span class="lineno"> 2149</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#afeaef077e6cb8f35303b234139713b6d">SDL_LoadWAV_IO</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a>, <span class="keyword">true</span>, spec, audio_buf, audio_len);</div>
<div class="line"><span class="lineno"> 2150</span>}</div>
<div class="ttc" id="aSDL__stdinc_8h_html_a995406d407faf4cfa1ca9dd904672ab6"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a995406d407faf4cfa1ca9dd904672ab6">SDL_zerop</a></div><div class="ttdeci">#define SDL_zerop(x)</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:2626</div></div>
<div class="ttc" id="aSDL__wave_8c_html_afeaef077e6cb8f35303b234139713b6d"><div class="ttname"><a href="#afeaef077e6cb8f35303b234139713b6d">SDL_LoadWAV_IO</a></div><div class="ttdeci">bool SDL_LoadWAV_IO(SDL_IOStream *src, bool closeio, SDL_AudioSpec *spec, Uint8 **audio_buf, Uint32 *audio_len)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:2079</div></div>
<div class="ttc" id="aeglext_8h_html_a0290aeed50480f3f33b930ac586454d5"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a></div><div class="ttdeci">EGLStreamKHR stream</div><div class="ttdef"><b>Definition</b> eglext.h:365</div></div>
<div class="ttc" id="astructSDL__IOStream_html"><div class="ttname"><a href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a></div><div class="ttdef"><b>Definition</b> SDL_iostream.c:49</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a9140c85491dd8b1774e5128486402cd9">SDL_IOFromFile()</a>, <a class="el" href="#afeaef077e6cb8f35303b234139713b6d">SDL_LoadWAV_IO()</a>, and <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a995406d407faf4cfa1ca9dd904672ab6">SDL_zerop</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a8f44fee5faff8eeca26f48be1e66141f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="afeaef077e6cb8f35303b234139713b6d" name="afeaef077e6cb8f35303b234139713b6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeaef077e6cb8f35303b234139713b6d">&#9670;&#160;</a></span>SDL_LoadWAV_IO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> SDL_LoadWAV_IO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>closeio</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/da1/structSDL__AudioSpec.html">SDL_AudioSpec</a> *</td>          <td class="paramname"><span class="paramname"><em>spec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **</td>          <td class="paramname"><span class="paramname"><em>audio_buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *</td>          <td class="paramname"><span class="paramname"><em>audio_len</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load the audio data of a WAVE file into memory.</p>
<p>Loading a WAVE file requires <span class="tt">src</span>, <span class="tt">spec</span>, <span class="tt">audio_buf</span> and <span class="tt">audio_len</span> to be valid pointers. The entire data portion of the file is then loaded into memory and decoded if necessary.</p>
<p>Supported formats are RIFF WAVE files with the formats PCM (8, 16, 24, and 32 bits), IEEE Float (32 bits), Microsoft ADPCM and IMA ADPCM (4 bits), and A-law and mu-law (8 bits). Other formats are currently unsupported and cause an error.</p>
<p>If this function succeeds, the return value is zero and the pointer to the audio data allocated by the function is written to <span class="tt">audio_buf</span> and its length in bytes to <span class="tt">audio_len</span>. The <a class="el" href="../../dc/da1/structSDL__AudioSpec.html">SDL_AudioSpec</a> members <span class="tt">freq</span>, <span class="tt">channels</span>, and <span class="tt">format</span> are set to the values of the audio data in the buffer.</p>
<p>It's necessary to use <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a> to free the audio data returned in <span class="tt">audio_buf</span> when it is no longer used.</p>
<p>Because of the underspecification of the .WAV format, there are many problematic files in the wild that cause issues with strict decoders. To provide compatibility with these files, this decoder is lenient in regards to the truncation of the file, the fact chunk, and the size of the RIFF chunk. The hints <span class="tt">SDL_HINT_WAVE_RIFF_CHUNK_SIZE</span>, <span class="tt">SDL_HINT_WAVE_TRUNCATION</span>, and <span class="tt">SDL_HINT_WAVE_FACT_CHUNK</span> can be used to tune the behavior of the loading process.</p>
<p>Any file that is invalid (due to truncation, corruption, or wrong values in the headers), too big, or unsupported causes an error. Additionally, any critical I/O error from the data source will terminate the loading process with an error. The function returns NULL on error and in all cases (with the exception of <span class="tt">src</span> being NULL), an appropriate error message will be set.</p>
<p>It is required that the data source supports seeking.</p>
<p>Example:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="../../dd/da1/SDL__audio_8h.html#ad11ccca46f97b85df318d472cce92c65">SDL_LoadWAV_IO</a>(<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a9140c85491dd8b1774e5128486402cd9">SDL_IOFromFile</a>(<span class="stringliteral">&quot;sample.wav&quot;</span>, <span class="stringliteral">&quot;rb&quot;</span>), <span class="keyword">true</span>, &amp;spec, &amp;buf, &amp;len);</div>
</div><!-- fragment --><p>Note that the SDL_LoadWAV function does this same thing for you, but in a less messy way:</p>
<div class="fragment"><div class="line"><a class="code hl_function" href="../../dd/da1/SDL__audio_8h.html#aaf0175d6d48624ce7ca812d3edf735e8">SDL_LoadWAV</a>(<span class="stringliteral">&quot;sample.wav&quot;</span>, &amp;spec, &amp;buf, &amp;len);</div>
<div class="ttc" id="aSDL__audio_8h_html_aaf0175d6d48624ce7ca812d3edf735e8"><div class="ttname"><a href="../../dd/da1/SDL__audio_8h.html#aaf0175d6d48624ce7ca812d3edf735e8">SDL_LoadWAV</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_LoadWAV(const char *path, SDL_AudioSpec *spec, Uint8 **audio_buf, Uint32 *audio_len)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:2134</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>the data source for the WAVE data. </td></tr>
    <tr><td class="paramname">closeio</td><td>if true, calls <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO()</a> on <span class="tt">src</span> before returning, even in the case of an error. </td></tr>
    <tr><td class="paramname">spec</td><td>a pointer to an <a class="el" href="../../dc/da1/structSDL__AudioSpec.html">SDL_AudioSpec</a> that will be set to the WAVE data's format details on successful return. </td></tr>
    <tr><td class="paramname">audio_buf</td><td>a pointer filled with the audio data, allocated by the function. </td></tr>
    <tr><td class="paramname">audio_len</td><td>a pointer filled with the length of the audio data buffer in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success. <span class="tt">audio_buf</span> will be filled with a pointer to an allocated buffer containing the audio data, and <span class="tt">audio_len</span> is filled with the length of that audio buffer in bytes.</dd></dl>
<p>This function returns false if the .WAV file cannot be opened, uses an unknown data format, or is corrupt; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</p>
<p>When the application is done with the data returned in <span class="tt">audio_buf</span>, it should call <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a> to dispose of it.</p>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a> </dd>
<dd>
<a class="el" href="../../dd/da1/SDL__audio_8h.html#aaf0175d6d48624ce7ca812d3edf735e8">SDL_LoadWAV</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno"> 2080</span>{</div>
<div class="line"><span class="lineno"> 2081</span>    <span class="keywordtype">bool</span> result = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2082</span>    <a class="code hl_struct" href="../../d9/ddf/structWaveFile.html">WaveFile</a> file;</div>
<div class="line"><span class="lineno"> 2083</span> </div>
<div class="line"><span class="lineno"> 2084</span>    <span class="keywordflow">if</span> (spec) {</div>
<div class="line"><span class="lineno"> 2085</span>        <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a995406d407faf4cfa1ca9dd904672ab6">SDL_zerop</a>(spec);</div>
<div class="line"><span class="lineno"> 2086</span>    }</div>
<div class="line"><span class="lineno"> 2087</span>    <span class="keywordflow">if</span> (audio_buf) {</div>
<div class="line"><span class="lineno"> 2088</span>        *audio_buf = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2089</span>    }</div>
<div class="line"><span class="lineno"> 2090</span>    <span class="keywordflow">if</span> (audio_len) {</div>
<div class="line"><span class="lineno"> 2091</span>        *audio_len = 0;</div>
<div class="line"><span class="lineno"> 2092</span>    }</div>
<div class="line"><span class="lineno"> 2093</span> </div>
<div class="line"><span class="lineno"> 2094</span>    <span class="comment">// Make sure we are passed a valid data source</span></div>
<div class="line"><span class="lineno"> 2095</span>    <span class="keywordflow">if</span> (!src) {</div>
<div class="line"><span class="lineno"> 2096</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;src&quot;</span>);</div>
<div class="line"><span class="lineno"> 2097</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 2098</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!spec) {</div>
<div class="line"><span class="lineno"> 2099</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;spec&quot;</span>);</div>
<div class="line"><span class="lineno"> 2100</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 2101</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!audio_buf) {</div>
<div class="line"><span class="lineno"> 2102</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;audio_buf&quot;</span>);</div>
<div class="line"><span class="lineno"> 2103</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 2104</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!audio_len) {</div>
<div class="line"><span class="lineno"> 2105</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;audio_len&quot;</span>);</div>
<div class="line"><span class="lineno"> 2106</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno"> 2107</span>    }</div>
<div class="line"><span class="lineno"> 2108</span> </div>
<div class="line"><span class="lineno"> 2109</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(file);</div>
<div class="line"><span class="lineno"> 2110</span>    file.<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#ade1fb2f8ae43f6a0b1004e6af6554b6c">riffhint</a> = <a class="code hl_function" href="#aae80a4308b72d9e829004b0894983b80">WaveGetRiffSizeHint</a>();</div>
<div class="line"><span class="lineno"> 2111</span>    file.<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> = <a class="code hl_function" href="#aa58fc0cac892abe9b6aba3573336d902">WaveGetTruncationHint</a>();</div>
<div class="line"><span class="lineno"> 2112</span>    file.<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">facthint</a> = <a class="code hl_function" href="#a031bbdd778f0446bf3ff17c3106c040a">WaveGetFactChunkHint</a>();</div>
<div class="line"><span class="lineno"> 2113</span> </div>
<div class="line"><span class="lineno"> 2114</span>    result = <a class="code hl_function" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad</a>(src, &amp;file, spec, audio_buf, audio_len);</div>
<div class="line"><span class="lineno"> 2115</span>    <span class="keywordflow">if</span> (!result) {</div>
<div class="line"><span class="lineno"> 2116</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(*audio_buf);</div>
<div class="line"><span class="lineno"> 2117</span>        audio_buf = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 2118</span>        audio_len = 0;</div>
<div class="line"><span class="lineno"> 2119</span>    }</div>
<div class="line"><span class="lineno"> 2120</span> </div>
<div class="line"><span class="lineno"> 2121</span>    <span class="comment">// Cleanup</span></div>
<div class="line"><span class="lineno"> 2122</span>    <span class="keywordflow">if</span> (!closeio) {</div>
<div class="line"><span class="lineno"> 2123</span>        <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(src, file.<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a>, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>);</div>
<div class="line"><span class="lineno"> 2124</span>    }</div>
<div class="line"><span class="lineno"> 2125</span>    <a class="code hl_function" href="#a9ffe58deb6ede54eb238e21999406894">WaveFreeChunkData</a>(&amp;file.<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>);</div>
<div class="line"><span class="lineno"> 2126</span>    <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(file.<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a7396f6953d8625788f67b7ecd93a7520">decoderdata</a>);</div>
<div class="line"><span class="lineno"> 2127</span>done:</div>
<div class="line"><span class="lineno"> 2128</span>    <span class="keywordflow">if</span> (closeio &amp;&amp; src) {</div>
<div class="line"><span class="lineno"> 2129</span>        <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO</a>(src);</div>
<div class="line"><span class="lineno"> 2130</span>    }</div>
<div class="line"><span class="lineno"> 2131</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno"> 2132</span>}</div>
<div class="ttc" id="aSDL__error_8h_html_a5875c9c083a88408e11abeaa8391dfa5"><div class="ttname"><a href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a></div><div class="ttdeci">#define SDL_InvalidParamError(param)</div><div class="ttdef"><b>Definition</b> SDL_error.h:216</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a3ab799b70783f9e8bbad0e5e9a5eb6de"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_CloseIO(SDL_IOStream *context)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1135</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a759e8675f14009868c2d895930bbd29e"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a></div><div class="ttdeci">SDL_DECLSPEC Sint64 SDLCALL SDL_SeekIO(SDL_IOStream *context, Sint64 offset, SDL_IOWhence whence)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1317</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a></div><div class="ttdeci">@ SDL_IO_SEEK_SET</div><div class="ttdef"><b>Definition</b> SDL_iostream.h:73</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a031bbdd778f0446bf3ff17c3106c040a"><div class="ttname"><a href="#a031bbdd778f0446bf3ff17c3106c040a">WaveGetFactChunkHint</a></div><div class="ttdeci">static WaveFactChunkHint WaveGetFactChunkHint(void)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1478</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a74a2f92d8c663adf2d70ed3fc458c1b5"><div class="ttname"><a href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad</a></div><div class="ttdeci">static bool WaveLoad(SDL_IOStream *src, WaveFile *file, SDL_AudioSpec *spec, Uint8 **audio_buf, Uint32 *audio_len)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1773</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a9ffe58deb6ede54eb238e21999406894"><div class="ttname"><a href="#a9ffe58deb6ede54eb238e21999406894">WaveFreeChunkData</a></div><div class="ttdeci">static void WaveFreeChunkData(WaveChunk *chunk)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1497</div></div>
<div class="ttc" id="aSDL__wave_8c_html_aa58fc0cac892abe9b6aba3573336d902"><div class="ttname"><a href="#aa58fc0cac892abe9b6aba3573336d902">WaveGetTruncationHint</a></div><div class="ttdeci">static WaveTruncationHint WaveGetTruncationHint(void)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1459</div></div>
<div class="ttc" id="aSDL__wave_8c_html_aae80a4308b72d9e829004b0894983b80"><div class="ttname"><a href="#aae80a4308b72d9e829004b0894983b80">WaveGetRiffSizeHint</a></div><div class="ttdeci">static WaveRiffSizeHint WaveGetRiffSizeHint(void)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1440</div></div>
<div class="ttc" id="astructWaveChunk_html_a039e0a377a3fdf126bf281ada1cec414"><div class="ttname"><a href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">WaveChunk::position</a></div><div class="ttdeci">Sint64 position</div><div class="ttdef"><b>Definition</b> SDL_wave.h:99</div></div>
<div class="ttc" id="astructWaveFile_html"><div class="ttname"><a href="../../d9/ddf/structWaveFile.html">WaveFile</a></div><div class="ttdef"><b>Definition</b> SDL_wave.h:135</div></div>
<div class="ttc" id="astructWaveFile_html_a0e1427457d14818456ad19edf4ee5aa3"><div class="ttname"><a href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">WaveFile::facthint</a></div><div class="ttdeci">WaveFactChunkHint facthint</div><div class="ttdef"><b>Definition</b> SDL_wave.h:150</div></div>
<div class="ttc" id="astructWaveFile_html_ade1fb2f8ae43f6a0b1004e6af6554b6c"><div class="ttname"><a href="../../d9/ddf/structWaveFile.html#ade1fb2f8ae43f6a0b1004e6af6554b6c">WaveFile::riffhint</a></div><div class="ttdeci">WaveRiffSizeHint riffhint</div><div class="ttdef"><b>Definition</b> SDL_wave.h:148</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a7396f6953d8625788f67b7ecd93a7520">WaveFile::decoderdata</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">WaveFile::facthint</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">WaveChunk::position</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#ade1fb2f8ae43f6a0b1004e6af6554b6c">WaveFile::riffhint</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a995406d407faf4cfa1ca9dd904672ab6">SDL_zerop</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">WaveFile::trunchint</a>, <a class="el" href="#a9ffe58deb6ede54eb238e21999406894">WaveFreeChunkData()</a>, <a class="el" href="#a031bbdd778f0446bf3ff17c3106c040a">WaveGetFactChunkHint()</a>, <a class="el" href="#aae80a4308b72d9e829004b0894983b80">WaveGetRiffSizeHint()</a>, <a class="el" href="#aa58fc0cac892abe9b6aba3573336d902">WaveGetTruncationHint()</a>, and <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/da1/SDL__audio_8h.html#aaf0175d6d48624ce7ca812d3edf735e8">SDL_LoadWAV()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_afeaef077e6cb8f35303b234139713b6d_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_afeaef077e6cb8f35303b234139713b6d_icgraph.svg" width="303" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a09a82ccc0229bf790d2d8000596d02e6" name="a09a82ccc0229bf790d2d8000596d02e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a82ccc0229bf790d2d8000596d02e6">&#9670;&#160;</a></span>WaveAdjustToFactValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a> WaveAdjustToFactValue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a></td>          <td class="paramname"><span class="paramname"><em>sampleframes</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  324</span>{</div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">status</a> == 2) {</div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">facthint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9adf88a83772363eda7fb24521ecdaa466">FactStrict</a> &amp;&amp; sampleframes &lt; file-&gt;fact.samplelength) {</div>
<div class="line"><span class="lineno">  327</span>            <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid number of sample frames in WAVE fact chunk (too many)&quot;</span>);</div>
<div class="line"><span class="lineno">  328</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  329</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (sampleframes &gt; file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a3318db6f6de89e1439880ad695ad1525">samplelength</a>) {</div>
<div class="line"><span class="lineno">  330</span>            <span class="keywordflow">return</span> file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a3318db6f6de89e1439880ad695ad1525">samplelength</a>;</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span>    }</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">return</span> sampleframes;</div>
<div class="line"><span class="lineno">  335</span>}</div>
<div class="ttc" id="aSDL__wave_8h_html_af7e4cc73f74acf48d32901e813b399c9adf88a83772363eda7fb24521ecdaa466"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9adf88a83772363eda7fb24521ecdaa466">FactStrict</a></div><div class="ttdeci">@ FactStrict</div><div class="ttdef"><b>Definition</b> SDL_wave.h:129</div></div>
<div class="ttc" id="astructWaveFact_html_a3318db6f6de89e1439880ad695ad1525"><div class="ttname"><a href="../../d8/df1/structWaveFact.html#a3318db6f6de89e1439880ad695ad1525">WaveFact::samplelength</a></div><div class="ttdeci">Uint32 samplelength</div><div class="ttdef"><b>Definition</b> SDL_wave.h:91</div></div>
<div class="ttc" id="astructWaveFact_html_a6407c0bd32f3edddc25c39dc86b7c1de"><div class="ttname"><a href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">WaveFact::status</a></div><div class="ttdeci">Sint32 status</div><div class="ttdef"><b>Definition</b> SDL_wave.h:81</div></div>
<div class="ttc" id="astructWaveFile_html_a0825523a996f83173c1b8c4f5bc7ce40"><div class="ttname"><a href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">WaveFile::fact</a></div><div class="ttdeci">WaveFact fact</div><div class="ttdef"><b>Definition</b> SDL_wave.h:138</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">WaveFile::fact</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">WaveFile::facthint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9adf88a83772363eda7fb24521ecdaa466">FactStrict</a>, <a class="el" href="../../d8/df1/structWaveFact.html#a3318db6f6de89e1439880ad695ad1525">WaveFact::samplelength</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, and <a class="el" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">WaveFact::status</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a277780307d9acc24732b6b2b3442d3d4">IMA_ADPCM_CalculateSampleFrames()</a>, <a class="el" href="#a95aa579d5b34ccc02a3e174550f9f13d">LAW_Decode()</a>, <a class="el" href="#a973182ff75a3c798d1e8d33a5230c44d">LAW_Init()</a>, <a class="el" href="#adde56761a56d946bde5ff72747b51780">MS_ADPCM_CalculateSampleFrames()</a>, <a class="el" href="#addadd8fd88d0b5474a83bbba1f0f0a14">PCM_Decode()</a>, and <a class="el" href="#a5de487d2ef3ab30c0e771e38722d2889">PCM_Init()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a09a82ccc0229bf790d2d8000596d02e6_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a09a82ccc0229bf790d2d8000596d02e6_icgraph.svg" width="100%" height="564"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a7ccff187951fea33da0b5a17e2786a44" name="a7ccff187951fea33da0b5a17e2786a44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ccff187951fea33da0b5a17e2786a44">&#9670;&#160;</a></span>WaveCheckFormat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> WaveCheckFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>datalength</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1671</span>{</div>
<div class="line"><span class="lineno"> 1672</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno"> 1673</span> </div>
<div class="line"><span class="lineno"> 1674</span>    <span class="comment">// Check for some obvious issues.</span></div>
<div class="line"><span class="lineno"> 1675</span> </div>
<div class="line"><span class="lineno"> 1676</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels == 0) {</div>
<div class="line"><span class="lineno"> 1677</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid number of channels&quot;</span>);</div>
<div class="line"><span class="lineno"> 1678</span>    }</div>
<div class="line"><span class="lineno"> 1679</span> </div>
<div class="line"><span class="lineno"> 1680</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;frequency == 0) {</div>
<div class="line"><span class="lineno"> 1681</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid sample rate&quot;</span>);</div>
<div class="line"><span class="lineno"> 1682</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;frequency &gt; <a class="code hl_define" href="#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a>) {</div>
<div class="line"><span class="lineno"> 1683</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Sample rate exceeds limit of %d&quot;</span>, <a class="code hl_define" href="#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a>);</div>
<div class="line"><span class="lineno"> 1684</span>    }</div>
<div class="line"><span class="lineno"> 1685</span> </div>
<div class="line"><span class="lineno"> 1686</span>    <span class="comment">// Reject invalid fact chunks in strict mode.</span></div>
<div class="line"><span class="lineno"> 1687</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">facthint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9adf88a83772363eda7fb24521ecdaa466">FactStrict</a> &amp;&amp; file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">status</a> == -1) {</div>
<div class="line"><span class="lineno"> 1688</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid fact chunk in WAVE file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1689</span>    }</div>
<div class="line"><span class="lineno"> 1690</span> </div>
<div class="line"><span class="lineno"> 1691</span>    <span class="comment">/* Check for issues common to all encodings. Some unsupported formats set</span></div>
<div class="line"><span class="lineno"> 1692</span><span class="comment">     * the bits per sample to zero. These fall through to the &#39;unsupported</span></div>
<div class="line"><span class="lineno"> 1693</span><span class="comment">     * format&#39; error.</span></div>
<div class="line"><span class="lineno"> 1694</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1695</span>    <span class="keywordflow">switch</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding) {</div>
<div class="line"><span class="lineno"> 1696</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a>:</div>
<div class="line"><span class="lineno"> 1697</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 1698</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 1699</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#ad75b7cb347720665485bc557c4c8d039">MS_ADPCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 1700</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#abb09a7bdc9d114f6365cc9e389545f32">IMA_ADPCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 1701</span>        <span class="comment">// These formats require a fact chunk.</span></div>
<div class="line"><span class="lineno"> 1702</span>        <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">facthint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9adf88a83772363eda7fb24521ecdaa466">FactStrict</a> &amp;&amp; file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">status</a> &lt;= 0) {</div>
<div class="line"><span class="lineno"> 1703</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Missing fact chunk in WAVE file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1704</span>        }</div>
<div class="line"><span class="lineno"> 1705</span>        <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a9bbeece5949f076e5130a4dda2a7ede5">SDL_FALLTHROUGH</a>;</div>
<div class="line"><span class="lineno"> 1706</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 1707</span>        <span class="comment">// All supported formats require a non-zero bit depth.</span></div>
<div class="line"><span class="lineno"> 1708</span>        <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> &lt; 16) {</div>
<div class="line"><span class="lineno"> 1709</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Missing wBitsPerSample field in WAVE fmt chunk&quot;</span>);</div>
<div class="line"><span class="lineno"> 1710</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample == 0) {</div>
<div class="line"><span class="lineno"> 1711</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid bits per sample&quot;</span>);</div>
<div class="line"><span class="lineno"> 1712</span>        }</div>
<div class="line"><span class="lineno"> 1713</span> </div>
<div class="line"><span class="lineno"> 1714</span>        <span class="comment">// All supported formats must have a proper block size.</span></div>
<div class="line"><span class="lineno"> 1715</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign == 0) {</div>
<div class="line"><span class="lineno"> 1716</span>            <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign = 1;  <span class="comment">// force it to 1 if it was unset.</span></div>
<div class="line"><span class="lineno"> 1717</span>        }</div>
<div class="line"><span class="lineno"> 1718</span> </div>
<div class="line"><span class="lineno"> 1719</span>        <span class="comment">/* If the fact chunk is valid and the appropriate hint is set, the</span></div>
<div class="line"><span class="lineno"> 1720</span><span class="comment">         * decoders will use the number of sample frames from the fact chunk.</span></div>
<div class="line"><span class="lineno"> 1721</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1722</span>        <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">status</a> == 1) {</div>
<div class="line"><span class="lineno"> 1723</span>            <a class="code hl_enumeration" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9">WaveFactChunkHint</a> hint = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">facthint</a>;</div>
<div class="line"><span class="lineno"> 1724</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> samples = file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a3318db6f6de89e1439880ad695ad1525">samplelength</a>;</div>
<div class="line"><span class="lineno"> 1725</span>            <span class="keywordflow">if</span> (hint == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9a21307bcfeb7e4373b796cfbc3c664c80">FactTruncate</a> || hint == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9adf88a83772363eda7fb24521ecdaa466">FactStrict</a> || (hint == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9a21b52e30598f20081113723f82b1bd92">FactIgnoreZero</a> &amp;&amp; samples &gt; 0)) {</div>
<div class="line"><span class="lineno"> 1726</span>                file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">status</a> = 2;</div>
<div class="line"><span class="lineno"> 1727</span>            }</div>
<div class="line"><span class="lineno"> 1728</span>        }</div>
<div class="line"><span class="lineno"> 1729</span>    }</div>
<div class="line"><span class="lineno"> 1730</span> </div>
<div class="line"><span class="lineno"> 1731</span>    <span class="comment">// Check the format for encoding specific issues and initialize decoders.</span></div>
<div class="line"><span class="lineno"> 1732</span>    <span class="keywordflow">switch</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding) {</div>
<div class="line"><span class="lineno"> 1733</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 1734</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a>:</div>
<div class="line"><span class="lineno"> 1735</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a5de487d2ef3ab30c0e771e38722d2889">PCM_Init</a>(file, datalength)) {</div>
<div class="line"><span class="lineno"> 1736</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1737</span>        }</div>
<div class="line"><span class="lineno"> 1738</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1739</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 1740</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 1741</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a973182ff75a3c798d1e8d33a5230c44d">LAW_Init</a>(file, datalength)) {</div>
<div class="line"><span class="lineno"> 1742</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1743</span>        }</div>
<div class="line"><span class="lineno"> 1744</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1745</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#ad75b7cb347720665485bc557c4c8d039">MS_ADPCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 1746</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#ac4e4fb8695733d5703b81f918b8e85f9">MS_ADPCM_Init</a>(file, datalength)) {</div>
<div class="line"><span class="lineno"> 1747</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1748</span>        }</div>
<div class="line"><span class="lineno"> 1749</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1750</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#abb09a7bdc9d114f6365cc9e389545f32">IMA_ADPCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 1751</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#aab28ccbe8c4cf1aabee13e51fd1a48bb">IMA_ADPCM_Init</a>(file, datalength)) {</div>
<div class="line"><span class="lineno"> 1752</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1753</span>        }</div>
<div class="line"><span class="lineno"> 1754</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1755</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a9e3253e5b744398bbc717e905910b250">MPEG_CODE</a>:</div>
<div class="line"><span class="lineno"> 1756</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#adae6f43bed7b99572a9a80be2ffde306">MPEGLAYER3_CODE</a>:</div>
<div class="line"><span class="lineno"> 1757</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;MPEG formats not supported&quot;</span>);</div>
<div class="line"><span class="lineno"> 1758</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1759</span>        <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;formattag == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aa92c66da4d85adbb169f0781c629c872">EXTENSIBLE_CODE</a>) {</div>
<div class="line"><span class="lineno"> 1760</span>            <span class="keyword">const</span> <span class="keywordtype">char</span> *errstr = <span class="stringliteral">&quot;Unknown WAVE format GUID: %08x-%04x-%04x-%02x%02x%02x%02x%02x%02x%02x%02x&quot;</span>;</div>
<div class="line"><span class="lineno"> 1761</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *g = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;subformat;</div>
<div class="line"><span class="lineno"> 1762</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> g1 = g[0] | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)g[1] &lt;&lt; 8) | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)g[2] &lt;&lt; 16) | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)g[3] &lt;&lt; 24);</div>
<div class="line"><span class="lineno"> 1763</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> g2 = g[4] | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)g[5] &lt;&lt; 8);</div>
<div class="line"><span class="lineno"> 1764</span>            <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> g3 = g[6] | ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)g[7] &lt;&lt; 8);</div>
<div class="line"><span class="lineno"> 1765</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(errstr, g1, g2, g3, g[8], g[9], g[10], g[11], g[12], g[13], g[14], g[15]);</div>
<div class="line"><span class="lineno"> 1766</span>        }</div>
<div class="line"><span class="lineno"> 1767</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unknown WAVE format tag: 0x%04x&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding);</div>
<div class="line"><span class="lineno"> 1768</span>    }</div>
<div class="line"><span class="lineno"> 1769</span> </div>
<div class="line"><span class="lineno"> 1770</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1771</span>}</div>
<div class="ttc" id="aSDL__begin__code_8h_html_a9bbeece5949f076e5130a4dda2a7ede5"><div class="ttname"><a href="../../d8/d5f/SDL__begin__code_8h.html#a9bbeece5949f076e5130a4dda2a7ede5">SDL_FALLTHROUGH</a></div><div class="ttdeci">#define SDL_FALLTHROUGH</div><div class="ttdef"><b>Definition</b> SDL_begin_code.h:489</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a5de487d2ef3ab30c0e771e38722d2889"><div class="ttname"><a href="#a5de487d2ef3ab30c0e771e38722d2889">PCM_Init</a></div><div class="ttdeci">static bool PCM_Init(WaveFile *file, size_t datalength)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1304</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a973182ff75a3c798d1e8d33a5230c44d"><div class="ttname"><a href="#a973182ff75a3c798d1e8d33a5230c44d">LAW_Init</a></div><div class="ttdeci">static bool LAW_Init(WaveFile *file, size_t datalength)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1134</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a9ec306f36d50c7375e74f0d1c55a3a67"><div class="ttname"><a href="#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a></div><div class="ttdeci">#define INT_MAX</div><div class="ttdef"><b>Definition</b> SDL_wave.c:28</div></div>
<div class="ttc" id="aSDL__wave_8c_html_aab28ccbe8c4cf1aabee13e51fd1a48bb"><div class="ttname"><a href="#aab28ccbe8c4cf1aabee13e51fd1a48bb">IMA_ADPCM_Init</a></div><div class="ttdeci">static bool IMA_ADPCM_Init(WaveFile *file, size_t datalength)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:789</div></div>
<div class="ttc" id="aSDL__wave_8c_html_ac4e4fb8695733d5703b81f918b8e85f9"><div class="ttname"><a href="#ac4e4fb8695733d5703b81f918b8e85f9">MS_ADPCM_Init</a></div><div class="ttdeci">static bool MS_ADPCM_Init(WaveFile *file, size_t datalength)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:376</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a9e3253e5b744398bbc717e905910b250"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a9e3253e5b744398bbc717e905910b250">MPEG_CODE</a></div><div class="ttdeci">#define MPEG_CODE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:45</div></div>
<div class="ttc" id="aSDL__wave_8h_html_abb09a7bdc9d114f6365cc9e389545f32"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#abb09a7bdc9d114f6365cc9e389545f32">IMA_ADPCM_CODE</a></div><div class="ttdeci">#define IMA_ADPCM_CODE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:44</div></div>
<div class="ttc" id="aSDL__wave_8h_html_ad75b7cb347720665485bc557c4c8d039"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#ad75b7cb347720665485bc557c4c8d039">MS_ADPCM_CODE</a></div><div class="ttdeci">#define MS_ADPCM_CODE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:40</div></div>
<div class="ttc" id="aSDL__wave_8h_html_adae6f43bed7b99572a9a80be2ffde306"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#adae6f43bed7b99572a9a80be2ffde306">MPEGLAYER3_CODE</a></div><div class="ttdeci">#define MPEGLAYER3_CODE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:46</div></div>
<div class="ttc" id="aSDL__wave_8h_html_af7e4cc73f74acf48d32901e813b399c9"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9">WaveFactChunkHint</a></div><div class="ttdeci">WaveFactChunkHint</div><div class="ttdef"><b>Definition</b> SDL_wave.h:126</div></div>
<div class="ttc" id="aSDL__wave_8h_html_af7e4cc73f74acf48d32901e813b399c9a21307bcfeb7e4373b796cfbc3c664c80"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9a21307bcfeb7e4373b796cfbc3c664c80">FactTruncate</a></div><div class="ttdeci">@ FactTruncate</div><div class="ttdef"><b>Definition</b> SDL_wave.h:128</div></div>
<div class="ttc" id="aSDL__wave_8h_html_af7e4cc73f74acf48d32901e813b399c9a21b52e30598f20081113723f82b1bd92"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9a21b52e30598f20081113723f82b1bd92">FactIgnoreZero</a></div><div class="ttdeci">@ FactIgnoreZero</div><div class="ttdef"><b>Definition</b> SDL_wave.h:130</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#aa92c66da4d85adbb169f0781c629c872">EXTENSIBLE_CODE</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">WaveFile::fact</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">WaveFile::facthint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9a21b52e30598f20081113723f82b1bd92">FactIgnoreZero</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9adf88a83772363eda7fb24521ecdaa466">FactStrict</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9a21307bcfeb7e4373b796cfbc3c664c80">FactTruncate</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#abb09a7bdc9d114f6365cc9e389545f32">IMA_ADPCM_CODE</a>, <a class="el" href="#aab28ccbe8c4cf1aabee13e51fd1a48bb">IMA_ADPCM_Init()</a>, <a class="el" href="#a9ec306f36d50c7375e74f0d1c55a3a67">INT_MAX</a>, <a class="el" href="#a973182ff75a3c798d1e8d33a5230c44d">LAW_Init()</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a9e3253e5b744398bbc717e905910b250">MPEG_CODE</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#adae6f43bed7b99572a9a80be2ffde306">MPEGLAYER3_CODE</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad75b7cb347720665485bc557c4c8d039">MS_ADPCM_CODE</a>, <a class="el" href="#ac4e4fb8695733d5703b81f918b8e85f9">MS_ADPCM_Init()</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>, <a class="el" href="#a5de487d2ef3ab30c0e771e38722d2889">PCM_Init()</a>, <a class="el" href="../../d8/df1/structWaveFact.html#a3318db6f6de89e1439880ad695ad1525">WaveFact::samplelength</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a9bbeece5949f076e5130a4dda2a7ede5">SDL_FALLTHROUGH</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>, and <a class="el" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">WaveFact::status</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a7ccff187951fea33da0b5a17e2786a44_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a7ccff187951fea33da0b5a17e2786a44_icgraph.svg" width="615" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a9ffe58deb6ede54eb238e21999406894" name="a9ffe58deb6ede54eb238e21999406894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ffe58deb6ede54eb238e21999406894">&#9670;&#160;</a></span>WaveFreeChunkData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> WaveFreeChunkData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *</td>          <td class="paramname"><span class="paramname"><em>chunk</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1498</span>{</div>
<div class="line"><span class="lineno"> 1499</span>    <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a>) {</div>
<div class="line"><span class="lineno"> 1500</span>        <a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free</a>(chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a>);</div>
<div class="line"><span class="lineno"> 1501</span>        chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno"> 1502</span>    }</div>
<div class="line"><span class="lineno"> 1503</span>    chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> = 0;</div>
<div class="line"><span class="lineno"> 1504</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a0c50a6dd59993af5802a5418e5dbc27a">SDL_free()</a>, and <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/da1/SDL__audio_8h.html#ad11ccca46f97b85df318d472cce92c65">SDL_LoadWAV_IO()</a>, <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>, <a class="el" href="#a7ef1a477aa6ccd8189d0185626978535">WaveNextChunk()</a>, and <a class="el" href="#ac89e76af4a69b7011354078ab804ae5b">WaveReadPartialChunkData()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a9ffe58deb6ede54eb238e21999406894_cgraph.svg" width="282" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a9ffe58deb6ede54eb238e21999406894_icgraph.svg" width="100%" height="446"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a031bbdd778f0446bf3ff17c3106c040a" name="a031bbdd778f0446bf3ff17c3106c040a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a031bbdd778f0446bf3ff17c3106c040a">&#9670;&#160;</a></span>WaveGetFactChunkHint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9">WaveFactChunkHint</a> WaveGetFactChunkHint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1479</span>{</div>
<div class="line"><span class="lineno"> 1480</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *hint = <a class="code hl_function" href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint</a>(<a class="code hl_define" href="../../d9/d1c/SDL__hints_8h.html#a9b502b557707a58d9f51c593ca0077e2">SDL_HINT_WAVE_FACT_CHUNK</a>);</div>
<div class="line"><span class="lineno"> 1481</span> </div>
<div class="line"><span class="lineno"> 1482</span>    <span class="keywordflow">if</span> (hint) {</div>
<div class="line"><span class="lineno"> 1483</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;truncate&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1484</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9a21307bcfeb7e4373b796cfbc3c664c80">FactTruncate</a>;</div>
<div class="line"><span class="lineno"> 1485</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;strict&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1486</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9adf88a83772363eda7fb24521ecdaa466">FactStrict</a>;</div>
<div class="line"><span class="lineno"> 1487</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;ignorezero&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1488</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9a21b52e30598f20081113723f82b1bd92">FactIgnoreZero</a>;</div>
<div class="line"><span class="lineno"> 1489</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;ignore&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1490</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9ab0048ddbaec64269edc3d90d55143260">FactIgnore</a>;</div>
<div class="line"><span class="lineno"> 1491</span>        }</div>
<div class="line"><span class="lineno"> 1492</span>    }</div>
<div class="line"><span class="lineno"> 1493</span> </div>
<div class="line"><span class="lineno"> 1494</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9acb846d0aa024738f8194b200d6d9fc4f">FactNoHint</a>;</div>
<div class="line"><span class="lineno"> 1495</span>}</div>
<div class="ttc" id="aSDL__hints_8h_html_a0ce2cc6915ec9242fa403afd834a4fea"><div class="ttname"><a href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint</a></div><div class="ttdeci">SDL_DECLSPEC const char *SDLCALL SDL_GetHint(const char *name)</div><div class="ttdef"><b>Definition</b> SDL_hints.c:258</div></div>
<div class="ttc" id="aSDL__hints_8h_html_a9b502b557707a58d9f51c593ca0077e2"><div class="ttname"><a href="../../d9/d1c/SDL__hints_8h.html#a9b502b557707a58d9f51c593ca0077e2">SDL_HINT_WAVE_FACT_CHUNK</a></div><div class="ttdeci">#define SDL_HINT_WAVE_FACT_CHUNK</div><div class="ttdef"><b>Definition</b> SDL_hints.h:3976</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_ace853017535ad7681a22bf290c371fb4"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_strcmp(const char *str1, const char *str2)</div><div class="ttdef"><b>Definition</b> SDL_string.c:1346</div></div>
<div class="ttc" id="aSDL__wave_8h_html_af7e4cc73f74acf48d32901e813b399c9ab0048ddbaec64269edc3d90d55143260"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9ab0048ddbaec64269edc3d90d55143260">FactIgnore</a></div><div class="ttdeci">@ FactIgnore</div><div class="ttdef"><b>Definition</b> SDL_wave.h:131</div></div>
<div class="ttc" id="aSDL__wave_8h_html_af7e4cc73f74acf48d32901e813b399c9acb846d0aa024738f8194b200d6d9fc4f"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9acb846d0aa024738f8194b200d6d9fc4f">FactNoHint</a></div><div class="ttdeci">@ FactNoHint</div><div class="ttdef"><b>Definition</b> SDL_wave.h:127</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9ab0048ddbaec64269edc3d90d55143260">FactIgnore</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9a21b52e30598f20081113723f82b1bd92">FactIgnoreZero</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9acb846d0aa024738f8194b200d6d9fc4f">FactNoHint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9adf88a83772363eda7fb24521ecdaa466">FactStrict</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9a21307bcfeb7e4373b796cfbc3c664c80">FactTruncate</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint()</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#a9b502b557707a58d9f51c593ca0077e2">SDL_HINT_WAVE_FACT_CHUNK</a>, and <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/da1/SDL__audio_8h.html#ad11ccca46f97b85df318d472cce92c65">SDL_LoadWAV_IO()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a031bbdd778f0446bf3ff17c3106c040a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a031bbdd778f0446bf3ff17c3106c040a_icgraph.svg" width="514" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="abbd0579df2d985660595e279c11e4381" name="abbd0579df2d985660595e279c11e4381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbd0579df2d985660595e279c11e4381">&#9670;&#160;</a></span>WaveGetFormatGUIDEncoding()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> WaveGetFormatGUIDEncoding </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *</td>          <td class="paramname"><span class="paramname"><em>format</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1592</span>{</div>
<div class="line"><span class="lineno"> 1593</span>    <span class="keywordtype">size_t</span> i;</div>
<div class="line"><span class="lineno"> 1594</span>    <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a>(<a class="code hl_variable" href="#a573d42a63b54b44cb325377b8f22b015">extensible_guids</a>); i++) {</div>
<div class="line"><span class="lineno"> 1595</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#aea33e0632420534e46ffb787f0474211">SDL_memcmp</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;subformat, <a class="code hl_variable" href="#a573d42a63b54b44cb325377b8f22b015">extensible_guids</a>[i].guid, 16) == 0) {</div>
<div class="line"><span class="lineno"> 1596</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="#a573d42a63b54b44cb325377b8f22b015">extensible_guids</a>[i].encoding;</div>
<div class="line"><span class="lineno"> 1597</span>        }</div>
<div class="line"><span class="lineno"> 1598</span>    }</div>
<div class="line"><span class="lineno"> 1599</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aacd03d8a55c3e6a754cbbcd972d421c3">UNKNOWN_CODE</a>;</div>
<div class="line"><span class="lineno"> 1600</span>}</div>
<div class="ttc" id="aSDL__stdinc_8h_html_a56cfbf2e664506e5f4bb2e05997be8ae"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a></div><div class="ttdeci">#define SDL_arraysize(array)</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:225</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_aea33e0632420534e46ffb787f0474211"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#aea33e0632420534e46ffb787f0474211">SDL_memcmp</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_memcmp(const void *s1, const void *s2, size_t len)</div><div class="ttdef"><b>Definition</b> SDL_string.c:695</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a573d42a63b54b44cb325377b8f22b015"><div class="ttname"><a href="#a573d42a63b54b44cb325377b8f22b015">extensible_guids</a></div><div class="ttdeci">static WaveExtensibleGUID extensible_guids[]</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1582</div></div>
<div class="ttc" id="aSDL__wave_8h_html_aacd03d8a55c3e6a754cbbcd972d421c3"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#aacd03d8a55c3e6a754cbbcd972d421c3">UNKNOWN_CODE</a></div><div class="ttdeci">#define UNKNOWN_CODE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:38</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a573d42a63b54b44cb325377b8f22b015">extensible_guids</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a56cfbf2e664506e5f4bb2e05997be8ae">SDL_arraysize</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aea33e0632420534e46ffb787f0474211">SDL_memcmp()</a>, and <a class="el" href="../../d1/d3b/SDL__wave_8h.html#aacd03d8a55c3e6a754cbbcd972d421c3">UNKNOWN_CODE</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a555c3fb0af314226bd9ef39a61aacfe1">WaveReadFormat()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_abbd0579df2d985660595e279c11e4381_cgraph.svg" width="372" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_abbd0579df2d985660595e279c11e4381_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="aae80a4308b72d9e829004b0894983b80" name="aae80a4308b72d9e829004b0894983b80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae80a4308b72d9e829004b0894983b80">&#9670;&#160;</a></span>WaveGetRiffSizeHint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5f">WaveRiffSizeHint</a> WaveGetRiffSizeHint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1441</span>{</div>
<div class="line"><span class="lineno"> 1442</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *hint = <a class="code hl_function" href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint</a>(<a class="code hl_define" href="../../d9/d1c/SDL__hints_8h.html#abf565db22ddc2f8a3842d42db9a71e8b">SDL_HINT_WAVE_RIFF_CHUNK_SIZE</a>);</div>
<div class="line"><span class="lineno"> 1443</span> </div>
<div class="line"><span class="lineno"> 1444</span>    <span class="keywordflow">if</span> (hint) {</div>
<div class="line"><span class="lineno"> 1445</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;force&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1446</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa745e24f294add38389c073dda4457162">RiffSizeForce</a>;</div>
<div class="line"><span class="lineno"> 1447</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;ignore&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1448</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fab11e2fca0f89bff76694ce43203a22f9">RiffSizeIgnore</a>;</div>
<div class="line"><span class="lineno"> 1449</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;ignorezero&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1450</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fad3a69abed03166d4339afb9a5ddf1695">RiffSizeIgnoreZero</a>;</div>
<div class="line"><span class="lineno"> 1451</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;maximum&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1452</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa77b1bdc3422b2df2c106694b2ab4fa4d">RiffSizeMaximum</a>;</div>
<div class="line"><span class="lineno"> 1453</span>        }</div>
<div class="line"><span class="lineno"> 1454</span>    }</div>
<div class="line"><span class="lineno"> 1455</span> </div>
<div class="line"><span class="lineno"> 1456</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa632dfa357c78359f3de29b304cc2ab71">RiffSizeNoHint</a>;</div>
<div class="line"><span class="lineno"> 1457</span>}</div>
<div class="ttc" id="aSDL__hints_8h_html_abf565db22ddc2f8a3842d42db9a71e8b"><div class="ttname"><a href="../../d9/d1c/SDL__hints_8h.html#abf565db22ddc2f8a3842d42db9a71e8b">SDL_HINT_WAVE_RIFF_CHUNK_SIZE</a></div><div class="ttdeci">#define SDL_HINT_WAVE_RIFF_CHUNK_SIZE</div><div class="ttdef"><b>Definition</b> SDL_hints.h:4016</div></div>
<div class="ttc" id="aSDL__wave_8h_html_ad0dc6453840ef898fa54b4b6ab9d3b5fa632dfa357c78359f3de29b304cc2ab71"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa632dfa357c78359f3de29b304cc2ab71">RiffSizeNoHint</a></div><div class="ttdeci">@ RiffSizeNoHint</div><div class="ttdef"><b>Definition</b> SDL_wave.h:107</div></div>
<div class="ttc" id="aSDL__wave_8h_html_ad0dc6453840ef898fa54b4b6ab9d3b5fa745e24f294add38389c073dda4457162"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa745e24f294add38389c073dda4457162">RiffSizeForce</a></div><div class="ttdeci">@ RiffSizeForce</div><div class="ttdef"><b>Definition</b> SDL_wave.h:108</div></div>
<div class="ttc" id="aSDL__wave_8h_html_ad0dc6453840ef898fa54b4b6ab9d3b5fa77b1bdc3422b2df2c106694b2ab4fa4d"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa77b1bdc3422b2df2c106694b2ab4fa4d">RiffSizeMaximum</a></div><div class="ttdeci">@ RiffSizeMaximum</div><div class="ttdef"><b>Definition</b> SDL_wave.h:111</div></div>
<div class="ttc" id="aSDL__wave_8h_html_ad0dc6453840ef898fa54b4b6ab9d3b5fab11e2fca0f89bff76694ce43203a22f9"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fab11e2fca0f89bff76694ce43203a22f9">RiffSizeIgnore</a></div><div class="ttdeci">@ RiffSizeIgnore</div><div class="ttdef"><b>Definition</b> SDL_wave.h:110</div></div>
<div class="ttc" id="aSDL__wave_8h_html_ad0dc6453840ef898fa54b4b6ab9d3b5fad3a69abed03166d4339afb9a5ddf1695"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fad3a69abed03166d4339afb9a5ddf1695">RiffSizeIgnoreZero</a></div><div class="ttdeci">@ RiffSizeIgnoreZero</div><div class="ttdef"><b>Definition</b> SDL_wave.h:109</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa745e24f294add38389c073dda4457162">RiffSizeForce</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fab11e2fca0f89bff76694ce43203a22f9">RiffSizeIgnore</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fad3a69abed03166d4339afb9a5ddf1695">RiffSizeIgnoreZero</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa77b1bdc3422b2df2c106694b2ab4fa4d">RiffSizeMaximum</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa632dfa357c78359f3de29b304cc2ab71">RiffSizeNoHint</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint()</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#abf565db22ddc2f8a3842d42db9a71e8b">SDL_HINT_WAVE_RIFF_CHUNK_SIZE</a>, and <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/da1/SDL__audio_8h.html#ad11ccca46f97b85df318d472cce92c65">SDL_LoadWAV_IO()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_aae80a4308b72d9e829004b0894983b80_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_aae80a4308b72d9e829004b0894983b80_icgraph.svg" width="496" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="aa58fc0cac892abe9b6aba3573336d902" name="aa58fc0cac892abe9b6aba3573336d902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa58fc0cac892abe9b6aba3573336d902">&#9670;&#160;</a></span>WaveGetTruncationHint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725c">WaveTruncationHint</a> WaveGetTruncationHint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a></td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1460</span>{</div>
<div class="line"><span class="lineno"> 1461</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *hint = <a class="code hl_function" href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint</a>(<a class="code hl_define" href="../../d9/d1c/SDL__hints_8h.html#a464d623d2f0edb55e2da44d09e32e72a">SDL_HINT_WAVE_TRUNCATION</a>);</div>
<div class="line"><span class="lineno"> 1462</span> </div>
<div class="line"><span class="lineno"> 1463</span>    <span class="keywordflow">if</span> (hint) {</div>
<div class="line"><span class="lineno"> 1464</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;verystrict&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1465</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>;</div>
<div class="line"><span class="lineno"> 1466</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;strict&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1467</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>;</div>
<div class="line"><span class="lineno"> 1468</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;dropframe&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1469</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a>;</div>
<div class="line"><span class="lineno"> 1470</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(hint, <span class="stringliteral">&quot;dropblock&quot;</span>) == 0) {</div>
<div class="line"><span class="lineno"> 1471</span>            <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca050aad7a0076a6748aabc96c308a8c04">TruncDropBlock</a>;</div>
<div class="line"><span class="lineno"> 1472</span>        }</div>
<div class="line"><span class="lineno"> 1473</span>    }</div>
<div class="line"><span class="lineno"> 1474</span> </div>
<div class="line"><span class="lineno"> 1475</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca1b8894ebe9807493b507025fdc6de0e1">TruncNoHint</a>;</div>
<div class="line"><span class="lineno"> 1476</span>}</div>
<div class="ttc" id="aSDL__hints_8h_html_a464d623d2f0edb55e2da44d09e32e72a"><div class="ttname"><a href="../../d9/d1c/SDL__hints_8h.html#a464d623d2f0edb55e2da44d09e32e72a">SDL_HINT_WAVE_TRUNCATION</a></div><div class="ttdeci">#define SDL_HINT_WAVE_TRUNCATION</div><div class="ttdef"><b>Definition</b> SDL_hints.h:4036</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a758ef98874f9d210f3d14132088f725ca050aad7a0076a6748aabc96c308a8c04"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca050aad7a0076a6748aabc96c308a8c04">TruncDropBlock</a></div><div class="ttdeci">@ TruncDropBlock</div><div class="ttdef"><b>Definition</b> SDL_wave.h:121</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a758ef98874f9d210f3d14132088f725ca1b8894ebe9807493b507025fdc6de0e1"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca1b8894ebe9807493b507025fdc6de0e1">TruncNoHint</a></div><div class="ttdeci">@ TruncNoHint</div><div class="ttdef"><b>Definition</b> SDL_wave.h:117</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint()</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#a464d623d2f0edb55e2da44d09e32e72a">SDL_HINT_WAVE_TRUNCATION</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp()</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca050aad7a0076a6748aabc96c308a8c04">TruncDropBlock</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725caeb957cfe8a1718121200c9138298f6e2">TruncDropFrame</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca1b8894ebe9807493b507025fdc6de0e1">TruncNoHint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>, and <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/da1/SDL__audio_8h.html#ad11ccca46f97b85df318d472cce92c65">SDL_LoadWAV_IO()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_aa58fc0cac892abe9b6aba3573336d902_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_aa58fc0cac892abe9b6aba3573336d902_icgraph.svg" width="511" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a74a2f92d8c663adf2d70ed3fc458c1b5" name="a74a2f92d8c663adf2d70ed3fc458c1b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74a2f92d8c663adf2d70ed3fc458c1b5">&#9670;&#160;</a></span>WaveLoad()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> WaveLoad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/da1/structSDL__AudioSpec.html">SDL_AudioSpec</a> *</td>          <td class="paramname"><span class="paramname"><em>spec</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> **</td>          <td class="paramname"><span class="paramname"><em>audio_buf</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *</td>          <td class="paramname"><span class="paramname"><em>audio_len</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1774</span>{</div>
<div class="line"><span class="lineno"> 1775</span>    <span class="keywordtype">int</span> result;</div>
<div class="line"><span class="lineno"> 1776</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> chunkcount = 0;</div>
<div class="line"><span class="lineno"> 1777</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> chunkcountlimit = 10000;</div>
<div class="line"><span class="lineno"> 1778</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> *hint;</div>
<div class="line"><span class="lineno"> 1779</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a> RIFFstart, RIFFend, lastchunkpos;</div>
<div class="line"><span class="lineno"> 1780</span>    <span class="keywordtype">bool</span> RIFFlengthknown = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1781</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno"> 1782</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>;</div>
<div class="line"><span class="lineno"> 1783</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> RIFFchunk;</div>
<div class="line"><span class="lineno"> 1784</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> fmtchunk;</div>
<div class="line"><span class="lineno"> 1785</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> datachunk;</div>
<div class="line"><span class="lineno"> 1786</span> </div>
<div class="line"><span class="lineno"> 1787</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(RIFFchunk);</div>
<div class="line"><span class="lineno"> 1788</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(fmtchunk);</div>
<div class="line"><span class="lineno"> 1789</span>    <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>(datachunk);</div>
<div class="line"><span class="lineno"> 1790</span> </div>
<div class="line"><span class="lineno"> 1791</span>    hint = <a class="code hl_function" href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint</a>(<a class="code hl_define" href="../../d9/d1c/SDL__hints_8h.html#ad5a9d2f81ab9bbe5dc63396837b96afd">SDL_HINT_WAVE_CHUNK_LIMIT</a>);</div>
<div class="line"><span class="lineno"> 1792</span>    <span class="keywordflow">if</span> (hint) {</div>
<div class="line"><span class="lineno"> 1793</span>        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a>;</div>
<div class="line"><span class="lineno"> 1794</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a369cf412374208af05c51de8a326039f">SDL_sscanf</a>(hint, <span class="stringliteral">&quot;%u&quot;</span>, &amp;<a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a>) == 1) {</div>
<div class="line"><span class="lineno"> 1795</span>            chunkcountlimit = <a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a> &lt;= <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a> ? <a class="code hl_variable" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a> : <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a>;</div>
<div class="line"><span class="lineno"> 1796</span>        }</div>
<div class="line"><span class="lineno"> 1797</span>    }</div>
<div class="line"><span class="lineno"> 1798</span> </div>
<div class="line"><span class="lineno"> 1799</span>    RIFFstart = <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO</a>(src);</div>
<div class="line"><span class="lineno"> 1800</span>    <span class="keywordflow">if</span> (RIFFstart &lt; 0) {</div>
<div class="line"><span class="lineno"> 1801</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not seek in file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1802</span>    }</div>
<div class="line"><span class="lineno"> 1803</span> </div>
<div class="line"><span class="lineno"> 1804</span>    RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> = RIFFstart;</div>
<div class="line"><span class="lineno"> 1805</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a7ef1a477aa6ccd8189d0185626978535">WaveNextChunk</a>(src, &amp;RIFFchunk) &lt; 0) {</div>
<div class="line"><span class="lineno"> 1806</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not read RIFF header&quot;</span>);</div>
<div class="line"><span class="lineno"> 1807</span>    }</div>
<div class="line"><span class="lineno"> 1808</span> </div>
<div class="line"><span class="lineno"> 1809</span>    <span class="comment">// Check main WAVE file identifiers.</span></div>
<div class="line"><span class="lineno"> 1810</span>    <span class="keywordflow">if</span> (RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a5ce0782f724d48035a91c87dbc04e503">RIFF</a>) {</div>
<div class="line"><span class="lineno"> 1811</span>        <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> formtype;</div>
<div class="line"><span class="lineno"> 1812</span>        <span class="comment">// Read the form type. &quot;WAVE&quot; expected.</span></div>
<div class="line"><span class="lineno"> 1813</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, &amp;formtype)) {</div>
<div class="line"><span class="lineno"> 1814</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not read RIFF form type&quot;</span>);</div>
<div class="line"><span class="lineno"> 1815</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (formtype != <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a231ae87a2701dff2ad68bbba3e12d2b1">WAVE</a>) {</div>
<div class="line"><span class="lineno"> 1816</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;RIFF form type is not WAVE (not a Waveform file)&quot;</span>);</div>
<div class="line"><span class="lineno"> 1817</span>        }</div>
<div class="line"><span class="lineno"> 1818</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a231ae87a2701dff2ad68bbba3e12d2b1">WAVE</a>) {</div>
<div class="line"><span class="lineno"> 1819</span>        <span class="comment">// RIFF chunk missing or skipped. Length unknown.</span></div>
<div class="line"><span class="lineno"> 1820</span>        RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> = 0;</div>
<div class="line"><span class="lineno"> 1821</span>        RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> = 0;</div>
<div class="line"><span class="lineno"> 1822</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1823</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not find RIFF or WAVE identifiers (not a Waveform file)&quot;</span>);</div>
<div class="line"><span class="lineno"> 1824</span>    }</div>
<div class="line"><span class="lineno"> 1825</span> </div>
<div class="line"><span class="lineno"> 1826</span>    <span class="comment">// The 4-byte form type is immediately followed by the first chunk.</span></div>
<div class="line"><span class="lineno"> 1827</span>    chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> = RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> + 4;</div>
<div class="line"><span class="lineno"> 1828</span> </div>
<div class="line"><span class="lineno"> 1829</span>    <span class="comment">/* Use the RIFF chunk size to limit the search for the chunks. This is not</span></div>
<div class="line"><span class="lineno"> 1830</span><span class="comment">     * always reliable and the hint can be used to tune the behavior. By</span></div>
<div class="line"><span class="lineno"> 1831</span><span class="comment">     * default, it will never search past 4 GiB.</span></div>
<div class="line"><span class="lineno"> 1832</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1833</span>    <span class="keywordflow">switch</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#ade1fb2f8ae43f6a0b1004e6af6554b6c">riffhint</a>) {</div>
<div class="line"><span class="lineno"> 1834</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fab11e2fca0f89bff76694ce43203a22f9">RiffSizeIgnore</a>:</div>
<div class="line"><span class="lineno"> 1835</span>        RIFFend = RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> + <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a>;</div>
<div class="line"><span class="lineno"> 1836</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1837</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1838</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fad3a69abed03166d4339afb9a5ddf1695">RiffSizeIgnoreZero</a>:</div>
<div class="line"><span class="lineno"> 1839</span>        <span class="keywordflow">if</span> (RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> == 0) {</div>
<div class="line"><span class="lineno"> 1840</span>            RIFFend = RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> + <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a>;</div>
<div class="line"><span class="lineno"> 1841</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1842</span>        }</div>
<div class="line"><span class="lineno"> 1843</span>        <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a9bbeece5949f076e5130a4dda2a7ede5">SDL_FALLTHROUGH</a>;</div>
<div class="line"><span class="lineno"> 1844</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa745e24f294add38389c073dda4457162">RiffSizeForce</a>:</div>
<div class="line"><span class="lineno"> 1845</span>        RIFFend = RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> + RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>;</div>
<div class="line"><span class="lineno"> 1846</span>        RIFFlengthknown = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1847</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1848</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa77b1bdc3422b2df2c106694b2ab4fa4d">RiffSizeMaximum</a>:</div>
<div class="line"><span class="lineno"> 1849</span>        RIFFend = <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a419073146b1419899f722f48690875b9">SDL_MAX_SINT64</a>;</div>
<div class="line"><span class="lineno"> 1850</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1851</span>    }</div>
<div class="line"><span class="lineno"> 1852</span> </div>
<div class="line"><span class="lineno"> 1853</span>    <span class="comment">/* Step through all chunks and save information on the fmt, data, and fact</span></div>
<div class="line"><span class="lineno"> 1854</span><span class="comment">     * chunks. Ignore the chunks we don&#39;t know as per specification. This</span></div>
<div class="line"><span class="lineno"> 1855</span><span class="comment">     * currently also ignores cue, list, and slnt chunks.</span></div>
<div class="line"><span class="lineno"> 1856</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1857</span>    <span class="keywordflow">while</span> ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>)RIFFend &gt; (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>)chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> + chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> + (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> &amp; 1)) {</div>
<div class="line"><span class="lineno"> 1858</span>        <span class="comment">// Abort after too many chunks or else corrupt files may waste time.</span></div>
<div class="line"><span class="lineno"> 1859</span>        <span class="keywordflow">if</span> (chunkcount++ &gt;= chunkcountlimit) {</div>
<div class="line"><span class="lineno"> 1860</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Chunk count in WAVE file exceeds limit of %&quot;</span> <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a02a9c84dfccf028f88101476c6cc4a9d">SDL_PRIu32</a>, chunkcountlimit);</div>
<div class="line"><span class="lineno"> 1861</span>        }</div>
<div class="line"><span class="lineno"> 1862</span> </div>
<div class="line"><span class="lineno"> 1863</span>        result = <a class="code hl_function" href="#a7ef1a477aa6ccd8189d0185626978535">WaveNextChunk</a>(src, chunk);</div>
<div class="line"><span class="lineno"> 1864</span>        <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 1865</span>            <span class="comment">// Unexpected EOF. Corrupt file or I/O issues.</span></div>
<div class="line"><span class="lineno"> 1866</span>            <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>) {</div>
<div class="line"><span class="lineno"> 1867</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unexpected end of WAVE file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1868</span>            }</div>
<div class="line"><span class="lineno"> 1869</span>            <span class="comment">// Let the checks after this loop sort this issue out.</span></div>
<div class="line"><span class="lineno"> 1870</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1871</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result == -2) {</div>
<div class="line"><span class="lineno"> 1872</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not seek to WAVE chunk header&quot;</span>);</div>
<div class="line"><span class="lineno"> 1873</span>        }</div>
<div class="line"><span class="lineno"> 1874</span> </div>
<div class="line"><span class="lineno"> 1875</span>        <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a3dfb8ef0d04e938194da60b4420c7517">FMT</a>) {</div>
<div class="line"><span class="lineno"> 1876</span>            <span class="keywordflow">if</span> (fmtchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a3dfb8ef0d04e938194da60b4420c7517">FMT</a>) {</div>
<div class="line"><span class="lineno"> 1877</span>                <span class="comment">// Multiple fmt chunks. Ignore or error?</span></div>
<div class="line"><span class="lineno"> 1878</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1879</span>                <span class="comment">// The fmt chunk must occur before the data chunk.</span></div>
<div class="line"><span class="lineno"> 1880</span>                <span class="keywordflow">if</span> (datachunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a>) {</div>
<div class="line"><span class="lineno"> 1881</span>                    <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;fmt chunk after data chunk in WAVE file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1882</span>                }</div>
<div class="line"><span class="lineno"> 1883</span>                fmtchunk = *chunk;</div>
<div class="line"><span class="lineno"> 1884</span>            }</div>
<div class="line"><span class="lineno"> 1885</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a>) {</div>
<div class="line"><span class="lineno"> 1886</span>            <span class="comment">/* Only use the first data chunk. Handling the wavl list madness</span></div>
<div class="line"><span class="lineno"> 1887</span><span class="comment">             * may require a different approach.</span></div>
<div class="line"><span class="lineno"> 1888</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 1889</span>            <span class="keywordflow">if</span> (datachunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> != <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a>) {</div>
<div class="line"><span class="lineno"> 1890</span>                datachunk = *chunk;</div>
<div class="line"><span class="lineno"> 1891</span>            }</div>
<div class="line"><span class="lineno"> 1892</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#acdb6ac44a66a1b7b2cc43aaa44c12daa">FACT</a>) {</div>
<div class="line"><span class="lineno"> 1893</span>            <span class="comment">/* The fact chunk data must be at least 4 bytes for the</span></div>
<div class="line"><span class="lineno"> 1894</span><span class="comment">             * dwSampleLength field. Ignore all fact chunks after the first one.</span></div>
<div class="line"><span class="lineno"> 1895</span><span class="comment">             */</span></div>
<div class="line"><span class="lineno"> 1896</span>            <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">status</a> == 0) {</div>
<div class="line"><span class="lineno"> 1897</span>                <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> &lt; 4) {</div>
<div class="line"><span class="lineno"> 1898</span>                    file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">status</a> = -1;</div>
<div class="line"><span class="lineno"> 1899</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1900</span>                    <span class="comment">// Let&#39;s use src directly, it&#39;s just too convenient.</span></div>
<div class="line"><span class="lineno"> 1901</span>                    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a> position = <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(src, chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a>, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>);</div>
<div class="line"><span class="lineno"> 1902</span>                    <span class="keywordflow">if</span> (position == chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> &amp;&amp; <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a3318db6f6de89e1439880ad695ad1525">samplelength</a>)) {</div>
<div class="line"><span class="lineno"> 1903</span>                        file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">status</a> = 1;</div>
<div class="line"><span class="lineno"> 1904</span>                    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 1905</span>                        file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">status</a> = -1;</div>
<div class="line"><span class="lineno"> 1906</span>                    }</div>
<div class="line"><span class="lineno"> 1907</span>                }</div>
<div class="line"><span class="lineno"> 1908</span>            }</div>
<div class="line"><span class="lineno"> 1909</span>        }</div>
<div class="line"><span class="lineno"> 1910</span> </div>
<div class="line"><span class="lineno"> 1911</span>        <span class="comment">/* Go through all chunks in verystrict mode or stop the search early if</span></div>
<div class="line"><span class="lineno"> 1912</span><span class="comment">         * all required chunks were found.</span></div>
<div class="line"><span class="lineno"> 1913</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1914</span>        <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>) {</div>
<div class="line"><span class="lineno"> 1915</span>            <span class="keywordflow">if</span> ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>)RIFFend &lt; (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>)chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> + chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>) {</div>
<div class="line"><span class="lineno"> 1916</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;RIFF size truncates chunk&quot;</span>);</div>
<div class="line"><span class="lineno"> 1917</span>            }</div>
<div class="line"><span class="lineno"> 1918</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (fmtchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a3dfb8ef0d04e938194da60b4420c7517">FMT</a> &amp;&amp; datachunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a>) {</div>
<div class="line"><span class="lineno"> 1919</span>            <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">fact</a>.<a class="code hl_variable" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">status</a> == 1 || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">facthint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9ab0048ddbaec64269edc3d90d55143260">FactIgnore</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">facthint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9acb846d0aa024738f8194b200d6d9fc4f">FactNoHint</a>) {</div>
<div class="line"><span class="lineno"> 1920</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1921</span>            }</div>
<div class="line"><span class="lineno"> 1922</span>        }</div>
<div class="line"><span class="lineno"> 1923</span>    }</div>
<div class="line"><span class="lineno"> 1924</span> </div>
<div class="line"><span class="lineno"> 1925</span>    <span class="comment">/* Save the position after the last chunk. This position will be used if the</span></div>
<div class="line"><span class="lineno"> 1926</span><span class="comment">     * RIFF length is unknown.</span></div>
<div class="line"><span class="lineno"> 1927</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1928</span>    lastchunkpos = chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> + chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>;</div>
<div class="line"><span class="lineno"> 1929</span> </div>
<div class="line"><span class="lineno"> 1930</span>    <span class="comment">// The fmt chunk is mandatory.</span></div>
<div class="line"><span class="lineno"> 1931</span>    <span class="keywordflow">if</span> (fmtchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> != <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a3dfb8ef0d04e938194da60b4420c7517">FMT</a>) {</div>
<div class="line"><span class="lineno"> 1932</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Missing fmt chunk in WAVE file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1933</span>    }</div>
<div class="line"><span class="lineno"> 1934</span>    <span class="comment">// A data chunk must be present.</span></div>
<div class="line"><span class="lineno"> 1935</span>    <span class="keywordflow">if</span> (datachunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> != <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a>) {</div>
<div class="line"><span class="lineno"> 1936</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Missing data chunk in WAVE file&quot;</span>);</div>
<div class="line"><span class="lineno"> 1937</span>    }</div>
<div class="line"><span class="lineno"> 1938</span>    <span class="comment">// Check if the last chunk has all of its data in verystrict mode.</span></div>
<div class="line"><span class="lineno"> 1939</span>    <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>) {</div>
<div class="line"><span class="lineno"> 1940</span>        <span class="comment">// data chunk is handled later.</span></div>
<div class="line"><span class="lineno"> 1941</span>        <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> != <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a> &amp;&amp; chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> &gt; 0) {</div>
<div class="line"><span class="lineno"> 1942</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> tmp;</div>
<div class="line"><span class="lineno"> 1943</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a> position = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#ac006cf2bd55a42a9cc8ae9f123aa7e13">Uint64</a>)chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> + chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> - 1;</div>
<div class="line"><span class="lineno"> 1944</span>            <span class="keywordflow">if</span> (position &gt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a419073146b1419899f722f48690875b9">SDL_MAX_SINT64</a> || <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(src, (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a>)position, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>) != (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a>)position) {</div>
<div class="line"><span class="lineno"> 1945</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not seek to WAVE chunk data&quot;</span>);</div>
<div class="line"><span class="lineno"> 1946</span>            } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;tmp)) {</div>
<div class="line"><span class="lineno"> 1947</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;RIFF size truncates chunk&quot;</span>);</div>
<div class="line"><span class="lineno"> 1948</span>            }</div>
<div class="line"><span class="lineno"> 1949</span>        }</div>
<div class="line"><span class="lineno"> 1950</span>    }</div>
<div class="line"><span class="lineno"> 1951</span> </div>
<div class="line"><span class="lineno"> 1952</span>    <span class="comment">// Process fmt chunk.</span></div>
<div class="line"><span class="lineno"> 1953</span>    *chunk = fmtchunk;</div>
<div class="line"><span class="lineno"> 1954</span> </div>
<div class="line"><span class="lineno"> 1955</span>    <span class="comment">/* No need to read more than 1046 bytes of the fmt chunk data with the</span></div>
<div class="line"><span class="lineno"> 1956</span><span class="comment">     * formats that are currently supported. (1046 because of MS ADPCM coefficients)</span></div>
<div class="line"><span class="lineno"> 1957</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1958</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#ac89e76af4a69b7011354078ab804ae5b">WaveReadPartialChunkData</a>(src, chunk, 1046) &lt; 0) {</div>
<div class="line"><span class="lineno"> 1959</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not read data of WAVE fmt chunk&quot;</span>);</div>
<div class="line"><span class="lineno"> 1960</span>    }</div>
<div class="line"><span class="lineno"> 1961</span> </div>
<div class="line"><span class="lineno"> 1962</span>    <span class="comment">/* The fmt chunk data must be at least 14 bytes to include all common fields.</span></div>
<div class="line"><span class="lineno"> 1963</span><span class="comment">     * It usually is 16 and larger depending on the header and encoding.</span></div>
<div class="line"><span class="lineno"> 1964</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 1965</span>    <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> &lt; 14) {</div>
<div class="line"><span class="lineno"> 1966</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Invalid WAVE fmt chunk length (too small)&quot;</span>);</div>
<div class="line"><span class="lineno"> 1967</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> &lt; 14) {</div>
<div class="line"><span class="lineno"> 1968</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not read data of WAVE fmt chunk&quot;</span>);</div>
<div class="line"><span class="lineno"> 1969</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a555c3fb0af314226bd9ef39a61aacfe1">WaveReadFormat</a>(file)) {</div>
<div class="line"><span class="lineno"> 1970</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1971</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a7ccff187951fea33da0b5a17e2786a44">WaveCheckFormat</a>(file, (<span class="keywordtype">size_t</span>)datachunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>)) {</div>
<div class="line"><span class="lineno"> 1972</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1973</span>    }</div>
<div class="line"><span class="lineno"> 1974</span> </div>
<div class="line"><span class="lineno"> 1975</span><span class="preprocessor">#ifdef SDL_WAVE_DEBUG_LOG_FORMAT</span></div>
<div class="line"><span class="lineno"> 1976</span>    WaveDebugLogFormat(file);</div>
<div class="line"><span class="lineno"> 1977</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1978</span><span class="preprocessor">#ifdef SDL_WAVE_DEBUG_DUMP_FORMAT</span></div>
<div class="line"><span class="lineno"> 1979</span>    WaveDebugDumpFormat(file, RIFFchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>, fmtchunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>, datachunk.<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>);</div>
<div class="line"><span class="lineno"> 1980</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno"> 1981</span> </div>
<div class="line"><span class="lineno"> 1982</span>    <a class="code hl_function" href="#a9ffe58deb6ede54eb238e21999406894">WaveFreeChunkData</a>(chunk);</div>
<div class="line"><span class="lineno"> 1983</span> </div>
<div class="line"><span class="lineno"> 1984</span>    <span class="comment">// Process data chunk.</span></div>
<div class="line"><span class="lineno"> 1985</span>    *chunk = datachunk;</div>
<div class="line"><span class="lineno"> 1986</span> </div>
<div class="line"><span class="lineno"> 1987</span>    <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> &gt; 0) {</div>
<div class="line"><span class="lineno"> 1988</span>        result = <a class="code hl_function" href="#ab3836c42ce28e16317272b590c79190c">WaveReadChunkData</a>(src, chunk);</div>
<div class="line"><span class="lineno"> 1989</span>        <span class="keywordflow">if</span> (result &lt; 0) {</div>
<div class="line"><span class="lineno"> 1990</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1991</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (result == -2) {</div>
<div class="line"><span class="lineno"> 1992</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not seek data of WAVE data chunk&quot;</span>);</div>
<div class="line"><span class="lineno"> 1993</span>        }</div>
<div class="line"><span class="lineno"> 1994</span>    }</div>
<div class="line"><span class="lineno"> 1995</span> </div>
<div class="line"><span class="lineno"> 1996</span>    <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> != chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a>) {</div>
<div class="line"><span class="lineno"> 1997</span>        <span class="comment">// I/O issues or corrupt file.</span></div>
<div class="line"><span class="lineno"> 1998</span>        <span class="keywordflow">if</span> (file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a> || file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">trunchint</a> == <a class="code hl_enumvalue" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>) {</div>
<div class="line"><span class="lineno"> 1999</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Could not read data of WAVE data chunk&quot;</span>);</div>
<div class="line"><span class="lineno"> 2000</span>        }</div>
<div class="line"><span class="lineno"> 2001</span>        <span class="comment">// The decoders handle this truncation.</span></div>
<div class="line"><span class="lineno"> 2002</span>    }</div>
<div class="line"><span class="lineno"> 2003</span> </div>
<div class="line"><span class="lineno"> 2004</span>    <span class="comment">// Decode or convert the data if necessary.</span></div>
<div class="line"><span class="lineno"> 2005</span>    <span class="keywordflow">switch</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding) {</div>
<div class="line"><span class="lineno"> 2006</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 2007</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a>:</div>
<div class="line"><span class="lineno"> 2008</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#addadd8fd88d0b5474a83bbba1f0f0a14">PCM_Decode</a>(file, audio_buf, audio_len)) {</div>
<div class="line"><span class="lineno"> 2009</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2010</span>        }</div>
<div class="line"><span class="lineno"> 2011</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2012</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 2013</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 2014</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#a95aa579d5b34ccc02a3e174550f9f13d">LAW_Decode</a>(file, audio_buf, audio_len)) {</div>
<div class="line"><span class="lineno"> 2015</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2016</span>        }</div>
<div class="line"><span class="lineno"> 2017</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2018</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#ad75b7cb347720665485bc557c4c8d039">MS_ADPCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 2019</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#abed04a09158704527cace31d0e71a2b0">MS_ADPCM_Decode</a>(file, audio_buf, audio_len)) {</div>
<div class="line"><span class="lineno"> 2020</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2021</span>        }</div>
<div class="line"><span class="lineno"> 2022</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2023</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#abb09a7bdc9d114f6365cc9e389545f32">IMA_ADPCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 2024</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#ab909d8c895556083a8893be1b1d630f4">IMA_ADPCM_Decode</a>(file, audio_buf, audio_len)) {</div>
<div class="line"><span class="lineno"> 2025</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 2026</span>        }</div>
<div class="line"><span class="lineno"> 2027</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2028</span>    }</div>
<div class="line"><span class="lineno"> 2029</span> </div>
<div class="line"><span class="lineno"> 2030</span>    <span class="comment">/* Setting up the specs. All unsupported formats were filtered out</span></div>
<div class="line"><span class="lineno"> 2031</span><span class="comment">     * by checks earlier in this function.</span></div>
<div class="line"><span class="lineno"> 2032</span><span class="comment">     */</span></div>
<div class="line"><span class="lineno"> 2033</span>    spec-&gt;<a class="code hl_variable" href="../../dc/da1/structSDL__AudioSpec.html#a8b823ce46fc2e448cf7e6fc141aff6b2">freq</a> = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;frequency;</div>
<div class="line"><span class="lineno"> 2034</span>    spec-&gt;<a class="code hl_variable" href="../../dc/da1/structSDL__AudioSpec.html#a0d8d1a70df87ecdc401321c1dd08dbdc">channels</a> = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a>)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels;</div>
<div class="line"><span class="lineno"> 2035</span>    spec-&gt;<a class="code hl_variable" href="../../dc/da1/structSDL__AudioSpec.html#ae37c634cac5807762f184c8d5d49fc2d">format</a> = <a class="code hl_enumvalue" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa999daad944ca55a7beb13ea29f8a851e">SDL_AUDIO_UNKNOWN</a>;</div>
<div class="line"><span class="lineno"> 2036</span> </div>
<div class="line"><span class="lineno"> 2037</span>    <span class="keywordflow">switch</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding) {</div>
<div class="line"><span class="lineno"> 2038</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#ad75b7cb347720665485bc557c4c8d039">MS_ADPCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 2039</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#abb09a7bdc9d114f6365cc9e389545f32">IMA_ADPCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 2040</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 2041</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>:</div>
<div class="line"><span class="lineno"> 2042</span>        <span class="comment">// These can be easily stored in the byte order of the system.</span></div>
<div class="line"><span class="lineno"> 2043</span>        spec-&gt;<a class="code hl_variable" href="../../dc/da1/structSDL__AudioSpec.html#ae37c634cac5807762f184c8d5d49fc2d">format</a> = <a class="code hl_enumvalue" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa4d9c289285278ad4680b2364715a5dae">SDL_AUDIO_S16</a>;</div>
<div class="line"><span class="lineno"> 2044</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2045</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a>:</div>
<div class="line"><span class="lineno"> 2046</span>        spec-&gt;<a class="code hl_variable" href="../../dc/da1/structSDL__AudioSpec.html#ae37c634cac5807762f184c8d5d49fc2d">format</a> = <a class="code hl_enumvalue" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa87ca767258992ed208696f7db093d647">SDL_AUDIO_F32LE</a>;</div>
<div class="line"><span class="lineno"> 2047</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2048</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>:</div>
<div class="line"><span class="lineno"> 2049</span>        <span class="keywordflow">switch</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample) {</div>
<div class="line"><span class="lineno"> 2050</span>        <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno"> 2051</span>            spec-&gt;<a class="code hl_variable" href="../../dc/da1/structSDL__AudioSpec.html#ae37c634cac5807762f184c8d5d49fc2d">format</a> = <a class="code hl_enumvalue" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa550e5dc7cffa1f1ea188871827809bd4">SDL_AUDIO_U8</a>;</div>
<div class="line"><span class="lineno"> 2052</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2053</span>        <span class="keywordflow">case</span> 16:</div>
<div class="line"><span class="lineno"> 2054</span>            spec-&gt;<a class="code hl_variable" href="../../dc/da1/structSDL__AudioSpec.html#ae37c634cac5807762f184c8d5d49fc2d">format</a> = <a class="code hl_enumvalue" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa4c1c98f1969baa7b1f2badb787429aec">SDL_AUDIO_S16LE</a>;</div>
<div class="line"><span class="lineno"> 2055</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2056</span>        <span class="keywordflow">case</span> 24: <span class="comment">// Has been shifted to 32 bits.</span></div>
<div class="line"><span class="lineno"> 2057</span>        <span class="keywordflow">case</span> 32:</div>
<div class="line"><span class="lineno"> 2058</span>            spec-&gt;<a class="code hl_variable" href="../../dc/da1/structSDL__AudioSpec.html#ae37c634cac5807762f184c8d5d49fc2d">format</a> = <a class="code hl_enumvalue" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa1f9865d4de6a2923314e334a067f5c6d">SDL_AUDIO_S32LE</a>;</div>
<div class="line"><span class="lineno"> 2059</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2060</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2061</span>            <span class="comment">// Just in case something unexpected happened in the checks.</span></div>
<div class="line"><span class="lineno"> 2062</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unexpected %u-bit PCM data format&quot;</span>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>)<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample);</div>
<div class="line"><span class="lineno"> 2063</span>        }</div>
<div class="line"><span class="lineno"> 2064</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 2065</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 2066</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unexpected data format&quot;</span>);</div>
<div class="line"><span class="lineno"> 2067</span>    }</div>
<div class="line"><span class="lineno"> 2068</span> </div>
<div class="line"><span class="lineno"> 2069</span>    <span class="comment">// Report the end position back to the cleanup code.</span></div>
<div class="line"><span class="lineno"> 2070</span>    <span class="keywordflow">if</span> (RIFFlengthknown) {</div>
<div class="line"><span class="lineno"> 2071</span>        chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> = RIFFend;</div>
<div class="line"><span class="lineno"> 2072</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno"> 2073</span>        chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> = lastchunkpos;</div>
<div class="line"><span class="lineno"> 2074</span>    }</div>
<div class="line"><span class="lineno"> 2075</span> </div>
<div class="line"><span class="lineno"> 2076</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 2077</span>}</div>
<div class="ttc" id="aSDL__audio_8h_html_a8bc066cbb55fff2896ced177d36b4d2fa1f9865d4de6a2923314e334a067f5c6d"><div class="ttname"><a href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa1f9865d4de6a2923314e334a067f5c6d">SDL_AUDIO_S32LE</a></div><div class="ttdeci">@ SDL_AUDIO_S32LE</div><div class="ttdef"><b>Definition</b> SDL_audio.h:232</div></div>
<div class="ttc" id="aSDL__audio_8h_html_a8bc066cbb55fff2896ced177d36b4d2fa4c1c98f1969baa7b1f2badb787429aec"><div class="ttname"><a href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa4c1c98f1969baa7b1f2badb787429aec">SDL_AUDIO_S16LE</a></div><div class="ttdeci">@ SDL_AUDIO_S16LE</div><div class="ttdef"><b>Definition</b> SDL_audio.h:228</div></div>
<div class="ttc" id="aSDL__audio_8h_html_a8bc066cbb55fff2896ced177d36b4d2fa4d9c289285278ad4680b2364715a5dae"><div class="ttname"><a href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa4d9c289285278ad4680b2364715a5dae">SDL_AUDIO_S16</a></div><div class="ttdeci">@ SDL_AUDIO_S16</div><div class="ttdef"><b>Definition</b> SDL_audio.h:243</div></div>
<div class="ttc" id="aSDL__audio_8h_html_a8bc066cbb55fff2896ced177d36b4d2fa550e5dc7cffa1f1ea188871827809bd4"><div class="ttname"><a href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa550e5dc7cffa1f1ea188871827809bd4">SDL_AUDIO_U8</a></div><div class="ttdeci">@ SDL_AUDIO_U8</div><div class="ttdef"><b>Definition</b> SDL_audio.h:224</div></div>
<div class="ttc" id="aSDL__audio_8h_html_a8bc066cbb55fff2896ced177d36b4d2fa87ca767258992ed208696f7db093d647"><div class="ttname"><a href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa87ca767258992ed208696f7db093d647">SDL_AUDIO_F32LE</a></div><div class="ttdeci">@ SDL_AUDIO_F32LE</div><div class="ttdef"><b>Definition</b> SDL_audio.h:236</div></div>
<div class="ttc" id="aSDL__audio_8h_html_a8bc066cbb55fff2896ced177d36b4d2fa999daad944ca55a7beb13ea29f8a851e"><div class="ttname"><a href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa999daad944ca55a7beb13ea29f8a851e">SDL_AUDIO_UNKNOWN</a></div><div class="ttdeci">@ SDL_AUDIO_UNKNOWN</div><div class="ttdef"><b>Definition</b> SDL_audio.h:223</div></div>
<div class="ttc" id="aSDL__events_8c_html_aaf054fc8fc84e7cfea3af51947014ef3"><div class="ttname"><a href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a></div><div class="ttdeci">SDL_AtomicInt count</div><div class="ttdef"><b>Definition</b> SDL_events.c:142</div></div>
<div class="ttc" id="aSDL__hints_8h_html_ad5a9d2f81ab9bbe5dc63396837b96afd"><div class="ttname"><a href="../../d9/d1c/SDL__hints_8h.html#ad5a9d2f81ab9bbe5dc63396837b96afd">SDL_HINT_WAVE_CHUNK_LIMIT</a></div><div class="ttdeci">#define SDL_HINT_WAVE_CHUNK_LIMIT</div><div class="ttdef"><b>Definition</b> SDL_hints.h:3988</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a7aba495850725f87a2e7428184d7eeda"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_ReadU32LE(SDL_IOStream *src, Uint32 *value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1515</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a83df3122f2f7de663ccc3991b138b546"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_ReadU8(SDL_IOStream *src, Uint8 *value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1449</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_ab4ba1c0aa896e9b98ee25dc6493051b1"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO</a></div><div class="ttdeci">SDL_DECLSPEC Sint64 SDLCALL SDL_TellIO(SDL_IOStream *context)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1329</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a02a9c84dfccf028f88101476c6cc4a9d"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a02a9c84dfccf028f88101476c6cc4a9d">SDL_PRIu32</a></div><div class="ttdeci">#define SDL_PRIu32</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:763</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a369cf412374208af05c51de8a326039f"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a369cf412374208af05c51de8a326039f">SDL_sscanf</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_sscanf(const char *text, const char *fmt,...)</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a419073146b1419899f722f48690875b9"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a419073146b1419899f722f48690875b9">SDL_MAX_SINT64</a></div><div class="ttdeci">#define SDL_MAX_SINT64</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:473</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a555c3fb0af314226bd9ef39a61aacfe1"><div class="ttname"><a href="#a555c3fb0af314226bd9ef39a61aacfe1">WaveReadFormat</a></div><div class="ttdeci">static bool WaveReadFormat(WaveFile *file)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1602</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a7ccff187951fea33da0b5a17e2786a44"><div class="ttname"><a href="#a7ccff187951fea33da0b5a17e2786a44">WaveCheckFormat</a></div><div class="ttdeci">static bool WaveCheckFormat(WaveFile *file, size_t datalength)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1670</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a7ef1a477aa6ccd8189d0185626978535"><div class="ttname"><a href="#a7ef1a477aa6ccd8189d0185626978535">WaveNextChunk</a></div><div class="ttdeci">static int WaveNextChunk(SDL_IOStream *src, WaveChunk *chunk)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1506</div></div>
<div class="ttc" id="aSDL__wave_8c_html_a95aa579d5b34ccc02a3e174550f9f13d"><div class="ttname"><a href="#a95aa579d5b34ccc02a3e174550f9f13d">LAW_Decode</a></div><div class="ttdeci">static bool LAW_Decode(WaveFile *file, Uint8 **audio_buf, Uint32 *audio_len)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1162</div></div>
<div class="ttc" id="aSDL__wave_8c_html_ab3836c42ce28e16317272b590c79190c"><div class="ttname"><a href="#ab3836c42ce28e16317272b590c79190c">WaveReadChunkData</a></div><div class="ttdeci">static int WaveReadChunkData(SDL_IOStream *src, WaveChunk *chunk)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1566</div></div>
<div class="ttc" id="aSDL__wave_8c_html_ab909d8c895556083a8893be1b1d630f4"><div class="ttname"><a href="#ab909d8c895556083a8893be1b1d630f4">IMA_ADPCM_Decode</a></div><div class="ttdeci">static bool IMA_ADPCM_Decode(WaveFile *file, Uint8 **audio_buf, Uint32 *audio_len)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1031</div></div>
<div class="ttc" id="aSDL__wave_8c_html_abed04a09158704527cace31d0e71a2b0"><div class="ttname"><a href="#abed04a09158704527cace31d0e71a2b0">MS_ADPCM_Decode</a></div><div class="ttdeci">static bool MS_ADPCM_Decode(WaveFile *file, Uint8 **audio_buf, Uint32 *audio_len)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:637</div></div>
<div class="ttc" id="aSDL__wave_8c_html_ac89e76af4a69b7011354078ab804ae5b"><div class="ttname"><a href="#ac89e76af4a69b7011354078ab804ae5b">WaveReadPartialChunkData</a></div><div class="ttdeci">static int WaveReadPartialChunkData(SDL_IOStream *src, WaveChunk *chunk, size_t length)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1538</div></div>
<div class="ttc" id="aSDL__wave_8c_html_addadd8fd88d0b5474a83bbba1f0f0a14"><div class="ttname"><a href="#addadd8fd88d0b5474a83bbba1f0f0a14">PCM_Decode</a></div><div class="ttdeci">static bool PCM_Decode(WaveFile *file, Uint8 **audio_buf, Uint32 *audio_len)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1398</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a231ae87a2701dff2ad68bbba3e12d2b1"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a231ae87a2701dff2ad68bbba3e12d2b1">WAVE</a></div><div class="ttdeci">#define WAVE</div><div class="ttdef"><b>Definition</b> SDL_wave.h:30</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a3dfb8ef0d04e938194da60b4420c7517"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a3dfb8ef0d04e938194da60b4420c7517">FMT</a></div><div class="ttdeci">#define FMT</div><div class="ttdef"><b>Definition</b> SDL_wave.h:35</div></div>
<div class="ttc" id="aSDL__wave_8h_html_a5ce0782f724d48035a91c87dbc04e503"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#a5ce0782f724d48035a91c87dbc04e503">RIFF</a></div><div class="ttdeci">#define RIFF</div><div class="ttdef"><b>Definition</b> SDL_wave.h:29</div></div>
<div class="ttc" id="aSDL__wave_8h_html_aad9ae913bdfab20dd94ad04ee2d5b045"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a></div><div class="ttdeci">#define DATA</div><div class="ttdef"><b>Definition</b> SDL_wave.h:36</div></div>
<div class="ttc" id="aSDL__wave_8h_html_acdb6ac44a66a1b7b2cc43aaa44c12daa"><div class="ttname"><a href="../../d1/d3b/SDL__wave_8h.html#acdb6ac44a66a1b7b2cc43aaa44c12daa">FACT</a></div><div class="ttdeci">#define FACT</div><div class="ttdef"><b>Definition</b> SDL_wave.h:31</div></div>
<div class="ttc" id="astructSDL__AudioSpec_html_a0d8d1a70df87ecdc401321c1dd08dbdc"><div class="ttname"><a href="../../dc/da1/structSDL__AudioSpec.html#a0d8d1a70df87ecdc401321c1dd08dbdc">SDL_AudioSpec::channels</a></div><div class="ttdeci">int channels</div><div class="ttdef"><b>Definition</b> SDL_audio.h:408</div></div>
<div class="ttc" id="astructSDL__AudioSpec_html_a8b823ce46fc2e448cf7e6fc141aff6b2"><div class="ttname"><a href="../../dc/da1/structSDL__AudioSpec.html#a8b823ce46fc2e448cf7e6fc141aff6b2">SDL_AudioSpec::freq</a></div><div class="ttdeci">int freq</div><div class="ttdef"><b>Definition</b> SDL_audio.h:409</div></div>
<div class="ttc" id="astructSDL__AudioSpec_html_ae37c634cac5807762f184c8d5d49fc2d"><div class="ttname"><a href="../../dc/da1/structSDL__AudioSpec.html#ae37c634cac5807762f184c8d5d49fc2d">SDL_AudioSpec::format</a></div><div class="ttdeci">SDL_AudioFormat format</div><div class="ttdef"><b>Definition</b> SDL_audio.h:407</div></div>
<div class="ttc" id="astructWaveChunk_html_aeba27efc1dfc2dbb1786af0e986916e8"><div class="ttname"><a href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">WaveChunk::fourcc</a></div><div class="ttdeci">Uint32 fourcc</div><div class="ttdef"><b>Definition</b> SDL_wave.h:97</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>, <a class="el" href="../../dc/da1/structSDL__AudioSpec.html#a0d8d1a70df87ecdc401321c1dd08dbdc">SDL_AudioSpec::channels</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../d4/d07/SDL__events_8c.html#aaf054fc8fc84e7cfea3af51947014ef3">count</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#aad9ae913bdfab20dd94ad04ee2d5b045">DATA</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#acdb6ac44a66a1b7b2cc43aaa44c12daa">FACT</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0825523a996f83173c1b8c4f5bc7ce40">WaveFile::fact</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a0e1427457d14818456ad19edf4ee5aa3">WaveFile::facthint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9ab0048ddbaec64269edc3d90d55143260">FactIgnore</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#af7e4cc73f74acf48d32901e813b399c9acb846d0aa024738f8194b200d6d9fc4f">FactNoHint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a3dfb8ef0d04e938194da60b4420c7517">FMT</a>, <a class="el" href="../../dc/da1/structSDL__AudioSpec.html#ae37c634cac5807762f184c8d5d49fc2d">SDL_AudioSpec::format</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">WaveChunk::fourcc</a>, <a class="el" href="../../dc/da1/structSDL__AudioSpec.html#a8b823ce46fc2e448cf7e6fc141aff6b2">SDL_AudioSpec::freq</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#abb09a7bdc9d114f6365cc9e389545f32">IMA_ADPCM_CODE</a>, <a class="el" href="#ab909d8c895556083a8893be1b1d630f4">IMA_ADPCM_Decode()</a>, <a class="el" href="#a95aa579d5b34ccc02a3e174550f9f13d">LAW_Decode()</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">WaveChunk::length</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad75b7cb347720665485bc557c4c8d039">MS_ADPCM_CODE</a>, <a class="el" href="#abed04a09158704527cace31d0e71a2b0">MS_ADPCM_Decode()</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>, <a class="el" href="#addadd8fd88d0b5474a83bbba1f0f0a14">PCM_Decode()</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">WaveChunk::position</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a5ce0782f724d48035a91c87dbc04e503">RIFF</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#ade1fb2f8ae43f6a0b1004e6af6554b6c">WaveFile::riffhint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa745e24f294add38389c073dda4457162">RiffSizeForce</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fab11e2fca0f89bff76694ce43203a22f9">RiffSizeIgnore</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fad3a69abed03166d4339afb9a5ddf1695">RiffSizeIgnoreZero</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#ad0dc6453840ef898fa54b4b6ab9d3b5fa77b1bdc3422b2df2c106694b2ab4fa4d">RiffSizeMaximum</a>, <a class="el" href="../../d8/df1/structWaveFact.html#a3318db6f6de89e1439880ad695ad1525">WaveFact::samplelength</a>, <a class="el" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa87ca767258992ed208696f7db093d647">SDL_AUDIO_F32LE</a>, <a class="el" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa4d9c289285278ad4680b2364715a5dae">SDL_AUDIO_S16</a>, <a class="el" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa4c1c98f1969baa7b1f2badb787429aec">SDL_AUDIO_S16LE</a>, <a class="el" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa1f9865d4de6a2923314e334a067f5c6d">SDL_AUDIO_S32LE</a>, <a class="el" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa550e5dc7cffa1f1ea188871827809bd4">SDL_AUDIO_U8</a>, <a class="el" href="../../dd/da1/SDL__audio_8h.html#a8bc066cbb55fff2896ced177d36b4d2fa999daad944ca55a7beb13ea29f8a851e">SDL_AUDIO_UNKNOWN</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a9bbeece5949f076e5130a4dda2a7ede5">SDL_FALLTHROUGH</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#a0ce2cc6915ec9242fa403afd834a4fea">SDL_GetHint()</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#ad5a9d2f81ab9bbe5dc63396837b96afd">SDL_HINT_WAVE_CHUNK_LIMIT</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a419073146b1419899f722f48690875b9">SDL_MAX_SINT64</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a1851171ad859663d305344316a73bd22">SDL_MAX_UINT32</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a02a9c84dfccf028f88101476c6cc4a9d">SDL_PRIu32</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a369cf412374208af05c51de8a326039f">SDL_sscanf()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a16b9e31a9558e1cbc9e417b0f35a7b8a">SDL_zero</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>, <a class="el" href="../../d8/df1/structWaveFact.html#a6407c0bd32f3edddc25c39dc86b7c1de">WaveFact::status</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#af95e10b847a374e9988d16218d6f5d78">WaveFile::trunchint</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725cae0a4bbaf8eab869ada91d152aab9e29a">TruncStrict</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a758ef98874f9d210f3d14132088f725ca93ff40d16c8ca28f5386f3d35fd81c15">TruncVeryStrict</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a231ae87a2701dff2ad68bbba3e12d2b1">WAVE</a>, <a class="el" href="#a7ccff187951fea33da0b5a17e2786a44">WaveCheckFormat()</a>, <a class="el" href="#a9ffe58deb6ede54eb238e21999406894">WaveFreeChunkData()</a>, <a class="el" href="#a7ef1a477aa6ccd8189d0185626978535">WaveNextChunk()</a>, <a class="el" href="#ab3836c42ce28e16317272b590c79190c">WaveReadChunkData()</a>, <a class="el" href="#a555c3fb0af314226bd9ef39a61aacfe1">WaveReadFormat()</a>, and <a class="el" href="#ac89e76af4a69b7011354078ab804ae5b">WaveReadPartialChunkData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../dd/da1/SDL__audio_8h.html#ad11ccca46f97b85df318d472cce92c65">SDL_LoadWAV_IO()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a74a2f92d8c663adf2d70ed3fc458c1b5_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a74a2f92d8c663adf2d70ed3fc458c1b5_icgraph.svg" width="434" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a7ef1a477aa6ccd8189d0185626978535" name="a7ef1a477aa6ccd8189d0185626978535"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ef1a477aa6ccd8189d0185626978535">&#9670;&#160;</a></span>WaveNextChunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int WaveNextChunk </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *</td>          <td class="paramname"><span class="paramname"><em>chunk</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1507</span>{</div>
<div class="line"><span class="lineno"> 1508</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> chunkheader[2];</div>
<div class="line"><span class="lineno"> 1509</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a> nextposition = chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> + chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>;</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>    <span class="comment">// Data is no longer valid after this function returns.</span></div>
<div class="line"><span class="lineno"> 1512</span>    <a class="code hl_function" href="#a9ffe58deb6ede54eb238e21999406894">WaveFreeChunkData</a>(chunk);</div>
<div class="line"><span class="lineno"> 1513</span> </div>
<div class="line"><span class="lineno"> 1514</span>    <span class="comment">// Error on overflows.</span></div>
<div class="line"><span class="lineno"> 1515</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a419073146b1419899f722f48690875b9">SDL_MAX_SINT64</a> - chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> &lt; chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> || <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#a419073146b1419899f722f48690875b9">SDL_MAX_SINT64</a> - 8 &lt; nextposition) {</div>
<div class="line"><span class="lineno"> 1516</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1517</span>    }</div>
<div class="line"><span class="lineno"> 1518</span> </div>
<div class="line"><span class="lineno"> 1519</span>    <span class="comment">// RIFF chunks have a 2-byte alignment. Skip padding byte.</span></div>
<div class="line"><span class="lineno"> 1520</span>    <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> &amp; 1) {</div>
<div class="line"><span class="lineno"> 1521</span>        nextposition++;</div>
<div class="line"><span class="lineno"> 1522</span>    }</div>
<div class="line"><span class="lineno"> 1523</span> </div>
<div class="line"><span class="lineno"> 1524</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(src, nextposition, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>) != nextposition) {</div>
<div class="line"><span class="lineno"> 1525</span>        <span class="comment">// Not sure how we ended up here. Just abort.</span></div>
<div class="line"><span class="lineno"> 1526</span>        <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno"> 1527</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO</a>(src, chunkheader, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>) * 2) != (<span class="keyword">sizeof</span>(<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>) * 2)) {</div>
<div class="line"><span class="lineno"> 1528</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1529</span>    }</div>
<div class="line"><span class="lineno"> 1530</span> </div>
<div class="line"><span class="lineno"> 1531</span>    chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">fourcc</a> = <a class="code hl_define" href="../../d6/de1/SDL__endian_8h.html#ad4812f5c332d0c632d7ec3275147e057">SDL_Swap32LE</a>(chunkheader[0]);</div>
<div class="line"><span class="lineno"> 1532</span>    chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a> = <a class="code hl_define" href="../../d6/de1/SDL__endian_8h.html#ad4812f5c332d0c632d7ec3275147e057">SDL_Swap32LE</a>(chunkheader[1]);</div>
<div class="line"><span class="lineno"> 1533</span>    chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a> = nextposition + 8;</div>
<div class="line"><span class="lineno"> 1534</span> </div>
<div class="line"><span class="lineno"> 1535</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1536</span>}</div>
<div class="ttc" id="aSDL__endian_8h_html_ad4812f5c332d0c632d7ec3275147e057"><div class="ttname"><a href="../../d6/de1/SDL__endian_8h.html#ad4812f5c332d0c632d7ec3275147e057">SDL_Swap32LE</a></div><div class="ttdeci">#define SDL_Swap32LE(x)</div><div class="ttdef"><b>Definition</b> SDL_endian.h:621</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_ae56aa3067acde8f3b368f8278aebc3a9"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO</a></div><div class="ttdeci">SDL_DECLSPEC size_t SDLCALL SDL_ReadIO(SDL_IOStream *context, void *ptr, size_t size)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1334</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d76/structWaveChunk.html#aeba27efc1dfc2dbb1786af0e986916e8">WaveChunk::fourcc</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">WaveChunk::length</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">WaveChunk::position</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a419073146b1419899f722f48690875b9">SDL_MAX_SINT64</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO()</a>, <a class="el" href="../../d6/de1/SDL__endian_8h.html#ad4812f5c332d0c632d7ec3275147e057">SDL_Swap32LE</a>, and <a class="el" href="#a9ffe58deb6ede54eb238e21999406894">WaveFreeChunkData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a7ef1a477aa6ccd8189d0185626978535_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a7ef1a477aa6ccd8189d0185626978535_icgraph.svg" width="602" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ab3836c42ce28e16317272b590c79190c" name="ab3836c42ce28e16317272b590c79190c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3836c42ce28e16317272b590c79190c">&#9670;&#160;</a></span>WaveReadChunkData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int WaveReadChunkData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *</td>          <td class="paramname"><span class="paramname"><em>chunk</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1567</span>{</div>
<div class="line"><span class="lineno"> 1568</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#ac89e76af4a69b7011354078ab804ae5b">WaveReadPartialChunkData</a>(src, chunk, chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>);</div>
<div class="line"><span class="lineno"> 1569</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">WaveChunk::length</a>, and <a class="el" href="#ac89e76af4a69b7011354078ab804ae5b">WaveReadPartialChunkData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_ab3836c42ce28e16317272b590c79190c_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_ab3836c42ce28e16317272b590c79190c_icgraph.svg" width="632" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a555c3fb0af314226bd9ef39a61aacfe1" name="a555c3fb0af314226bd9ef39a61aacfe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a555c3fb0af314226bd9ef39a61aacfe1">&#9670;&#160;</a></span>WaveReadFormat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> WaveReadFormat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddf/structWaveFile.html">WaveFile</a> *</td>          <td class="paramname"><span class="paramname"><em>file</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1603</span>{</div>
<div class="line"><span class="lineno"> 1604</span>    <a class="code hl_struct" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *chunk = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">chunk</a>;</div>
<div class="line"><span class="lineno"> 1605</span>    <a class="code hl_struct" href="../../de/dd8/structWaveFormat.html">WaveFormat</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = &amp;file-&gt;<a class="code hl_variable" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">format</a>;</div>
<div class="line"><span class="lineno"> 1606</span>    <a class="code hl_struct" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *fmtsrc;</div>
<div class="line"><span class="lineno"> 1607</span>    <span class="keywordtype">size_t</span> fmtlen = chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a>;</div>
<div class="line"><span class="lineno"> 1608</span> </div>
<div class="line"><span class="lineno"> 1609</span>    <span class="keywordflow">if</span> (fmtlen &gt; <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#ace3c96991b704ef4ec9279dea218cf00">SDL_MAX_SINT32</a>) {</div>
<div class="line"><span class="lineno"> 1610</span>        <span class="comment">// Limit given by SDL_IOFromConstMem.</span></div>
<div class="line"><span class="lineno"> 1611</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Data of WAVE fmt chunk too big&quot;</span>);</div>
<div class="line"><span class="lineno"> 1612</span>    }</div>
<div class="line"><span class="lineno"> 1613</span>    fmtsrc = <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#aa8bc9758d7d8b7617499e8999293f712">SDL_IOFromConstMem</a>(chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a>, (<span class="keywordtype">int</span>)chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a>);</div>
<div class="line"><span class="lineno"> 1614</span>    <span class="keywordflow">if</span> (!fmtsrc) {</div>
<div class="line"><span class="lineno"> 1615</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1616</span>    }</div>
<div class="line"><span class="lineno"> 1617</span> </div>
<div class="line"><span class="lineno"> 1618</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(fmtsrc, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;formattag) ||</div>
<div class="line"><span class="lineno"> 1619</span>        !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(fmtsrc, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channels) ||</div>
<div class="line"><span class="lineno"> 1620</span>        !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(fmtsrc, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;frequency) ||</div>
<div class="line"><span class="lineno"> 1621</span>        !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(fmtsrc, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;byterate) ||</div>
<div class="line"><span class="lineno"> 1622</span>        !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(fmtsrc, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;blockalign)) {</div>
<div class="line"><span class="lineno"> 1623</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1624</span>    }</div>
<div class="line"><span class="lineno"> 1625</span>    <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;formattag;</div>
<div class="line"><span class="lineno"> 1626</span> </div>
<div class="line"><span class="lineno"> 1627</span>    <span class="comment">// This is PCM specific in the first version of the specification.</span></div>
<div class="line"><span class="lineno"> 1628</span>    <span class="keywordflow">if</span> (fmtlen &gt;= 16) {</div>
<div class="line"><span class="lineno"> 1629</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(fmtsrc, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;bitspersample)) {</div>
<div class="line"><span class="lineno"> 1630</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1631</span>        }</div>
<div class="line"><span class="lineno"> 1632</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>) {</div>
<div class="line"><span class="lineno"> 1633</span>        <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO</a>(fmtsrc);</div>
<div class="line"><span class="lineno"> 1634</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Missing wBitsPerSample field in WAVE fmt chunk&quot;</span>);</div>
<div class="line"><span class="lineno"> 1635</span>    }</div>
<div class="line"><span class="lineno"> 1636</span> </div>
<div class="line"><span class="lineno"> 1637</span>    <span class="comment">// The earlier versions also don&#39;t have this field.</span></div>
<div class="line"><span class="lineno"> 1638</span>    <span class="keywordflow">if</span> (fmtlen &gt;= 18) {</div>
<div class="line"><span class="lineno"> 1639</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(fmtsrc, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;extsize)) {</div>
<div class="line"><span class="lineno"> 1640</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1641</span>        }</div>
<div class="line"><span class="lineno"> 1642</span>    }</div>
<div class="line"><span class="lineno"> 1643</span> </div>
<div class="line"><span class="lineno"> 1644</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;formattag == <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#aa92c66da4d85adbb169f0781c629c872">EXTENSIBLE_CODE</a>) {</div>
<div class="line"><span class="lineno"> 1645</span>        <span class="comment">/* note that this ignores channel masks, smaller valid bit counts</span></div>
<div class="line"><span class="lineno"> 1646</span><span class="comment">         * inside a larger container, and most subtypes. This is just enough</span></div>
<div class="line"><span class="lineno"> 1647</span><span class="comment">         * to get things that didn&#39;t really _need_ WAVE_FORMAT_EXTENSIBLE</span></div>
<div class="line"><span class="lineno"> 1648</span><span class="comment">         * to be useful working when they use this format flag.</span></div>
<div class="line"><span class="lineno"> 1649</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno"> 1650</span> </div>
<div class="line"><span class="lineno"> 1651</span>        <span class="comment">// Extensible header must be at least 22 bytes.</span></div>
<div class="line"><span class="lineno"> 1652</span>        <span class="keywordflow">if</span> (fmtlen &lt; 40 || format-&gt;extsize &lt; 22) {</div>
<div class="line"><span class="lineno"> 1653</span>            <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO</a>(fmtsrc);</div>
<div class="line"><span class="lineno"> 1654</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Extensible WAVE header too small&quot;</span>);</div>
<div class="line"><span class="lineno"> 1655</span>        }</div>
<div class="line"><span class="lineno"> 1656</span> </div>
<div class="line"><span class="lineno"> 1657</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(fmtsrc, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;validsamplebits) ||</div>
<div class="line"><span class="lineno"> 1658</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(fmtsrc, &amp;<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;channelmask) ||</div>
<div class="line"><span class="lineno"> 1659</span>            <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO</a>(fmtsrc, <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;subformat, 16) != 16) {</div>
<div class="line"><span class="lineno"> 1660</span>        }</div>
<div class="line"><span class="lineno"> 1661</span>        <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;samplesperblock = <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;validsamplebits;</div>
<div class="line"><span class="lineno"> 1662</span>        <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>-&gt;encoding = <a class="code hl_function" href="#abbd0579df2d985660595e279c11e4381">WaveGetFormatGUIDEncoding</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>);</div>
<div class="line"><span class="lineno"> 1663</span>    }</div>
<div class="line"><span class="lineno"> 1664</span> </div>
<div class="line"><span class="lineno"> 1665</span>    <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO</a>(fmtsrc);</div>
<div class="line"><span class="lineno"> 1666</span> </div>
<div class="line"><span class="lineno"> 1667</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1668</span>}</div>
<div class="ttc" id="aSDL__iostream_8h_html_a2930bc8a8c2a4a99f5486a89a2ae4395"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_ReadU16LE(SDL_IOStream *src, Uint16 *value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1477</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_aa8bc9758d7d8b7617499e8999293f712"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#aa8bc9758d7d8b7617499e8999293f712">SDL_IOFromConstMem</a></div><div class="ttdeci">SDL_DECLSPEC SDL_IOStream *SDLCALL SDL_IOFromConstMem(const void *mem, size_t size)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:967</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_ace3c96991b704ef4ec9279dea218cf00"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#ace3c96991b704ef4ec9279dea218cf00">SDL_MAX_SINT32</a></div><div class="ttdeci">#define SDL_MAX_SINT32</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:453</div></div>
<div class="ttc" id="aSDL__wave_8c_html_abbd0579df2d985660595e279c11e4381"><div class="ttname"><a href="#abbd0579df2d985660595e279c11e4381">WaveGetFormatGUIDEncoding</a></div><div class="ttdeci">static Uint16 WaveGetFormatGUIDEncoding(WaveFormat *format)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1591</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/ddf/structWaveFile.html#a0c85227f8e4b5b237909d0406d701941">WaveFile::chunk</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#aa92c66da4d85adbb169f0781c629c872">EXTENSIBLE_CODE</a>, <a class="el" href="../../d9/ddf/structWaveFile.html#a75ce19b0f26aa62f4bdb818902fe8335">WaveFile::format</a>, <a class="el" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#aa8bc9758d7d8b7617499e8999293f712">SDL_IOFromConstMem()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ace3c96991b704ef4ec9279dea218cf00">SDL_MAX_SINT32</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>, and <a class="el" href="#abbd0579df2d985660595e279c11e4381">WaveGetFormatGUIDEncoding()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a555c3fb0af314226bd9ef39a61aacfe1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_a555c3fb0af314226bd9ef39a61aacfe1_icgraph.svg" width="607" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ac89e76af4a69b7011354078ab804ae5b" name="ac89e76af4a69b7011354078ab804ae5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac89e76af4a69b7011354078ab804ae5b">&#9670;&#160;</a></span>WaveReadPartialChunkData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int WaveReadPartialChunkData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d3/d76/structWaveChunk.html">WaveChunk</a> *</td>          <td class="paramname"><span class="paramname"><em>chunk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>length</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1539</span>{</div>
<div class="line"><span class="lineno"> 1540</span>    <a class="code hl_function" href="#a9ffe58deb6ede54eb238e21999406894">WaveFreeChunkData</a>(chunk);</div>
<div class="line"><span class="lineno"> 1541</span> </div>
<div class="line"><span class="lineno"> 1542</span>    <span class="keywordflow">if</span> (length &gt; chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>) {</div>
<div class="line"><span class="lineno"> 1543</span>        length = chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">length</a>;</div>
<div class="line"><span class="lineno"> 1544</span>    }</div>
<div class="line"><span class="lineno"> 1545</span> </div>
<div class="line"><span class="lineno"> 1546</span>    <span class="keywordflow">if</span> (length &gt; 0) {</div>
<div class="line"><span class="lineno"> 1547</span>        chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a> = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc</a>(length);</div>
<div class="line"><span class="lineno"> 1548</span>        <span class="keywordflow">if</span> (!chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a>) {</div>
<div class="line"><span class="lineno"> 1549</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1550</span>        }</div>
<div class="line"><span class="lineno"> 1551</span> </div>
<div class="line"><span class="lineno"> 1552</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(src, chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a>, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>) != chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">position</a>) {</div>
<div class="line"><span class="lineno"> 1553</span>            <span class="comment">// Not sure how we ended up here. Just abort.</span></div>
<div class="line"><span class="lineno"> 1554</span>            <span class="keywordflow">return</span> -2;</div>
<div class="line"><span class="lineno"> 1555</span>        }</div>
<div class="line"><span class="lineno"> 1556</span> </div>
<div class="line"><span class="lineno"> 1557</span>        chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> = <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO</a>(src, chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">data</a>, length);</div>
<div class="line"><span class="lineno"> 1558</span>        <span class="keywordflow">if</span> (chunk-&gt;<a class="code hl_variable" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">size</a> != length) {</div>
<div class="line"><span class="lineno"> 1559</span>            <span class="comment">// Expected to be handled by the caller.</span></div>
<div class="line"><span class="lineno"> 1560</span>        }</div>
<div class="line"><span class="lineno"> 1561</span>    }</div>
<div class="line"><span class="lineno"> 1562</span> </div>
<div class="line"><span class="lineno"> 1563</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno"> 1564</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d3/d76/structWaveChunk.html#a3af3c0a9a46c80d933c04df3b399087b">WaveChunk::data</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a3d9b8bce7aaffec3deed4962f95527f2">WaveChunk::length</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a039e0a377a3fdf126bf281ada1cec414">WaveChunk::position</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#a40fd54152a5f65f91e9249c458c99afa">SDL_malloc()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO()</a>, <a class="el" href="../../d3/d76/structWaveChunk.html#a86ae892ec8159655207a2b91c74be3bf">WaveChunk::size</a>, and <a class="el" href="#a9ffe58deb6ede54eb238e21999406894">WaveFreeChunkData()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a74a2f92d8c663adf2d70ed3fc458c1b5">WaveLoad()</a>, and <a class="el" href="#ab3836c42ce28e16317272b590c79190c">WaveReadChunkData()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_ac89e76af4a69b7011354078ab804ae5b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d4/dac/SDL__wave_8c_ac89e76af4a69b7011354078ab804ae5b_icgraph.svg" width="100%" height="300"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a name="doc-var-members" id="doc-var-members"></a><h2 id="header-doc-var-members" class="groupheader">Variable Documentation</h2>
<a id="a573d42a63b54b44cb325377b8f22b015" name="a573d42a63b54b44cb325377b8f22b015"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a573d42a63b54b44cb325377b8f22b015">&#9670;&#160;</a></span>extensible_guids</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd3/structWaveExtensibleGUID.html">WaveExtensibleGUID</a> extensible_guids[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    { 0x0001 ,  {   ( 0x0001 ) &amp; 0xff, ( 0x0001 ) &gt;&gt; 8, 0, 0, 0, 0, 16, 0, 128, 0, 0, 170, 0, 56, 155, 113   } },</div>
<div class="line">    { 0x0002 ,  {   ( 0x0002 ) &amp; 0xff, ( 0x0002 ) &gt;&gt; 8, 0, 0, 0, 0, 16, 0, 128, 0, 0, 170, 0, 56, 155, 113   } },</div>
<div class="line">    { 0x0003 ,  {   ( 0x0003 ) &amp; 0xff, ( 0x0003 ) &gt;&gt; 8, 0, 0, 0, 0, 16, 0, 128, 0, 0, 170, 0, 56, 155, 113   } },</div>
<div class="line">    { 0x0006 ,  {   ( 0x0006 ) &amp; 0xff, ( 0x0006 ) &gt;&gt; 8, 0, 0, 0, 0, 16, 0, 128, 0, 0, 170, 0, 56, 155, 113   } },</div>
<div class="line">    { 0x0007 ,  {   ( 0x0007 ) &amp; 0xff, ( 0x0007 ) &gt;&gt; 8, 0, 0, 0, 0, 16, 0, 128, 0, 0, 170, 0, 56, 155, 113   } },</div>
<div class="line">    { 0x0011 ,  {   ( 0x0011 ) &amp; 0xff, ( 0x0011 ) &gt;&gt; 8, 0, 0, 0, 0, 16, 0, 128, 0, 0, 170, 0, 56, 155, 113   } }</div>
<div class="line">}</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="lineno"> 1582</span>                                               {</div>
<div class="line"><span class="lineno"> 1583</span>    { <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>, <a class="code hl_define" href="#a2c67e72866d5441926c43de82806b672">WAVE_FORMATTAG_GUID</a>(<a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a1338aecfb8aa534fd9ba916965c035c4">PCM_CODE</a>) },</div>
<div class="line"><span class="lineno"> 1584</span>    { <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#ad75b7cb347720665485bc557c4c8d039">MS_ADPCM_CODE</a>, <a class="code hl_define" href="#a2c67e72866d5441926c43de82806b672">WAVE_FORMATTAG_GUID</a>(<a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#ad75b7cb347720665485bc557c4c8d039">MS_ADPCM_CODE</a>) },</div>
<div class="line"><span class="lineno"> 1585</span>    { <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a>, <a class="code hl_define" href="#a2c67e72866d5441926c43de82806b672">WAVE_FORMATTAG_GUID</a>(<a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a8b78910dad6c1a66db8c650b5f07f422">IEEE_FLOAT_CODE</a>) },</div>
<div class="line"><span class="lineno"> 1586</span>    { <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>, <a class="code hl_define" href="#a2c67e72866d5441926c43de82806b672">WAVE_FORMATTAG_GUID</a>(<a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a2c7f1d6de8b83f8b7693cf4ede7b0d55">ALAW_CODE</a>) },</div>
<div class="line"><span class="lineno"> 1587</span>    { <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>, <a class="code hl_define" href="#a2c67e72866d5441926c43de82806b672">WAVE_FORMATTAG_GUID</a>(<a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#a6b0e56c60f62a3f3bf39cf3f4a20e4ff">MULAW_CODE</a>) },</div>
<div class="line"><span class="lineno"> 1588</span>    { <a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#abb09a7bdc9d114f6365cc9e389545f32">IMA_ADPCM_CODE</a>, <a class="code hl_define" href="#a2c67e72866d5441926c43de82806b672">WAVE_FORMATTAG_GUID</a>(<a class="code hl_define" href="../../d1/d3b/SDL__wave_8h.html#abb09a7bdc9d114f6365cc9e389545f32">IMA_ADPCM_CODE</a>) }</div>
<div class="line"><span class="lineno"> 1589</span>};</div>
<div class="ttc" id="aSDL__wave_8c_html_a2c67e72866d5441926c43de82806b672"><div class="ttname"><a href="#a2c67e72866d5441926c43de82806b672">WAVE_FORMATTAG_GUID</a></div><div class="ttdeci">#define WAVE_FORMATTAG_GUID(tag)</div><div class="ttdef"><b>Definition</b> SDL_wave.c:1578</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#abbd0579df2d985660595e279c11e4381">WaveGetFormatGUIDEncoding()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../dir_50980eb3d68ca1a5cefc02d16026552f.html">SDL-main</a></li><li class="navelem"><a href="../../dir_93dff7e69d031a1b18a384e0d03ab66f.html">src</a></li><li class="navelem"><a href="../../dir_3c50f8c1dc91c41718d430096e8986ba.html">audio</a></li><li class="navelem"><a href="../../d4/dac/SDL__wave_8c.html">SDL_wave.c</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for SDL3 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
