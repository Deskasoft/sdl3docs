<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SDL3: SDL-main/src/video/SDL_bmp.c File Reference</title>
<link rel="icon" href="../../logo.png" type="image/x-icon" />
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<script type="text/javascript" src="../../darkmode_toggle.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="../../custom.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="../../custom-alternative.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">SDL3<span id="projectnumber">&#160;3.2.18</span>
   </div>
   <div id="projectbrief">SDL</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('d8/dc3/SDL__bmp_8c.html','../../',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">SDL_bmp.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="../../d9/d4e/SDL__internal_8h.html">SDL_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d0/d71/SDL__pixels__c_8h.html">SDL_pixels_c.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="../../d5/d81/SDL__surface__c_8h.html">SDL_surface_c.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for SDL_bmp.c:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../db/ded/SDL__bmp_8c__incl.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a0e10b199170996b8388f8b86f4a6495e" id="r_a0e10b199170996b8388f8b86f4a6495e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0e10b199170996b8388f8b86f4a6495e">BI_BITFIELDS</a>&#160;&#160;&#160;3</td></tr>
<tr class="memitem:a30c89822a72c59b21109955f16d74e29" id="r_a30c89822a72c59b21109955f16d74e29"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a30c89822a72c59b21109955f16d74e29">BI_RGB</a>&#160;&#160;&#160;0</td></tr>
<tr class="memitem:a03e0233815cd4bb40ec960472628233e" id="r_a03e0233815cd4bb40ec960472628233e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03e0233815cd4bb40ec960472628233e">BI_RLE4</a>&#160;&#160;&#160;2</td></tr>
<tr class="memitem:acac191784824d6699b54f356ecb90bb2" id="r_acac191784824d6699b54f356ecb90bb2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acac191784824d6699b54f356ecb90bb2">BI_RLE8</a>&#160;&#160;&#160;1</td></tr>
<tr class="memitem:afe00fa7cbd726702f383757388f0b7cf" id="r_afe00fa7cbd726702f383757388f0b7cf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe00fa7cbd726702f383757388f0b7cf">COPY_PIXEL</a>(<a class="el" href="../../d3/dda/eglext_8h.html#acc11468aee54b60420a8f429a6619ab3">x</a>)</td></tr>
<tr class="memitem:a5101a7f6f0dc4d42a99eb9937d9b9879" id="r_a5101a7f6f0dc4d42a99eb9937d9b9879"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5101a7f6f0dc4d42a99eb9937d9b9879">LCS_GM_GRAPHICS</a>&#160;&#160;&#160;0x00000002</td></tr>
<tr class="memitem:ae305cb6a1964b272c6c7ba44c5834fa9" id="r_ae305cb6a1964b272c6c7ba44c5834fa9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae305cb6a1964b272c6c7ba44c5834fa9">LCS_sRGB</a>&#160;&#160;&#160;0x73524742</td></tr>
<tr class="memitem:ae275443bc3bc8dd3256033a17e889bcb" id="r_ae275443bc3bc8dd3256033a17e889bcb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae275443bc3bc8dd3256033a17e889bcb">LCS_WINDOWS_COLOR_SPACE</a>&#160;&#160;&#160;0x57696E20</td></tr>
<tr class="memitem:ac6881bd01820adfc74a9e93f005cc107" id="r_ac6881bd01820adfc74a9e93f005cc107"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac6881bd01820adfc74a9e93f005cc107">SAVE_32BIT_BMP</a></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a914867d2ef5459be8908dbdc8b296ee4" id="r_a914867d2ef5459be8908dbdc8b296ee4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a914867d2ef5459be8908dbdc8b296ee4">CorrectAlphaChannel</a> (<a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *<a class="el" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>)</td></tr>
<tr class="memitem:affe9ce3234fbf5aedbb0ceac8186bf6a" id="r_affe9ce3234fbf5aedbb0ceac8186bf6a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#affe9ce3234fbf5aedbb0ceac8186bf6a">readRlePixels</a> (<a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *<a class="el" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>, <a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *src, int isRle8)</td></tr>
<tr class="memitem:adb17cfdf4bf377079462ffa3701eeb76" id="r_adb17cfdf4bf377079462ffa3701eeb76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb17cfdf4bf377079462ffa3701eeb76">SDL_LoadBMP</a> (const char *file)</td></tr>
<tr class="memitem:a46ec958b331ad4389a21b6684b366e32" id="r_a46ec958b331ad4389a21b6684b366e32"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a46ec958b331ad4389a21b6684b366e32">SDL_LoadBMP_IO</a> (<a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *src, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> closeio)</td></tr>
<tr class="memitem:a2ec09df87ef99ab18dc7ba5e61be57d1" id="r_a2ec09df87ef99ab18dc7ba5e61be57d1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2ec09df87ef99ab18dc7ba5e61be57d1">SDL_SaveBMP</a> (<a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *<a class="el" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>, const char *file)</td></tr>
<tr class="memitem:af0a2eb4b50ca5db2da58753f5c52708f" id="r_af0a2eb4b50ca5db2da58753f5c52708f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0a2eb4b50ca5db2da58753f5c52708f">SDL_SaveBMP_IO</a> (<a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *<a class="el" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>, <a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *dst, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> closeio)</td></tr>
</table>
<a name="doc-define-members" id="doc-define-members"></a><h2 id="header-doc-define-members" class="groupheader">Macro Definition Documentation</h2>
<a id="a0e10b199170996b8388f8b86f4a6495e" name="a0e10b199170996b8388f8b86f4a6495e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e10b199170996b8388f8b86f4a6495e">&#9670;&#160;</a></span>BI_BITFIELDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BI_BITFIELDS&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../db/dac/SDL__surface_8h.html#aee71ef77cd301f805afa9c9b750ccbf6">SDL_LoadBMP_IO()</a>, and <a class="el" href="../../db/dac/SDL__surface_8h.html#a75ef0f6584394388d461a1a5cd2ab904">SDL_SaveBMP_IO()</a>.</p>

</div>
</div>
<a id="a30c89822a72c59b21109955f16d74e29" name="a30c89822a72c59b21109955f16d74e29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30c89822a72c59b21109955f16d74e29">&#9670;&#160;</a></span>BI_RGB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BI_RGB&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../d7/dcf/SDL__surface__utils_8c.html#a8b351e80fcc26a222127946a116e8332">CreateIconFromSurface()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#aee71ef77cd301f805afa9c9b750ccbf6">SDL_LoadBMP_IO()</a>, and <a class="el" href="../../db/dac/SDL__surface_8h.html#a75ef0f6584394388d461a1a5cd2ab904">SDL_SaveBMP_IO()</a>.</p>

</div>
</div>
<a id="a03e0233815cd4bb40ec960472628233e" name="a03e0233815cd4bb40ec960472628233e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03e0233815cd4bb40ec960472628233e">&#9670;&#160;</a></span>BI_RLE4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BI_RLE4&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../db/dac/SDL__surface_8h.html#aee71ef77cd301f805afa9c9b750ccbf6">SDL_LoadBMP_IO()</a>.</p>

</div>
</div>
<a id="acac191784824d6699b54f356ecb90bb2" name="acac191784824d6699b54f356ecb90bb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acac191784824d6699b54f356ecb90bb2">&#9670;&#160;</a></span>BI_RLE8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BI_RLE8&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../db/dac/SDL__surface_8h.html#aee71ef77cd301f805afa9c9b750ccbf6">SDL_LoadBMP_IO()</a>.</p>

</div>
</div>
<a id="afe00fa7cbd726702f383757388f0b7cf" name="afe00fa7cbd726702f383757388f0b7cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe00fa7cbd726702f383757388f0b7cf">&#9670;&#160;</a></span>COPY_PIXEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COPY_PIXEL</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em><a class="el" href="../../d3/dda/eglext_8h.html#acc11468aee54b60420a8f429a6619ab3">x</a></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    spot = &amp;bits[ofs++];             \</div>
<div class="line">    if (spot &gt;= start &amp;&amp; spot &lt; end) \</div>
<div class="line">        *spot = (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#acc11468aee54b60420a8f429a6619ab3">x</a>)</div>
<div class="ttc" id="aeglext_8h_html_acc11468aee54b60420a8f429a6619ab3"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#acc11468aee54b60420a8f429a6619ab3">x</a></div><div class="ttdeci">EGLSurface EGLint x</div><div class="ttdef"><b>Definition</b> eglext.h:1201</div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#affe9ce3234fbf5aedbb0ceac8186bf6a">readRlePixels()</a>.</p>

</div>
</div>
<a id="a5101a7f6f0dc4d42a99eb9937d9b9879" name="a5101a7f6f0dc4d42a99eb9937d9b9879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5101a7f6f0dc4d42a99eb9937d9b9879">&#9670;&#160;</a></span>LCS_GM_GRAPHICS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LCS_GM_GRAPHICS&#160;&#160;&#160;0x00000002</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../db/dac/SDL__surface_8h.html#a75ef0f6584394388d461a1a5cd2ab904">SDL_SaveBMP_IO()</a>.</p>

</div>
</div>
<a id="ae305cb6a1964b272c6c7ba44c5834fa9" name="ae305cb6a1964b272c6c7ba44c5834fa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae305cb6a1964b272c6c7ba44c5834fa9">&#9670;&#160;</a></span>LCS_sRGB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LCS_sRGB&#160;&#160;&#160;0x73524742</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="../../db/dac/SDL__surface_8h.html#a75ef0f6584394388d461a1a5cd2ab904">SDL_SaveBMP_IO()</a>.</p>

</div>
</div>
<a id="ae275443bc3bc8dd3256033a17e889bcb" name="ae275443bc3bc8dd3256033a17e889bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae275443bc3bc8dd3256033a17e889bcb">&#9670;&#160;</a></span>LCS_WINDOWS_COLOR_SPACE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LCS_WINDOWS_COLOR_SPACE&#160;&#160;&#160;0x57696E20</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac6881bd01820adfc74a9e93f005cc107" name="ac6881bd01820adfc74a9e93f005cc107"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6881bd01820adfc74a9e93f005cc107">&#9670;&#160;</a></span>SAVE_32BIT_BMP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SAVE_32BIT_BMP</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Function Documentation</h2>
<a id="a914867d2ef5459be8908dbdc8b296ee4" name="a914867d2ef5459be8908dbdc8b296ee4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a914867d2ef5459be8908dbdc8b296ee4">&#9670;&#160;</a></span>CorrectAlphaChannel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dda/eglext_8h.html#a0f7193911e632cd84da4082d5c628fe3">void</a> CorrectAlphaChannel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *</td>          <td class="paramname"><span class="paramname"><em>surface</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  152</span>{</div>
<div class="line"><span class="lineno">  153</span>    <span class="comment">// Check to see if there is any alpha channel data</span></div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordtype">bool</span> hasAlpha = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  155</span><span class="preprocessor">#if SDL_BYTEORDER == SDL_BIG_ENDIAN</span></div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordtype">int</span> alphaChannelOffset = 0;</div>
<div class="line"><span class="lineno">  157</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordtype">int</span> alphaChannelOffset = 3;</div>
<div class="line"><span class="lineno">  159</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  160</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *alpha = ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pixels) + alphaChannelOffset;</div>
<div class="line"><span class="lineno">  161</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *end = alpha + <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;h * <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pitch;</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">while</span> (alpha &lt; end) {</div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">if</span> (*alpha != 0) {</div>
<div class="line"><span class="lineno">  165</span>            hasAlpha = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  166</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  167</span>        }</div>
<div class="line"><span class="lineno">  168</span>        alpha += 4;</div>
<div class="line"><span class="lineno">  169</span>    }</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">if</span> (!hasAlpha) {</div>
<div class="line"><span class="lineno">  172</span>        alpha = ((<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pixels) + alphaChannelOffset;</div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">while</span> (alpha &lt; end) {</div>
<div class="line"><span class="lineno">  174</span>            *alpha = <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#a5d933eb0233ca33d598800f33ef43376">SDL_ALPHA_OPAQUE</a>;</div>
<div class="line"><span class="lineno">  175</span>            alpha += 4;</div>
<div class="line"><span class="lineno">  176</span>        }</div>
<div class="line"><span class="lineno">  177</span>    }</div>
<div class="line"><span class="lineno">  178</span>}</div>
<div class="ttc" id="aSDL__pixels_8h_html_a5d933eb0233ca33d598800f33ef43376"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#a5d933eb0233ca33d598800f33ef43376">SDL_ALPHA_OPAQUE</a></div><div class="ttdeci">#define SDL_ALPHA_OPAQUE</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:100</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a2944638813a090aa23e62f4da842c3e2"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a></div><div class="ttdeci">uint8_t Uint8</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:425</div></div>
<div class="ttc" id="aegl_8h_html_a0720952aa1caded45b5bcdce589663a9"><div class="ttname"><a href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a></div><div class="ttdeci">EGLSurface surface</div><div class="ttdef"><b>Definition</b> egl.h:107</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#a5d933eb0233ca33d598800f33ef43376">SDL_ALPHA_OPAQUE</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/dac/SDL__surface_8h.html#aee71ef77cd301f805afa9c9b750ccbf6">SDL_LoadBMP_IO()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/dc3/SDL__bmp_8c_a914867d2ef5459be8908dbdc8b296ee4_icgraph.svg" width="496" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="affe9ce3234fbf5aedbb0ceac8186bf6a" name="affe9ce3234fbf5aedbb0ceac8186bf6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affe9ce3234fbf5aedbb0ceac8186bf6a">&#9670;&#160;</a></span>readRlePixels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> readRlePixels </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *</td>          <td class="paramname"><span class="paramname"><em>surface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>isRle8</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   67</span>{</div>
<div class="line"><span class="lineno">   68</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno">   69</span><span class="comment">    | Sets the surface pixels from src.  A bmp image is upside down.</span></div>
<div class="line"><span class="lineno">   70</span><span class="comment">    */</span></div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordtype">int</span> pitch = <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pitch;</div>
<div class="line"><span class="lineno">   72</span>    <span class="keywordtype">int</span> <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0d842f01fe1d721abe41013b29bf839b">height</a> = <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;h;</div>
<div class="line"><span class="lineno">   73</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *start = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pixels;</div>
<div class="line"><span class="lineno">   74</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *end = start + (<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0d842f01fe1d721abe41013b29bf839b">height</a> * pitch);</div>
<div class="line"><span class="lineno">   75</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *bits = end - pitch, *spot;</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordtype">int</span> ofs = 0;</div>
<div class="line"><span class="lineno">   77</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> ch;</div>
<div class="line"><span class="lineno">   78</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> needsPad;</div>
<div class="line"><span class="lineno">   79</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> pixels_per_byte = (isRle8 ? 1 : 2);</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span><span class="preprocessor">#define COPY_PIXEL(x)                \</span></div>
<div class="line"><span class="lineno">   82</span><span class="preprocessor">    spot = &amp;bits[ofs++];             \</span></div>
<div class="line"><span class="lineno">   83</span><span class="preprocessor">    if (spot &gt;= start &amp;&amp; spot &lt; end) \</span></div>
<div class="line"><span class="lineno">   84</span><span class="preprocessor">        *spot = (x)</span></div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">for</span> (;;) {</div>
<div class="line"><span class="lineno">   87</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;ch)) {</div>
<div class="line"><span class="lineno">   88</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   89</span>        }</div>
<div class="line"><span class="lineno">   90</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">   91</span><span class="comment">        | encoded mode starts with a run length, and then a byte</span></div>
<div class="line"><span class="lineno">   92</span><span class="comment">        | with two colour indexes to alternate between for the run</span></div>
<div class="line"><span class="lineno">   93</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">if</span> (ch) {</div>
<div class="line"><span class="lineno">   95</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> pixelvalue;</div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;pixelvalue)) {</div>
<div class="line"><span class="lineno">   97</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   98</span>            }</div>
<div class="line"><span class="lineno">   99</span>            ch /= pixels_per_byte;</div>
<div class="line"><span class="lineno">  100</span>            <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  101</span>                <a class="code hl_define" href="#afe00fa7cbd726702f383757388f0b7cf">COPY_PIXEL</a>(pixelvalue);</div>
<div class="line"><span class="lineno">  102</span>            } <span class="keywordflow">while</span> (--ch);</div>
<div class="line"><span class="lineno">  103</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  104</span>            <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  105</span><span class="comment">            | A leading zero is an escape; it may signal the end of the bitmap,</span></div>
<div class="line"><span class="lineno">  106</span><span class="comment">            | a cursor move, or some absolute data.</span></div>
<div class="line"><span class="lineno">  107</span><span class="comment">            | zero tag may be absolute mode or an escape</span></div>
<div class="line"><span class="lineno">  108</span><span class="comment">            */</span></div>
<div class="line"><span class="lineno">  109</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;ch)) {</div>
<div class="line"><span class="lineno">  110</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  111</span>            }</div>
<div class="line"><span class="lineno">  112</span>            <span class="keywordflow">switch</span> (ch) {</div>
<div class="line"><span class="lineno">  113</span>            <span class="keywordflow">case</span> 0: <span class="comment">// end of line</span></div>
<div class="line"><span class="lineno">  114</span>                ofs = 0;</div>
<div class="line"><span class="lineno">  115</span>                bits -= pitch; <span class="comment">// go to previous</span></div>
<div class="line"><span class="lineno">  116</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  117</span>            <span class="keywordflow">case</span> 1:               <span class="comment">// end of bitmap</span></div>
<div class="line"><span class="lineno">  118</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="comment">// success!</span></div>
<div class="line"><span class="lineno">  119</span>            <span class="keywordflow">case</span> 2:               <span class="comment">// delta</span></div>
<div class="line"><span class="lineno">  120</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;ch)) {</div>
<div class="line"><span class="lineno">  121</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  122</span>                }</div>
<div class="line"><span class="lineno">  123</span>                ofs += ch / pixels_per_byte;</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;ch)) {</div>
<div class="line"><span class="lineno">  126</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  127</span>                }</div>
<div class="line"><span class="lineno">  128</span>                bits -= ((ch / pixels_per_byte) * pitch);</div>
<div class="line"><span class="lineno">  129</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  130</span>            <span class="keywordflow">default</span>: <span class="comment">// no compression</span></div>
<div class="line"><span class="lineno">  131</span>                ch /= pixels_per_byte;</div>
<div class="line"><span class="lineno">  132</span>                needsPad = (ch &amp; 1);</div>
<div class="line"><span class="lineno">  133</span>                <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  134</span>                    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> pixelvalue;</div>
<div class="line"><span class="lineno">  135</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;pixelvalue)) {</div>
<div class="line"><span class="lineno">  136</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  137</span>                    }</div>
<div class="line"><span class="lineno">  138</span>                    <a class="code hl_define" href="#afe00fa7cbd726702f383757388f0b7cf">COPY_PIXEL</a>(pixelvalue);</div>
<div class="line"><span class="lineno">  139</span>                } <span class="keywordflow">while</span> (--ch);</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>                <span class="comment">// pad at even boundary</span></div>
<div class="line"><span class="lineno">  142</span>                <span class="keywordflow">if</span> (needsPad &amp;&amp; !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;ch)) {</div>
<div class="line"><span class="lineno">  143</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  144</span>                }</div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  146</span>            }</div>
<div class="line"><span class="lineno">  147</span>        }</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="line"><span class="lineno">  149</span>}</div>
<div class="ttc" id="aSDL__bmp_8c_html_afe00fa7cbd726702f383757388f0b7cf"><div class="ttname"><a href="#afe00fa7cbd726702f383757388f0b7cf">COPY_PIXEL</a></div><div class="ttdeci">#define COPY_PIXEL(x)</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a83df3122f2f7de663ccc3991b138b546"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_ReadU8(SDL_IOStream *src, Uint8 *value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1449</div></div>
<div class="ttc" id="aeglext_8h_html_a0d842f01fe1d721abe41013b29bf839b"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a0d842f01fe1d721abe41013b29bf839b">height</a></div><div class="ttdeci">EGLint EGLint height</div><div class="ttdef"><b>Definition</b> eglext.h:641</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#afe00fa7cbd726702f383757388f0b7cf">COPY_PIXEL</a>, and <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/dac/SDL__surface_8h.html#aee71ef77cd301f805afa9c9b750ccbf6">SDL_LoadBMP_IO()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/dc3/SDL__bmp_8c_affe9ce3234fbf5aedbb0ceac8186bf6a_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/dc3/SDL__bmp_8c_affe9ce3234fbf5aedbb0ceac8186bf6a_icgraph.svg" width="454" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="adb17cfdf4bf377079462ffa3701eeb76" name="adb17cfdf4bf377079462ffa3701eeb76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb17cfdf4bf377079462ffa3701eeb76">&#9670;&#160;</a></span>SDL_LoadBMP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> * SDL_LoadBMP </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>file</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load a BMP image from a file.</p>
<p>The new surface should be freed with <a class="el" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface()</a>. Not doing so will result in a memory leak.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>the BMP file to load. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a new <a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> structure or NULL on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a> </dd>
<dd>
<a class="el" href="../../db/dac/SDL__surface_8h.html#aee71ef77cd301f805afa9c9b750ccbf6">SDL_LoadBMP_IO</a> </dd>
<dd>
<a class="el" href="../../db/dac/SDL__surface_8h.html#a84592b52496f65a58b79bfb67c05ce7a">SDL_SaveBMP</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  577</span>{</div>
<div class="line"><span class="lineno">  578</span>    <a class="code hl_struct" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a> = <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a9140c85491dd8b1774e5128486402cd9">SDL_IOFromFile</a>(file, <span class="stringliteral">&quot;rb&quot;</span>);</div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordflow">if</span> (!<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a>) {</div>
<div class="line"><span class="lineno">  580</span>        <span class="keywordflow">return</span> <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  581</span>    }</div>
<div class="line"><span class="lineno">  582</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a46ec958b331ad4389a21b6684b366e32">SDL_LoadBMP_IO</a>(<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  583</span>}</div>
<div class="ttc" id="aSDL__begin__code_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition</b> SDL_begin_code.h:469</div></div>
<div class="ttc" id="aSDL__bmp_8c_html_a46ec958b331ad4389a21b6684b366e32"><div class="ttname"><a href="#a46ec958b331ad4389a21b6684b366e32">SDL_LoadBMP_IO</a></div><div class="ttdeci">SDL_Surface * SDL_LoadBMP_IO(SDL_IOStream *src, bool closeio)</div><div class="ttdef"><b>Definition</b> SDL_bmp.c:180</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a9140c85491dd8b1774e5128486402cd9"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a9140c85491dd8b1774e5128486402cd9">SDL_IOFromFile</a></div><div class="ttdeci">SDL_DECLSPEC SDL_IOStream *SDLCALL SDL_IOFromFile(const char *file, const char *mode)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:808</div></div>
<div class="ttc" id="aeglext_8h_html_a0290aeed50480f3f33b930ac586454d5"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a></div><div class="ttdeci">EGLStreamKHR stream</div><div class="ttdef"><b>Definition</b> eglext.h:365</div></div>
<div class="ttc" id="astructSDL__IOStream_html"><div class="ttname"><a href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a></div><div class="ttdef"><b>Definition</b> SDL_iostream.c:49</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a9140c85491dd8b1774e5128486402cd9">SDL_IOFromFile()</a>, and <a class="el" href="#a46ec958b331ad4389a21b6684b366e32">SDL_LoadBMP_IO()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/dc3/SDL__bmp_8c_adb17cfdf4bf377079462ffa3701eeb76_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>

</div>
</div>
<a id="a46ec958b331ad4389a21b6684b366e32" name="a46ec958b331ad4389a21b6684b366e32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46ec958b331ad4389a21b6684b366e32">&#9670;&#160;</a></span>SDL_LoadBMP_IO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> * SDL_LoadBMP_IO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *</td>          <td class="paramname"><span class="paramname"><em>src</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>closeio</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load a BMP image from a seekable SDL data stream.</p>
<p>The new surface should be freed with <a class="el" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface()</a>. Not doing so will result in a memory leak.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src</td><td>the data stream for the surface. </td></tr>
    <tr><td class="paramname">closeio</td><td>if true, calls <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO()</a> on <span class="tt">src</span> before returning, even in the case of an error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to a new <a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> structure or NULL on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>It is safe to call this function from any thread.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a> </dd>
<dd>
<a class="el" href="../../db/dac/SDL__surface_8h.html#adc82fda0a9610b56e82b4b91944f0617">SDL_LoadBMP</a> </dd>
<dd>
<a class="el" href="../../db/dac/SDL__surface_8h.html#a75ef0f6584394388d461a1a5cd2ab904">SDL_SaveBMP_IO</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  181</span>{</div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordtype">bool</span> was_error = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  183</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a> fp_offset = 0;</div>
<div class="line"><span class="lineno">  184</span>    <span class="keywordtype">int</span> i, pad;</div>
<div class="line"><span class="lineno">  185</span>    <a class="code hl_struct" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>;</div>
<div class="line"><span class="lineno">  186</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> Rmask = 0;</div>
<div class="line"><span class="lineno">  187</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> Gmask = 0;</div>
<div class="line"><span class="lineno">  188</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> Bmask = 0;</div>
<div class="line"><span class="lineno">  189</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> Amask = 0;</div>
<div class="line"><span class="lineno">  190</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *bits;</div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *<a class="code hl_variable" href="../../db/d76/SDL__glfuncs_8h.html#abc1496405a728524b5c9c02851c24e31">top</a>, *end;</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordtype">bool</span> topDown;</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordtype">bool</span> haveRGBMasks = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordtype">bool</span> haveAlphaMask = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordtype">bool</span> correctAlpha = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    <span class="comment">// The Win32 BMP file header (14 bytes)</span></div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordtype">char</span> magic[2];</div>
<div class="line"><span class="lineno">  199</span>    <span class="comment">// Uint32 bfSize;</span></div>
<div class="line"><span class="lineno">  200</span>    <span class="comment">// Uint16 bfReserved1;</span></div>
<div class="line"><span class="lineno">  201</span>    <span class="comment">// Uint16 bfReserved2;</span></div>
<div class="line"><span class="lineno">  202</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bfOffBits;</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>    <span class="comment">// The Win32 BITMAPINFOHEADER struct (40 bytes)</span></div>
<div class="line"><span class="lineno">  205</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> biSize;</div>
<div class="line"><span class="lineno">  206</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> biWidth = 0;</div>
<div class="line"><span class="lineno">  207</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> biHeight = 0;</div>
<div class="line"><span class="lineno">  208</span>    <span class="comment">// Uint16 biPlanes;</span></div>
<div class="line"><span class="lineno">  209</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> biBitCount = 0;</div>
<div class="line"><span class="lineno">  210</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> biCompression = 0;</div>
<div class="line"><span class="lineno">  211</span>    <span class="comment">// Uint32 biSizeImage;</span></div>
<div class="line"><span class="lineno">  212</span>    <span class="comment">// Sint32 biXPelsPerMeter;</span></div>
<div class="line"><span class="lineno">  213</span>    <span class="comment">// Sint32 biYPelsPerMeter;</span></div>
<div class="line"><span class="lineno">  214</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> biClrUsed = 0;</div>
<div class="line"><span class="lineno">  215</span>    <span class="comment">// Uint32 biClrImportant;</span></div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    <span class="comment">// Make sure we are passed a valid data source</span></div>
<div class="line"><span class="lineno">  218</span>    <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">if</span> (!src) {</div>
<div class="line"><span class="lineno">  220</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;src&quot;</span>);</div>
<div class="line"><span class="lineno">  221</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  222</span>    }</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>    <span class="comment">// Read in the BMP file header</span></div>
<div class="line"><span class="lineno">  225</span>    fp_offset = <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO</a>(src);</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">if</span> (fp_offset &lt; 0) {</div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  228</span>    }</div>
<div class="line"><span class="lineno">  229</span>    <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#a295990cc776d473f63d6a8fcc256a040">SDL_ClearError</a>();</div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO</a>(src, magic, 2) != 2) {</div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  232</span>    }</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#af3b3764d5afd1d0f7e9bf3e0a553cebf">SDL_strncmp</a>(magic, <span class="stringliteral">&quot;BM&quot;</span>, 2) != 0) {</div>
<div class="line"><span class="lineno">  234</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;File is not a Windows BMP file&quot;</span>);</div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  236</span>    }</div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* bfSize */</span>) ||</div>
<div class="line"><span class="lineno">  238</span>        !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* bfReserved1 */</span>) ||</div>
<div class="line"><span class="lineno">  239</span>        !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* bfReserved2 */</span>) ||</div>
<div class="line"><span class="lineno">  240</span>        !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, &amp;bfOffBits)) {</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  242</span>    }</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>    <span class="comment">// Read the Win32 BITMAPINFOHEADER</span></div>
<div class="line"><span class="lineno">  245</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, &amp;biSize)) {</div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  247</span>    }</div>
<div class="line"><span class="lineno">  248</span>    <span class="keywordflow">if</span> (biSize == 12) { <span class="comment">// really old BITMAPCOREHEADER</span></div>
<div class="line"><span class="lineno">  249</span>        <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> biWidth16, biHeight16;</div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(src, &amp;biWidth16) ||</div>
<div class="line"><span class="lineno">  251</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(src, &amp;biHeight16) ||</div>
<div class="line"><span class="lineno">  252</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* biPlanes */</span>) ||</div>
<div class="line"><span class="lineno">  253</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(src, &amp;biBitCount)) {</div>
<div class="line"><span class="lineno">  254</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  255</span>        }</div>
<div class="line"><span class="lineno">  256</span>        biWidth = biWidth16;</div>
<div class="line"><span class="lineno">  257</span>        biHeight = biHeight16;</div>
<div class="line"><span class="lineno">  258</span>        biCompression = <a class="code hl_define" href="#a30c89822a72c59b21109955f16d74e29">BI_RGB</a>;</div>
<div class="line"><span class="lineno">  259</span>        <span class="comment">// biSizeImage = 0;</span></div>
<div class="line"><span class="lineno">  260</span>        <span class="comment">// biXPelsPerMeter = 0;</span></div>
<div class="line"><span class="lineno">  261</span>        <span class="comment">// biYPelsPerMeter = 0;</span></div>
<div class="line"><span class="lineno">  262</span>        biClrUsed = 0;</div>
<div class="line"><span class="lineno">  263</span>        <span class="comment">// biClrImportant = 0;</span></div>
<div class="line"><span class="lineno">  264</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (biSize &gt;= 40) { <span class="comment">// some version of BITMAPINFOHEADER</span></div>
<div class="line"><span class="lineno">  265</span>        <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> headerSize;</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#acd8a3f7008cdeb5d49655ebac2621964">SDL_ReadS32LE</a>(src, &amp;biWidth) ||</div>
<div class="line"><span class="lineno">  267</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#acd8a3f7008cdeb5d49655ebac2621964">SDL_ReadS32LE</a>(src, &amp;biHeight) ||</div>
<div class="line"><span class="lineno">  268</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* biPlanes */</span>) ||</div>
<div class="line"><span class="lineno">  269</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a>(src, &amp;biBitCount) ||</div>
<div class="line"><span class="lineno">  270</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, &amp;biCompression) ||</div>
<div class="line"><span class="lineno">  271</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* biSizeImage */</span>) ||</div>
<div class="line"><span class="lineno">  272</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* biXPelsPerMeter */</span>) ||</div>
<div class="line"><span class="lineno">  273</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* biYPelsPerMeter */</span>) ||</div>
<div class="line"><span class="lineno">  274</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, &amp;biClrUsed) ||</div>
<div class="line"><span class="lineno">  275</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* biClrImportant */</span>)) {</div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  277</span>        }</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>        <span class="comment">// 64 == BITMAPCOREHEADER2, an incompatible OS/2 2.x extension. Skip this stuff for now.</span></div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">if</span> (biSize != 64) {</div>
<div class="line"><span class="lineno">  281</span>            <span class="comment">/* This is complicated. If compression is BI_BITFIELDS, then</span></div>
<div class="line"><span class="lineno">  282</span><span class="comment">               we have 3 DWORDS that specify the RGB masks. This is either</span></div>
<div class="line"><span class="lineno">  283</span><span class="comment">               stored here in an BITMAPV2INFOHEADER (which only differs in</span></div>
<div class="line"><span class="lineno">  284</span><span class="comment">               that it adds these RGB masks) and biSize &gt;= 52, or we&#39;ve got</span></div>
<div class="line"><span class="lineno">  285</span><span class="comment">               these masks stored in the exact same place, but strictly</span></div>
<div class="line"><span class="lineno">  286</span><span class="comment">               speaking, this is the bmiColors field in BITMAPINFO immediately</span></div>
<div class="line"><span class="lineno">  287</span><span class="comment">               following the legacy v1 info header, just past biSize. */</span></div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">if</span> (biCompression == <a class="code hl_define" href="#a0e10b199170996b8388f8b86f4a6495e">BI_BITFIELDS</a>) {</div>
<div class="line"><span class="lineno">  289</span>                haveRGBMasks = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  290</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, &amp;Rmask) ||</div>
<div class="line"><span class="lineno">  291</span>                    !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, &amp;Gmask) ||</div>
<div class="line"><span class="lineno">  292</span>                    !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, &amp;Bmask)) {</div>
<div class="line"><span class="lineno">  293</span>                    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  294</span>                }</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>                <span class="comment">// ...v3 adds an alpha mask.</span></div>
<div class="line"><span class="lineno">  297</span>                <span class="keywordflow">if</span> (biSize &gt;= 56) { <span class="comment">// BITMAPV3INFOHEADER; adds alpha mask</span></div>
<div class="line"><span class="lineno">  298</span>                    haveAlphaMask = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  299</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, &amp;Amask)) {</div>
<div class="line"><span class="lineno">  300</span>                        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  301</span>                    }</div>
<div class="line"><span class="lineno">  302</span>                }</div>
<div class="line"><span class="lineno">  303</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  304</span>                <span class="comment">// the mask fields are ignored for v2+ headers if not BI_BITFIELD.</span></div>
<div class="line"><span class="lineno">  305</span>                <span class="keywordflow">if</span> (biSize &gt;= 52) { <span class="comment">// BITMAPV2INFOHEADER; adds RGB masks</span></div>
<div class="line"><span class="lineno">  306</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* Rmask */</span>) ||</div>
<div class="line"><span class="lineno">  307</span>                        !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* Gmask */</span>) ||</div>
<div class="line"><span class="lineno">  308</span>                        !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* Bmask */</span>)) {</div>
<div class="line"><span class="lineno">  309</span>                        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  310</span>                    }</div>
<div class="line"><span class="lineno">  311</span>                }</div>
<div class="line"><span class="lineno">  312</span>                <span class="keywordflow">if</span> (biSize &gt;= 56) { <span class="comment">// BITMAPV3INFOHEADER; adds alpha mask</span></div>
<div class="line"><span class="lineno">  313</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a>(src, <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a> <span class="comment">/* Amask */</span>)) {</div>
<div class="line"><span class="lineno">  314</span>                        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  315</span>                    }</div>
<div class="line"><span class="lineno">  316</span>                }</div>
<div class="line"><span class="lineno">  317</span>            }</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>            <span class="comment">/* Insert other fields here; Wikipedia and MSDN say we&#39;re up to</span></div>
<div class="line"><span class="lineno">  320</span><span class="comment">               v5 of this header, but we ignore those for now (they add gamma,</span></div>
<div class="line"><span class="lineno">  321</span><span class="comment">               color spaces, etc). Ignoring the weird OS/2 2.x format, we</span></div>
<div class="line"><span class="lineno">  322</span><span class="comment">               currently parse up to v3 correctly (hopefully!). */</span></div>
<div class="line"><span class="lineno">  323</span>        }</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>        <span class="comment">// skip any header bytes we didn&#39;t handle...</span></div>
<div class="line"><span class="lineno">  326</span>        headerSize = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)(<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO</a>(src) - (fp_offset + 14));</div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">if</span> (biSize &gt; headerSize) {</div>
<div class="line"><span class="lineno">  328</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(src, (biSize - headerSize), <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a46891cab88fdb3bb6cd6a2add52fbb5d">SDL_IO_SEEK_CUR</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  329</span>                <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  330</span>            }</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span>    }</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">if</span> (biWidth &lt;= 0 || biHeight == 0) {</div>
<div class="line"><span class="lineno">  334</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;BMP file with bad dimensions (%&quot;</span> <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aff8263002d42c66ef04687cda86bc3d2">SDL_PRIs32</a> <span class="stringliteral">&quot;x%&quot;</span> <a class="code hl_define" href="../../d2/d5b/SDL__stdinc_8h.html#aff8263002d42c66ef04687cda86bc3d2">SDL_PRIs32</a> <span class="stringliteral">&quot;)&quot;</span>, biWidth, biHeight);</div>
<div class="line"><span class="lineno">  335</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  336</span>    }</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">if</span> (biHeight &lt; 0) {</div>
<div class="line"><span class="lineno">  338</span>        topDown = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  339</span>        biHeight = -biHeight;</div>
<div class="line"><span class="lineno">  340</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  341</span>        topDown = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  342</span>    }</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <span class="comment">// Check for read error</span></div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a>(<a class="code hl_function" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError</a>(), <span class="stringliteral">&quot;&quot;</span>) != 0) {</div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  347</span>    }</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    <span class="comment">// Reject invalid bit depths</span></div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordflow">switch</span> (biBitCount) {</div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">case</span> 5:</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">case</span> 6:</div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno">  356</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;%u bpp BMP images are not supported&quot;</span>, biBitCount);</div>
<div class="line"><span class="lineno">  357</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  360</span>    }</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>    <span class="comment">// RLE4 and RLE8 BMP compression is supported</span></div>
<div class="line"><span class="lineno">  363</span>    <span class="keywordflow">switch</span> (biCompression) {</div>
<div class="line"><span class="lineno">  364</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="#a30c89822a72c59b21109955f16d74e29">BI_RGB</a>:</div>
<div class="line"><span class="lineno">  365</span>        <span class="comment">// If there are no masks, use the defaults</span></div>
<div class="line"><span class="lineno">  366</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(!haveRGBMasks);</div>
<div class="line"><span class="lineno">  367</span>        <a class="code hl_define" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>(!haveAlphaMask);</div>
<div class="line"><span class="lineno">  368</span>        <span class="comment">// Default values for the BMP format</span></div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">switch</span> (biBitCount) {</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">case</span> 15:</div>
<div class="line"><span class="lineno">  371</span>        <span class="keywordflow">case</span> 16:</div>
<div class="line"><span class="lineno">  372</span>            <span class="comment">// SDL_PIXELFORMAT_XRGB1555 or SDL_PIXELFORMAT_ARGB1555 if Amask</span></div>
<div class="line"><span class="lineno">  373</span>            Rmask = 0x7C00;</div>
<div class="line"><span class="lineno">  374</span>            Gmask = 0x03E0;</div>
<div class="line"><span class="lineno">  375</span>            Bmask = 0x001F;</div>
<div class="line"><span class="lineno">  376</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  377</span>        <span class="keywordflow">case</span> 24:</div>
<div class="line"><span class="lineno">  378</span><span class="preprocessor">#if SDL_BYTEORDER == SDL_BIG_ENDIAN</span></div>
<div class="line"><span class="lineno">  379</span>            <span class="comment">// SDL_PIXELFORMAT_RGB24</span></div>
<div class="line"><span class="lineno">  380</span>            Rmask = 0x000000FF;</div>
<div class="line"><span class="lineno">  381</span>            Gmask = 0x0000FF00;</div>
<div class="line"><span class="lineno">  382</span>            Bmask = 0x00FF0000;</div>
<div class="line"><span class="lineno">  383</span><span class="preprocessor">#else</span></div>
<div class="line"><span class="lineno">  384</span>            <span class="comment">// SDL_PIXELFORMAT_BGR24</span></div>
<div class="line"><span class="lineno">  385</span>            Rmask = 0x00FF0000;</div>
<div class="line"><span class="lineno">  386</span>            Gmask = 0x0000FF00;</div>
<div class="line"><span class="lineno">  387</span>            Bmask = 0x000000FF;</div>
<div class="line"><span class="lineno">  388</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  389</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">case</span> 32:</div>
<div class="line"><span class="lineno">  391</span>            <span class="comment">// We don&#39;t know if this has alpha channel or not</span></div>
<div class="line"><span class="lineno">  392</span>            correctAlpha = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  393</span>            <span class="comment">// SDL_PIXELFORMAT_RGBA8888</span></div>
<div class="line"><span class="lineno">  394</span>            Amask = 0xFF000000;</div>
<div class="line"><span class="lineno">  395</span>            Rmask = 0x00FF0000;</div>
<div class="line"><span class="lineno">  396</span>            Gmask = 0x0000FF00;</div>
<div class="line"><span class="lineno">  397</span>            Bmask = 0x000000FF;</div>
<div class="line"><span class="lineno">  398</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  400</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  401</span>        }</div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>    <span class="keywordflow">case</span> <a class="code hl_define" href="#a0e10b199170996b8388f8b86f4a6495e">BI_BITFIELDS</a>:</div>
<div class="line"><span class="lineno">  405</span>        <span class="keywordflow">break</span>; <span class="comment">// we handled this in the info header.</span></div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  409</span>    }</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>    <span class="comment">// Create a compatible surface, note that the colors are RGB ordered</span></div>
<div class="line"><span class="lineno">  412</span>    {</div>
<div class="line"><span class="lineno">  413</span>        <a class="code hl_enumeration" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a> <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>;</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>        <span class="comment">// Get the pixel format</span></div>
<div class="line"><span class="lineno">  416</span>        <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a> = <a class="code hl_function" href="../../d9/d3f/SDL__pixels_8h.html#aa4f39992df0047b08813c3938d1d3408">SDL_GetPixelFormatForMasks</a>(biBitCount, Rmask, Gmask, Bmask, Amask);</div>
<div class="line"><span class="lineno">  417</span>        <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a> = <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#afe7acb38ef290b00dd5027051efe3ba8">SDL_CreateSurface</a>(biWidth, biHeight, <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a>);</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">if</span> (!<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>) {</div>
<div class="line"><span class="lineno">  420</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  421</span>        }</div>
<div class="line"><span class="lineno">  422</span>    }</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>    <span class="comment">// Load the palette, if any</span></div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#a8bbf98a12987b0b22864743efb4b136e">SDL_ISPIXELFORMAT_INDEXED</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;format)) {</div>
<div class="line"><span class="lineno">  426</span>        <a class="code hl_struct" href="../../d4/da3/structSDL__Palette.html">SDL_Palette</a> *palette = <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a540a1a2dff3b098430c68f8ff6e8680e">SDL_CreateSurfacePalette</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>);</div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordflow">if</span> (!palette) {</div>
<div class="line"><span class="lineno">  428</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  429</span>        }</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(src, fp_offset + 14 + biSize, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  432</span>            <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Error seeking in datastream&quot;</span>);</div>
<div class="line"><span class="lineno">  433</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  434</span>        }</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>        <span class="keywordflow">if</span> (biBitCount &gt;= 32) { <span class="comment">// we shift biClrUsed by this value later.</span></div>
<div class="line"><span class="lineno">  437</span>            <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unsupported or incorrect biBitCount field&quot;</span>);</div>
<div class="line"><span class="lineno">  438</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  439</span>        }</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>        <span class="keywordflow">if</span> (biClrUsed == 0) {</div>
<div class="line"><span class="lineno">  442</span>            biClrUsed = 1 &lt;&lt; biBitCount;</div>
<div class="line"><span class="lineno">  443</span>        }</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>        <span class="keywordflow">if</span> (biClrUsed &gt; (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#a81a0cc3197480e994c6b06f1f0567091">ncolors</a>) {</div>
<div class="line"><span class="lineno">  446</span>            biClrUsed = 1 &lt;&lt; biBitCount; <span class="comment">// try forcing it?</span></div>
<div class="line"><span class="lineno">  447</span>            <span class="keywordflow">if</span> (biClrUsed &gt; (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#a81a0cc3197480e994c6b06f1f0567091">ncolors</a>) {</div>
<div class="line"><span class="lineno">  448</span>                <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Unsupported or incorrect biClrUsed field&quot;</span>);</div>
<div class="line"><span class="lineno">  449</span>                <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  450</span>            }</div>
<div class="line"><span class="lineno">  451</span>        }</div>
<div class="line"><span class="lineno">  452</span>        palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#a81a0cc3197480e994c6b06f1f0567091">ncolors</a> = biClrUsed;</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>        <span class="keywordflow">if</span> (biSize == 12) {</div>
<div class="line"><span class="lineno">  455</span>            <span class="keywordflow">for</span> (i = 0; i &lt; palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#a81a0cc3197480e994c6b06f1f0567091">ncolors</a>; ++i) {</div>
<div class="line"><span class="lineno">  456</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">colors</a>[i].<a class="code hl_variable" href="../../d7/d0a/structSDL__Color.html#a3b79a27e0414049559aa5bcf241dedd3">b</a>) ||</div>
<div class="line"><span class="lineno">  457</span>                    !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">colors</a>[i].<a class="code hl_variable" href="../../d7/d0a/structSDL__Color.html#ae29d881bf740cfa7078b36e07f85d298">g</a>) ||</div>
<div class="line"><span class="lineno">  458</span>                    !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">colors</a>[i].<a class="code hl_variable" href="../../d7/d0a/structSDL__Color.html#a0bb975b6829524133fdd3c6060cfa63d">r</a>)) {</div>
<div class="line"><span class="lineno">  459</span>                    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  460</span>                }</div>
<div class="line"><span class="lineno">  461</span>                palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">colors</a>[i].<a class="code hl_variable" href="../../d7/d0a/structSDL__Color.html#ac497ba67af6ecb4d51bdd0945b314526">a</a> = <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#a5d933eb0233ca33d598800f33ef43376">SDL_ALPHA_OPAQUE</a>;</div>
<div class="line"><span class="lineno">  462</span>            }</div>
<div class="line"><span class="lineno">  463</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  464</span>            <span class="keywordflow">for</span> (i = 0; i &lt; palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#a81a0cc3197480e994c6b06f1f0567091">ncolors</a>; ++i) {</div>
<div class="line"><span class="lineno">  465</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">colors</a>[i].<a class="code hl_variable" href="../../d7/d0a/structSDL__Color.html#a3b79a27e0414049559aa5bcf241dedd3">b</a>) ||</div>
<div class="line"><span class="lineno">  466</span>                    !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">colors</a>[i].<a class="code hl_variable" href="../../d7/d0a/structSDL__Color.html#ae29d881bf740cfa7078b36e07f85d298">g</a>) ||</div>
<div class="line"><span class="lineno">  467</span>                    !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">colors</a>[i].<a class="code hl_variable" href="../../d7/d0a/structSDL__Color.html#a0bb975b6829524133fdd3c6060cfa63d">r</a>) ||</div>
<div class="line"><span class="lineno">  468</span>                    !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">colors</a>[i].<a class="code hl_variable" href="../../d7/d0a/structSDL__Color.html#ac497ba67af6ecb4d51bdd0945b314526">a</a>)) {</div>
<div class="line"><span class="lineno">  469</span>                    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  470</span>                }</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>                <span class="comment">/* According to Microsoft documentation, the fourth element</span></div>
<div class="line"><span class="lineno">  473</span><span class="comment">                   is reserved and must be zero, so we shouldn&#39;t treat it as</span></div>
<div class="line"><span class="lineno">  474</span><span class="comment">                   alpha.</span></div>
<div class="line"><span class="lineno">  475</span><span class="comment">                */</span></div>
<div class="line"><span class="lineno">  476</span>                palette-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">colors</a>[i].<a class="code hl_variable" href="../../d7/d0a/structSDL__Color.html#ac497ba67af6ecb4d51bdd0945b314526">a</a> = <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#a5d933eb0233ca33d598800f33ef43376">SDL_ALPHA_OPAQUE</a>;</div>
<div class="line"><span class="lineno">  477</span>            }</div>
<div class="line"><span class="lineno">  478</span>        }</div>
<div class="line"><span class="lineno">  479</span>    }</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>    <span class="comment">// Read the surface pixels.  Note that the bmp image is upside down</span></div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(src, fp_offset + bfOffBits, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  483</span>        <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Error seeking in datastream&quot;</span>);</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  485</span>    }</div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordflow">if</span> ((biCompression == <a class="code hl_define" href="#a03e0233815cd4bb40ec960472628233e">BI_RLE4</a>) || (biCompression == <a class="code hl_define" href="#acac191784824d6699b54f356ecb90bb2">BI_RLE8</a>)) {</div>
<div class="line"><span class="lineno">  487</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="#affe9ce3234fbf5aedbb0ceac8186bf6a">readRlePixels</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>, src, biCompression == <a class="code hl_define" href="#acac191784824d6699b54f356ecb90bb2">BI_RLE8</a>)) {</div>
<div class="line"><span class="lineno">  488</span>            <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Error reading from datastream&quot;</span>);</div>
<div class="line"><span class="lineno">  489</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  490</span>        }</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>        <span class="comment">// Success!</span></div>
<div class="line"><span class="lineno">  493</span>        was_error = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  494</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  495</span>    }</div>
<div class="line"><span class="lineno">  496</span>    <a class="code hl_variable" href="../../db/d76/SDL__glfuncs_8h.html#abc1496405a728524b5c9c02851c24e31">top</a> = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pixels;</div>
<div class="line"><span class="lineno">  497</span>    end = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pixels + (<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;h * <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pitch);</div>
<div class="line"><span class="lineno">  498</span>    pad = ((<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pitch % 4) ? (4 - (<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pitch % 4)) : 0);</div>
<div class="line"><span class="lineno">  499</span>    <span class="keywordflow">if</span> (topDown) {</div>
<div class="line"><span class="lineno">  500</span>        bits = <a class="code hl_variable" href="../../db/d76/SDL__glfuncs_8h.html#abc1496405a728524b5c9c02851c24e31">top</a>;</div>
<div class="line"><span class="lineno">  501</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  502</span>        bits = end - <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pitch;</div>
<div class="line"><span class="lineno">  503</span>    }</div>
<div class="line"><span class="lineno">  504</span>    <span class="keywordflow">while</span> (bits &gt;= <a class="code hl_variable" href="../../db/d76/SDL__glfuncs_8h.html#abc1496405a728524b5c9c02851c24e31">top</a> &amp;&amp; bits &lt; end) {</div>
<div class="line"><span class="lineno">  505</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO</a>(src, bits, <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pitch) != (<span class="keywordtype">size_t</span>)<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pitch) {</div>
<div class="line"><span class="lineno">  506</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  507</span>        }</div>
<div class="line"><span class="lineno">  508</span>        <span class="keywordflow">if</span> (biBitCount == 8 &amp;&amp; <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;palette &amp;&amp; biClrUsed &lt; (1u &lt;&lt; biBitCount)) {</div>
<div class="line"><span class="lineno">  509</span>            <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;w; ++i) {</div>
<div class="line"><span class="lineno">  510</span>                <span class="keywordflow">if</span> (bits[i] &gt;= biClrUsed) {</div>
<div class="line"><span class="lineno">  511</span>                    <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;A BMP image contains a pixel with a color out of the palette&quot;</span>);</div>
<div class="line"><span class="lineno">  512</span>                    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  513</span>                }</div>
<div class="line"><span class="lineno">  514</span>            }</div>
<div class="line"><span class="lineno">  515</span>        }</div>
<div class="line"><span class="lineno">  516</span><span class="preprocessor">#if SDL_BYTEORDER == SDL_BIG_ENDIAN</span></div>
<div class="line"><span class="lineno">  517</span>        <span class="comment">/* Byte-swap the pixels if needed. Note that the 24bpp</span></div>
<div class="line"><span class="lineno">  518</span><span class="comment">           case has already been taken care of above. */</span></div>
<div class="line"><span class="lineno">  519</span>        <span class="keywordflow">switch</span> (biBitCount) {</div>
<div class="line"><span class="lineno">  520</span>        <span class="keywordflow">case</span> 15:</div>
<div class="line"><span class="lineno">  521</span>        <span class="keywordflow">case</span> 16:</div>
<div class="line"><span class="lineno">  522</span>        {</div>
<div class="line"><span class="lineno">  523</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> *pix = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> *)bits;</div>
<div class="line"><span class="lineno">  524</span>            <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;w; i++) {</div>
<div class="line"><span class="lineno">  525</span>                pix[i] = <a class="code hl_function" href="../../d6/de1/SDL__endian_8h.html#a157cb22d3cc4b3f623822b15c3921e54">SDL_Swap16</a>(pix[i]);</div>
<div class="line"><span class="lineno">  526</span>            }</div>
<div class="line"><span class="lineno">  527</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  528</span>        }</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>        <span class="keywordflow">case</span> 32:</div>
<div class="line"><span class="lineno">  531</span>        {</div>
<div class="line"><span class="lineno">  532</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *pix = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> *)bits;</div>
<div class="line"><span class="lineno">  533</span>            <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;w; i++) {</div>
<div class="line"><span class="lineno">  534</span>                pix[i] = <a class="code hl_function" href="../../d6/de1/SDL__endian_8h.html#a0f516a794e03b48778c9fcf41ddfe026">SDL_Swap32</a>(pix[i]);</div>
<div class="line"><span class="lineno">  535</span>            }</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  537</span>        }</div>
<div class="line"><span class="lineno">  538</span>        }</div>
<div class="line"><span class="lineno">  539</span><span class="preprocessor">#endif</span></div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>        <span class="comment">// Skip padding bytes, ugh</span></div>
<div class="line"><span class="lineno">  542</span>        <span class="keywordflow">if</span> (pad) {</div>
<div class="line"><span class="lineno">  543</span>            <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> padbyte;</div>
<div class="line"><span class="lineno">  544</span>            <span class="keywordflow">for</span> (i = 0; i &lt; pad; ++i) {</div>
<div class="line"><span class="lineno">  545</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8</a>(src, &amp;padbyte)) {</div>
<div class="line"><span class="lineno">  546</span>                    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  547</span>                }</div>
<div class="line"><span class="lineno">  548</span>            }</div>
<div class="line"><span class="lineno">  549</span>        }</div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordflow">if</span> (topDown) {</div>
<div class="line"><span class="lineno">  551</span>            bits += <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pitch;</div>
<div class="line"><span class="lineno">  552</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  553</span>            bits -= <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;pitch;</div>
<div class="line"><span class="lineno">  554</span>        }</div>
<div class="line"><span class="lineno">  555</span>    }</div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordflow">if</span> (correctAlpha) {</div>
<div class="line"><span class="lineno">  557</span>        <a class="code hl_function" href="#a914867d2ef5459be8908dbdc8b296ee4">CorrectAlphaChannel</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>);</div>
<div class="line"><span class="lineno">  558</span>    }</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>    was_error = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>done:</div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordflow">if</span> (was_error) {</div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">if</span> (src) {</div>
<div class="line"><span class="lineno">  565</span>            <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(src, fp_offset, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>);</div>
<div class="line"><span class="lineno">  566</span>        }</div>
<div class="line"><span class="lineno">  567</span>        <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>);</div>
<div class="line"><span class="lineno">  568</span>        <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a> = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  569</span>    }</div>
<div class="line"><span class="lineno">  570</span>    <span class="keywordflow">if</span> (closeio &amp;&amp; src) {</div>
<div class="line"><span class="lineno">  571</span>        <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO</a>(src);</div>
<div class="line"><span class="lineno">  572</span>    }</div>
<div class="line"><span class="lineno">  573</span>    <span class="keywordflow">return</span> <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>;</div>
<div class="line"><span class="lineno">  574</span>}</div>
<div class="ttc" id="aSDL__assert_8h_html_af03d71e27f06835f6a09358943c33b1d"><div class="ttname"><a href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a></div><div class="ttdeci">#define SDL_assert(condition)</div><div class="ttdef"><b>Definition</b> SDL_assert.h:478</div></div>
<div class="ttc" id="aSDL__bmp_8c_html_a03e0233815cd4bb40ec960472628233e"><div class="ttname"><a href="#a03e0233815cd4bb40ec960472628233e">BI_RLE4</a></div><div class="ttdeci">#define BI_RLE4</div><div class="ttdef"><b>Definition</b> SDL_bmp.c:44</div></div>
<div class="ttc" id="aSDL__bmp_8c_html_a0e10b199170996b8388f8b86f4a6495e"><div class="ttname"><a href="#a0e10b199170996b8388f8b86f4a6495e">BI_BITFIELDS</a></div><div class="ttdeci">#define BI_BITFIELDS</div><div class="ttdef"><b>Definition</b> SDL_bmp.c:45</div></div>
<div class="ttc" id="aSDL__bmp_8c_html_a30c89822a72c59b21109955f16d74e29"><div class="ttname"><a href="#a30c89822a72c59b21109955f16d74e29">BI_RGB</a></div><div class="ttdeci">#define BI_RGB</div><div class="ttdef"><b>Definition</b> SDL_bmp.c:42</div></div>
<div class="ttc" id="aSDL__bmp_8c_html_a914867d2ef5459be8908dbdc8b296ee4"><div class="ttname"><a href="#a914867d2ef5459be8908dbdc8b296ee4">CorrectAlphaChannel</a></div><div class="ttdeci">static void CorrectAlphaChannel(SDL_Surface *surface)</div><div class="ttdef"><b>Definition</b> SDL_bmp.c:151</div></div>
<div class="ttc" id="aSDL__bmp_8c_html_acac191784824d6699b54f356ecb90bb2"><div class="ttname"><a href="#acac191784824d6699b54f356ecb90bb2">BI_RLE8</a></div><div class="ttdeci">#define BI_RLE8</div><div class="ttdef"><b>Definition</b> SDL_bmp.c:43</div></div>
<div class="ttc" id="aSDL__bmp_8c_html_affe9ce3234fbf5aedbb0ceac8186bf6a"><div class="ttname"><a href="#affe9ce3234fbf5aedbb0ceac8186bf6a">readRlePixels</a></div><div class="ttdeci">static bool readRlePixels(SDL_Surface *surface, SDL_IOStream *src, int isRle8)</div><div class="ttdef"><b>Definition</b> SDL_bmp.c:66</div></div>
<div class="ttc" id="aSDL__endian_8h_html_a0f516a794e03b48778c9fcf41ddfe026"><div class="ttname"><a href="../../d6/de1/SDL__endian_8h.html#a0f516a794e03b48778c9fcf41ddfe026">SDL_Swap32</a></div><div class="ttdeci">SDL_FORCE_INLINE Uint32 SDL_Swap32(Uint32 x)</div><div class="ttdef"><b>Definition</b> SDL_endian.h:328</div></div>
<div class="ttc" id="aSDL__endian_8h_html_a157cb22d3cc4b3f623822b15c3921e54"><div class="ttname"><a href="../../d6/de1/SDL__endian_8h.html#a157cb22d3cc4b3f623822b15c3921e54">SDL_Swap16</a></div><div class="ttdeci">SDL_FORCE_INLINE Uint16 SDL_Swap16(Uint16 x)</div><div class="ttdef"><b>Definition</b> SDL_endian.h:279</div></div>
<div class="ttc" id="aSDL__error_8h_html_a295990cc776d473f63d6a8fcc256a040"><div class="ttname"><a href="../../da/d16/SDL__error_8h.html#a295990cc776d473f63d6a8fcc256a040">SDL_ClearError</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_ClearError(void)</div><div class="ttdef"><b>Definition</b> SDL_error.c:95</div></div>
<div class="ttc" id="aSDL__error_8h_html_a579f249f3dd9b45e329fe5819cd2fa8a"><div class="ttname"><a href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError</a></div><div class="ttdeci">SDL_DECLSPEC const char *SDLCALL SDL_GetError(void)</div><div class="ttdef"><b>Definition</b> SDL_error.c:77</div></div>
<div class="ttc" id="aSDL__error_8h_html_a5875c9c083a88408e11abeaa8391dfa5"><div class="ttname"><a href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a></div><div class="ttdeci">#define SDL_InvalidParamError(param)</div><div class="ttdef"><b>Definition</b> SDL_error.h:216</div></div>
<div class="ttc" id="aSDL__error_8h_html_ac23553088fda91b9d123eed70e977c43"><div class="ttname"><a href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_SetError(SDL_PRINTF_FORMAT_STRING const char *fmt,...) SDL_PRINTF_VARARG_FUNC(1)</div><div class="ttdef"><b>Definition</b> SDL_error.c:29</div></div>
<div class="ttc" id="aSDL__glfuncs_8h_html_abc1496405a728524b5c9c02851c24e31"><div class="ttname"><a href="../../db/d76/SDL__glfuncs_8h.html#abc1496405a728524b5c9c02851c24e31">top</a></div><div class="ttdeci">GLint GLenum GLsizei const GLvoid *pointer GLdouble GLdouble GLdouble GLdouble top</div><div class="ttdef"><b>Definition</b> SDL_glfuncs.h:285</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a2930bc8a8c2a4a99f5486a89a2ae4395"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_ReadU16LE(SDL_IOStream *src, Uint16 *value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1477</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a3ab799b70783f9e8bbad0e5e9a5eb6de"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_CloseIO(SDL_IOStream *context)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1135</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a759e8675f14009868c2d895930bbd29e"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a></div><div class="ttdeci">SDL_DECLSPEC Sint64 SDLCALL SDL_SeekIO(SDL_IOStream *context, Sint64 offset, SDL_IOWhence whence)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1317</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a7aba495850725f87a2e7428184d7eeda"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_ReadU32LE(SDL_IOStream *src, Uint32 *value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1515</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_ab4ba1c0aa896e9b98ee25dc6493051b1"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO</a></div><div class="ttdeci">SDL_DECLSPEC Sint64 SDLCALL SDL_TellIO(SDL_IOStream *context)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1329</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_acd8a3f7008cdeb5d49655ebac2621964"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#acd8a3f7008cdeb5d49655ebac2621964">SDL_ReadS32LE</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_ReadS32LE(SDL_IOStream *src, Sint32 *value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1529</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_ae56aa3067acde8f3b368f8278aebc3a9"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO</a></div><div class="ttdeci">SDL_DECLSPEC size_t SDLCALL SDL_ReadIO(SDL_IOStream *context, void *ptr, size_t size)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1334</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_af9d2dcbe6c5ec47a1053ed54be1b11c4a46891cab88fdb3bb6cd6a2add52fbb5d"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a46891cab88fdb3bb6cd6a2add52fbb5d">SDL_IO_SEEK_CUR</a></div><div class="ttdeci">@ SDL_IO_SEEK_CUR</div><div class="ttdef"><b>Definition</b> SDL_iostream.h:74</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a></div><div class="ttdeci">@ SDL_IO_SEEK_SET</div><div class="ttdef"><b>Definition</b> SDL_iostream.h:73</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_a8bbf98a12987b0b22864743efb4b136e"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#a8bbf98a12987b0b22864743efb4b136e">SDL_ISPIXELFORMAT_INDEXED</a></div><div class="ttdeci">#define SDL_ISPIXELFORMAT_INDEXED(format)</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:382</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa4f39992df0047b08813c3938d1d3408"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa4f39992df0047b08813c3938d1d3408">SDL_GetPixelFormatForMasks</a></div><div class="ttdeci">SDL_DECLSPEC SDL_PixelFormat SDLCALL SDL_GetPixelFormatForMasks(int bpp, Uint32 Rmask, Uint32 Gmask, Uint32 Bmask, Uint32 Amask)</div><div class="ttdef"><b>Definition</b> SDL_pixels.c:338</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a></div><div class="ttdeci">SDL_PixelFormat</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:549</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a2c1a61d5c466bb74680be0a8cc1b455d"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a></div><div class="ttdeci">int64_t Sint64</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:472</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a31fcc0a076c9068668173ee26d33e42b"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a></div><div class="ttdeci">uint16_t Uint16</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:443</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_a7a90b941db9d4582e9ad7abb9940ff7e"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a></div><div class="ttdeci">int32_t Sint32</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:452</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_ace853017535ad7681a22bf290c371fb4"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_strcmp(const char *str1, const char *str2)</div><div class="ttdef"><b>Definition</b> SDL_string.c:1346</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_add440eff171ea5f55cb00c4a9ab8672d"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a></div><div class="ttdeci">uint32_t Uint32</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:461</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_af3b3764d5afd1d0f7e9bf3e0a553cebf"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#af3b3764d5afd1d0f7e9bf3e0a553cebf">SDL_strncmp</a></div><div class="ttdeci">SDL_DECLSPEC int SDLCALL SDL_strncmp(const char *str1, const char *str2, size_t maxlen)</div><div class="ttdef"><b>Definition</b> SDL_string.c:1365</div></div>
<div class="ttc" id="aSDL__stdinc_8h_html_aff8263002d42c66ef04687cda86bc3d2"><div class="ttname"><a href="../../d2/d5b/SDL__stdinc_8h.html#aff8263002d42c66ef04687cda86bc3d2">SDL_PRIs32</a></div><div class="ttdeci">#define SDL_PRIs32</div><div class="ttdef"><b>Definition</b> SDL_stdinc.h:756</div></div>
<div class="ttc" id="aSDL__surface_8h_html_a0151b0009da31c75b0ba8e87a718fc27"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_DestroySurface(SDL_Surface *surface)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:2994</div></div>
<div class="ttc" id="aSDL__surface_8h_html_a540a1a2dff3b098430c68f8ff6e8680e"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#a540a1a2dff3b098430c68f8ff6e8680e">SDL_CreateSurfacePalette</a></div><div class="ttdeci">SDL_DECLSPEC SDL_Palette *SDLCALL SDL_CreateSurfacePalette(SDL_Surface *surface)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:377</div></div>
<div class="ttc" id="aSDL__surface_8h_html_afe7acb38ef290b00dd5027051efe3ba8"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#afe7acb38ef290b00dd5027051efe3ba8">SDL_CreateSurface</a></div><div class="ttdeci">SDL_DECLSPEC SDL_Surface *SDLCALL SDL_CreateSurface(int width, int height, SDL_PixelFormat format)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:192</div></div>
<div class="ttc" id="aeglext_8h_html_a0ea17d37604a80dac378e5f917a091f1"><div class="ttname"><a href="../../d3/dda/eglext_8h.html#a0ea17d37604a80dac378e5f917a091f1">format</a></div><div class="ttdeci">EGLint format</div><div class="ttdef"><b>Definition</b> eglext.h:810</div></div>
<div class="ttc" id="astructSDL__Color_html_a0bb975b6829524133fdd3c6060cfa63d"><div class="ttname"><a href="../../d7/d0a/structSDL__Color.html#a0bb975b6829524133fdd3c6060cfa63d">SDL_Color::r</a></div><div class="ttdeci">Uint8 r</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1114</div></div>
<div class="ttc" id="astructSDL__Color_html_a3b79a27e0414049559aa5bcf241dedd3"><div class="ttname"><a href="../../d7/d0a/structSDL__Color.html#a3b79a27e0414049559aa5bcf241dedd3">SDL_Color::b</a></div><div class="ttdeci">Uint8 b</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1116</div></div>
<div class="ttc" id="astructSDL__Color_html_ac497ba67af6ecb4d51bdd0945b314526"><div class="ttname"><a href="../../d7/d0a/structSDL__Color.html#ac497ba67af6ecb4d51bdd0945b314526">SDL_Color::a</a></div><div class="ttdeci">Uint8 a</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1117</div></div>
<div class="ttc" id="astructSDL__Color_html_ae29d881bf740cfa7078b36e07f85d298"><div class="ttname"><a href="../../d7/d0a/structSDL__Color.html#ae29d881bf740cfa7078b36e07f85d298">SDL_Color::g</a></div><div class="ttdeci">Uint8 g</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1115</div></div>
<div class="ttc" id="astructSDL__Palette_html"><div class="ttname"><a href="../../d4/da3/structSDL__Palette.html">SDL_Palette</a></div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1142</div></div>
<div class="ttc" id="astructSDL__Palette_html_a81a0cc3197480e994c6b06f1f0567091"><div class="ttname"><a href="../../d4/da3/structSDL__Palette.html#a81a0cc3197480e994c6b06f1f0567091">SDL_Palette::ncolors</a></div><div class="ttdeci">int ncolors</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1143</div></div>
<div class="ttc" id="astructSDL__Palette_html_ad757a50037f43533196e94942440b241"><div class="ttname"><a href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">SDL_Palette::colors</a></div><div class="ttdeci">SDL_Color * colors</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1144</div></div>
<div class="ttc" id="astructSDL__Surface_html"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a></div><div class="ttdef"><b>Definition</b> SDL_surface.h:135</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d7/d0a/structSDL__Color.html#ac497ba67af6ecb4d51bdd0945b314526">SDL_Color::a</a>, <a class="el" href="../../d7/d0a/structSDL__Color.html#a3b79a27e0414049559aa5bcf241dedd3">SDL_Color::b</a>, <a class="el" href="#a0e10b199170996b8388f8b86f4a6495e">BI_BITFIELDS</a>, <a class="el" href="#a30c89822a72c59b21109955f16d74e29">BI_RGB</a>, <a class="el" href="#a03e0233815cd4bb40ec960472628233e">BI_RLE4</a>, <a class="el" href="#acac191784824d6699b54f356ecb90bb2">BI_RLE8</a>, <a class="el" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">SDL_Palette::colors</a>, <a class="el" href="#a914867d2ef5459be8908dbdc8b296ee4">CorrectAlphaChannel()</a>, <a class="el" href="../../d7/d0a/structSDL__Color.html#ae29d881bf740cfa7078b36e07f85d298">SDL_Color::g</a>, <a class="el" href="../../d4/da3/structSDL__Palette.html#a81a0cc3197480e994c6b06f1f0567091">SDL_Palette::ncolors</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d7/d0a/structSDL__Color.html#a0bb975b6829524133fdd3c6060cfa63d">SDL_Color::r</a>, <a class="el" href="#affe9ce3234fbf5aedbb0ceac8186bf6a">readRlePixels()</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#a5d933eb0233ca33d598800f33ef43376">SDL_ALPHA_OPAQUE</a>, <a class="el" href="../../d7/d49/SDL__assert_8h.html#af03d71e27f06835f6a09358943c33b1d">SDL_assert</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#a295990cc776d473f63d6a8fcc256a040">SDL_ClearError()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#afe7acb38ef290b00dd5027051efe3ba8">SDL_CreateSurface()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#a540a1a2dff3b098430c68f8ff6e8680e">SDL_CreateSurfacePalette()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa4f39992df0047b08813c3938d1d3408">SDL_GetPixelFormatForMasks()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a46891cab88fdb3bb6cd6a2add52fbb5d">SDL_IO_SEEK_CUR</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#a8bbf98a12987b0b22864743efb4b136e">SDL_ISPIXELFORMAT_INDEXED</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#aff8263002d42c66ef04687cda86bc3d2">SDL_PRIs32</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#ae56aa3067acde8f3b368f8278aebc3a9">SDL_ReadIO()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#acd8a3f7008cdeb5d49655ebac2621964">SDL_ReadS32LE()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a2930bc8a8c2a4a99f5486a89a2ae4395">SDL_ReadU16LE()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a7aba495850725f87a2e7428184d7eeda">SDL_ReadU32LE()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a83df3122f2f7de663ccc3991b138b546">SDL_ReadU8()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#ace853017535ad7681a22bf290c371fb4">SDL_strcmp()</a>, <a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#af3b3764d5afd1d0f7e9bf3e0a553cebf">SDL_strncmp()</a>, <a class="el" href="../../d6/de1/SDL__endian_8h.html#a157cb22d3cc4b3f623822b15c3921e54">SDL_Swap16()</a>, <a class="el" href="../../d6/de1/SDL__endian_8h.html#a0f516a794e03b48778c9fcf41ddfe026">SDL_Swap32()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO()</a>, and <a class="el" href="../../db/d76/SDL__glfuncs_8h.html#abc1496405a728524b5c9c02851c24e31">top</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/dac/SDL__surface_8h.html#adc82fda0a9610b56e82b4b91944f0617">SDL_LoadBMP()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/dc3/SDL__bmp_8c_a46ec958b331ad4389a21b6684b366e32_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/dc3/SDL__bmp_8c_a46ec958b331ad4389a21b6684b366e32_icgraph.svg" width="303" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a2ec09df87ef99ab18dc7ba5e61be57d1" name="a2ec09df87ef99ab18dc7ba5e61be57d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ec09df87ef99ab18dc7ba5e61be57d1">&#9670;&#160;</a></span>SDL_SaveBMP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> SDL_SaveBMP </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *</td>          <td class="paramname"><span class="paramname"><em>surface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>file</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Save a surface to a file.</p>
<p>Surfaces with a 24-bit, 32-bit and paletted 8-bit format get saved in the BMP directly. Other RGB formats with 8-bit or higher get converted to a 24-bit surface or, if they have an alpha mask or a colorkey, to a 32-bit surface before they are saved. YUV and paletted 1-bit and 4-bit formats are not supported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">surface</td><td>the <a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> structure containing the image to be saved. </td></tr>
    <tr><td class="paramname">file</td><td>a file to save to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success or false on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>This function is not thread safe.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../db/dac/SDL__surface_8h.html#adc82fda0a9610b56e82b4b91944f0617">SDL_LoadBMP</a> </dd>
<dd>
<a class="el" href="../../db/dac/SDL__surface_8h.html#a75ef0f6584394388d461a1a5cd2ab904">SDL_SaveBMP_IO</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  873</span>{</div>
<div class="line"><span class="lineno">  874</span>    <a class="code hl_struct" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a> = <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a9140c85491dd8b1774e5128486402cd9">SDL_IOFromFile</a>(file, <span class="stringliteral">&quot;wb&quot;</span>);</div>
<div class="line"><span class="lineno">  875</span>    <span class="keywordflow">if</span> (!<a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a>) {</div>
<div class="line"><span class="lineno">  876</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  877</span>    }</div>
<div class="line"><span class="lineno">  878</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#af0a2eb4b50ca5db2da58753f5c52708f">SDL_SaveBMP_IO</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>, <a class="code hl_typedef" href="../../d3/dda/eglext_8h.html#a0290aeed50480f3f33b930ac586454d5">stream</a>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  879</span>}</div>
<div class="ttc" id="aSDL__bmp_8c_html_af0a2eb4b50ca5db2da58753f5c52708f"><div class="ttname"><a href="#af0a2eb4b50ca5db2da58753f5c52708f">SDL_SaveBMP_IO</a></div><div class="ttdeci">bool SDL_SaveBMP_IO(SDL_Surface *surface, SDL_IOStream *dst, bool closeio)</div><div class="ttdef"><b>Definition</b> SDL_bmp.c:585</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a9140c85491dd8b1774e5128486402cd9">SDL_IOFromFile()</a>, and <a class="el" href="#af0a2eb4b50ca5db2da58753f5c52708f">SDL_SaveBMP_IO()</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../d4/d03/unix_2SDL__tray_8c.html#a206a4c41714798d7da6da4c129f0973b">SDL_CreateTray()</a>, and <a class="el" href="../../d4/d03/unix_2SDL__tray_8c.html#a2372c5e3d0c864715dbeb77d23cbca03">SDL_SetTrayIcon()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/dc3/SDL__bmp_8c_a2ec09df87ef99ab18dc7ba5e61be57d1_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/dc3/SDL__bmp_8c_a2ec09df87ef99ab18dc7ba5e61be57d1_icgraph.svg" width="298" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="af0a2eb4b50ca5db2da58753f5c52708f" name="af0a2eb4b50ca5db2da58753f5c52708f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a2eb4b50ca5db2da58753f5c52708f">&#9670;&#160;</a></span>SDL_SaveBMP_IO()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a> SDL_SaveBMP_IO </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *</td>          <td class="paramname"><span class="paramname"><em>surface</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d99/structSDL__IOStream.html">SDL_IOStream</a> *</td>          <td class="paramname"><span class="paramname"><em>dst</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d5b/SDL__stdinc_8h.html#abb452686968e48b67397da5f97445f5b">bool</a></td>          <td class="paramname"><span class="paramname"><em>closeio</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Save a surface to a seekable SDL data stream in BMP format.</p>
<p>Surfaces with a 24-bit, 32-bit and paletted 8-bit format get saved in the BMP directly. Other RGB formats with 8-bit or higher get converted to a 24-bit surface or, if they have an alpha mask or a colorkey, to a 32-bit surface before they are saved. YUV and paletted 1-bit and 4-bit formats are not supported.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">surface</td><td>the <a class="el" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> structure containing the image to be saved. </td></tr>
    <tr><td class="paramname">dst</td><td>a data stream to save to. </td></tr>
    <tr><td class="paramname">closeio</td><td>if true, calls <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO()</a> on <span class="tt">dst</span> before returning, even in the case of an error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true on success or false on failure; call <a class="el" href="../../da/d16/SDL__error_8h.html#a579f249f3dd9b45e329fe5819cd2fa8a">SDL_GetError()</a> for more information.</dd></dl>
<dl class="section user"><dt>Thread Safety</dt><dd>This function is not thread safe.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function is available since SDL 3.2.0.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../db/dac/SDL__surface_8h.html#aee71ef77cd301f805afa9c9b750ccbf6">SDL_LoadBMP_IO</a> </dd>
<dd>
<a class="el" href="../../db/dac/SDL__surface_8h.html#a84592b52496f65a58b79bfb67c05ce7a">SDL_SaveBMP</a> </dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  586</span>{</div>
<div class="line"><span class="lineno">  587</span>    <span class="keywordtype">bool</span> was_error = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  588</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2c1a61d5c466bb74680be0a8cc1b455d">Sint64</a> fp_offset, new_offset;</div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordtype">int</span> i, pad;</div>
<div class="line"><span class="lineno">  590</span>    <a class="code hl_struct" href="../../d0/de5/structSDL__Surface.html">SDL_Surface</a> *intermediate_surface = <a class="code hl_define" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><span class="lineno">  591</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *bits;</div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordtype">bool</span> save32bit = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  593</span>    <span class="keywordtype">bool</span> saveLegacyBMP = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>    <span class="comment">// The Win32 BMP file header (14 bytes)</span></div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordtype">char</span> magic[2] = { <span class="charliteral">&#39;B&#39;</span>, <span class="charliteral">&#39;M&#39;</span> };</div>
<div class="line"><span class="lineno">  597</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bfSize;</div>
<div class="line"><span class="lineno">  598</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> bfReserved1;</div>
<div class="line"><span class="lineno">  599</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> bfReserved2;</div>
<div class="line"><span class="lineno">  600</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bfOffBits;</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span>    <span class="comment">// The Win32 BITMAPINFOHEADER struct (40 bytes)</span></div>
<div class="line"><span class="lineno">  603</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> biSize;</div>
<div class="line"><span class="lineno">  604</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> biWidth;</div>
<div class="line"><span class="lineno">  605</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> biHeight;</div>
<div class="line"><span class="lineno">  606</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> biPlanes;</div>
<div class="line"><span class="lineno">  607</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a31fcc0a076c9068668173ee26d33e42b">Uint16</a> biBitCount;</div>
<div class="line"><span class="lineno">  608</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> biCompression;</div>
<div class="line"><span class="lineno">  609</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> biSizeImage;</div>
<div class="line"><span class="lineno">  610</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> biXPelsPerMeter;</div>
<div class="line"><span class="lineno">  611</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> biYPelsPerMeter;</div>
<div class="line"><span class="lineno">  612</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> biClrUsed;</div>
<div class="line"><span class="lineno">  613</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> biClrImportant;</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>    <span class="comment">// The additional header members from the Win32 BITMAPV4HEADER struct (108 bytes in total)</span></div>
<div class="line"><span class="lineno">  616</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV4RedMask = 0;</div>
<div class="line"><span class="lineno">  617</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV4GreenMask = 0;</div>
<div class="line"><span class="lineno">  618</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV4BlueMask = 0;</div>
<div class="line"><span class="lineno">  619</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV4AlphaMask = 0;</div>
<div class="line"><span class="lineno">  620</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV4CSType = 0;</div>
<div class="line"><span class="lineno">  621</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a7a90b941db9d4582e9ad7abb9940ff7e">Sint32</a> bV4Endpoints[3 * 3] = { 0 };</div>
<div class="line"><span class="lineno">  622</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV4GammaRed = 0;</div>
<div class="line"><span class="lineno">  623</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV4GammaGreen = 0;</div>
<div class="line"><span class="lineno">  624</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV4GammaBlue = 0;</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>    <span class="comment">// The additional header members from the Win32 BITMAPV5HEADER struct (124 bytes in total)</span></div>
<div class="line"><span class="lineno">  627</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV5Intent = 0;</div>
<div class="line"><span class="lineno">  628</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV5ProfileData = 0;</div>
<div class="line"><span class="lineno">  629</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV5ProfileSize = 0;</div>
<div class="line"><span class="lineno">  630</span>    <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a> bV5Reserved = 0;</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>    <span class="comment">// Make sure we have somewhere to save</span></div>
<div class="line"><span class="lineno">  633</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d4/d8e/SDL__surface_8c.html#a4a47e8e6c37116eac3ae2c575b24dd5c">SDL_SurfaceValid</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>)) {</div>
<div class="line"><span class="lineno">  634</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;surface&quot;</span>);</div>
<div class="line"><span class="lineno">  635</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  636</span>    }</div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordflow">if</span> (!dst) {</div>
<div class="line"><span class="lineno">  638</span>        <a class="code hl_define" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>(<span class="stringliteral">&quot;dst&quot;</span>);</div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  640</span>    }</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span><span class="preprocessor">#ifdef SAVE_32BIT_BMP</span></div>
<div class="line"><span class="lineno">  643</span>    <span class="comment">// We can save alpha information in a 32-bit BMP</span></div>
<div class="line"><span class="lineno">  644</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;format) &gt;= 8 &amp;&amp;</div>
<div class="line"><span class="lineno">  645</span>        (<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#a4d4ef3b8864a55ebc83539a6d0c6b15d">SDL_ISPIXELFORMAT_ALPHA</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;format) ||</div>
<div class="line"><span class="lineno">  646</span>         <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;map.info.flags &amp; <a class="code hl_define" href="../../dc/deb/SDL__blit_8h.html#a955429dbbafd4abab5a55242c7be88a6">SDL_COPY_COLORKEY</a>)) {</div>
<div class="line"><span class="lineno">  647</span>        save32bit = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  648</span>    }</div>
<div class="line"><span class="lineno">  649</span><span class="preprocessor">#endif </span><span class="comment">// SAVE_32BIT_BMP</span></div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>    <span class="keywordflow">if</span> (<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;palette &amp;&amp; !save32bit) {</div>
<div class="line"><span class="lineno">  652</span>        <span class="keywordflow">if</span> (<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;format) == 8) {</div>
<div class="line"><span class="lineno">  653</span>            intermediate_surface = <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>;</div>
<div class="line"><span class="lineno">  654</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  655</span>            <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;%u bpp BMP files not supported&quot;</span>,</div>
<div class="line"><span class="lineno">  656</span>                         <a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;format));</div>
<div class="line"><span class="lineno">  657</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  658</span>        }</div>
<div class="line"><span class="lineno">  659</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;format == <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a2f319eb2650f24957af424078e3d2beb">SDL_PIXELFORMAT_BGR24</a> &amp;&amp; !save32bit) ||</div>
<div class="line"><span class="lineno">  660</span>               (<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>-&gt;format == <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a3d7cd57731f65ebad8f13c9f1b9b4122">SDL_PIXELFORMAT_BGRA32</a> &amp;&amp; save32bit)) {</div>
<div class="line"><span class="lineno">  661</span>        intermediate_surface = <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>;</div>
<div class="line"><span class="lineno">  662</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  663</span>        <a class="code hl_enumeration" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256">SDL_PixelFormat</a> pixel_format;</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>        <span class="comment">/* If the surface has a colorkey or alpha channel we&#39;ll save a</span></div>
<div class="line"><span class="lineno">  666</span><span class="comment">           32-bit BMP with alpha channel, otherwise save a 24-bit BMP. */</span></div>
<div class="line"><span class="lineno">  667</span>        <span class="keywordflow">if</span> (save32bit) {</div>
<div class="line"><span class="lineno">  668</span>            pixel_format = <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a3d7cd57731f65ebad8f13c9f1b9b4122">SDL_PIXELFORMAT_BGRA32</a>;</div>
<div class="line"><span class="lineno">  669</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  670</span>            pixel_format = <a class="code hl_enumvalue" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a2f319eb2650f24957af424078e3d2beb">SDL_PIXELFORMAT_BGR24</a>;</div>
<div class="line"><span class="lineno">  671</span>        }</div>
<div class="line"><span class="lineno">  672</span>        intermediate_surface = <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a282ff9af2579b996b901088fadb4a115">SDL_ConvertSurface</a>(<a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>, pixel_format);</div>
<div class="line"><span class="lineno">  673</span>        <span class="keywordflow">if</span> (!intermediate_surface) {</div>
<div class="line"><span class="lineno">  674</span>            <a class="code hl_function" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError</a>(<span class="stringliteral">&quot;Couldn&#39;t convert image to %d bpp&quot;</span>,</div>
<div class="line"><span class="lineno">  675</span>                         (<span class="keywordtype">int</span>)<a class="code hl_define" href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a>(pixel_format));</div>
<div class="line"><span class="lineno">  676</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  677</span>        }</div>
<div class="line"><span class="lineno">  678</span>    }</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>    <span class="keywordflow">if</span> (save32bit) {</div>
<div class="line"><span class="lineno">  681</span>        saveLegacyBMP = <a class="code hl_function" href="../../d9/d1c/SDL__hints_8h.html#a5faa6d3126d17c1cac4a2f12894f1c5f">SDL_GetHintBoolean</a>(<a class="code hl_define" href="../../d9/d1c/SDL__hints_8h.html#a75c4ce4bba90833587eae21903d3d3fe">SDL_HINT_BMP_SAVE_LEGACY_FORMAT</a>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  682</span>    }</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a1a9835c7b362fc10ed0dab11f8346980">SDL_LockSurface</a>(intermediate_surface)) {</div>
<div class="line"><span class="lineno">  685</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> bw = intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a9b0ec7185dcdb2a3530a9160a6ea83d9">w</a> * intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#af701e5d88d9f231be3e8e061e4471768">fmt</a>-&gt;<a class="code hl_variable" href="../../d3/d2d/structSDL__PixelFormatDetails.html#a02a59d45e8e7c4d07a27103d91125bb5">bytes_per_pixel</a>;</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>        <span class="comment">// Set the BMP file header values</span></div>
<div class="line"><span class="lineno">  688</span>        bfSize = 0; <span class="comment">// We&#39;ll write this when we&#39;re done</span></div>
<div class="line"><span class="lineno">  689</span>        bfReserved1 = 0;</div>
<div class="line"><span class="lineno">  690</span>        bfReserved2 = 0;</div>
<div class="line"><span class="lineno">  691</span>        bfOffBits = 0; <span class="comment">// We&#39;ll write this when we&#39;re done</span></div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>        <span class="comment">// Write the BMP file header values</span></div>
<div class="line"><span class="lineno">  694</span>        fp_offset = <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO</a>(dst);</div>
<div class="line"><span class="lineno">  695</span>        <span class="keywordflow">if</span> (fp_offset &lt; 0) {</div>
<div class="line"><span class="lineno">  696</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  697</span>        }</div>
<div class="line"><span class="lineno">  698</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a48044084cdfdc30d838b90463ae86210">SDL_WriteIO</a>(dst, magic, 2) != 2 ||</div>
<div class="line"><span class="lineno">  699</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bfSize) ||</div>
<div class="line"><span class="lineno">  700</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a682687f8b947bbb3d0857223dfb441af">SDL_WriteU16LE</a>(dst, bfReserved1) ||</div>
<div class="line"><span class="lineno">  701</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a682687f8b947bbb3d0857223dfb441af">SDL_WriteU16LE</a>(dst, bfReserved2) ||</div>
<div class="line"><span class="lineno">  702</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bfOffBits)) {</div>
<div class="line"><span class="lineno">  703</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  704</span>        }</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>        <span class="comment">// Set the BMP info values</span></div>
<div class="line"><span class="lineno">  707</span>        biSize = 40;</div>
<div class="line"><span class="lineno">  708</span>        biWidth = intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a9b0ec7185dcdb2a3530a9160a6ea83d9">w</a>;</div>
<div class="line"><span class="lineno">  709</span>        biHeight = intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#af33bcf87a1f5e10a99b3c7e8626b38c8">h</a>;</div>
<div class="line"><span class="lineno">  710</span>        biPlanes = 1;</div>
<div class="line"><span class="lineno">  711</span>        biBitCount = intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#af701e5d88d9f231be3e8e061e4471768">fmt</a>-&gt;<a class="code hl_variable" href="../../d3/d2d/structSDL__PixelFormatDetails.html#a90632fa5bcc531ac920135f18fb878cc">bits_per_pixel</a>;</div>
<div class="line"><span class="lineno">  712</span>        biCompression = <a class="code hl_define" href="#a30c89822a72c59b21109955f16d74e29">BI_RGB</a>;</div>
<div class="line"><span class="lineno">  713</span>        biSizeImage = intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#af33bcf87a1f5e10a99b3c7e8626b38c8">h</a> * intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a>;</div>
<div class="line"><span class="lineno">  714</span>        biXPelsPerMeter = 0;</div>
<div class="line"><span class="lineno">  715</span>        biYPelsPerMeter = 0;</div>
<div class="line"><span class="lineno">  716</span>        <span class="keywordflow">if</span> (intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a0eec6adc25f2f71f5ae519e635b894c1">palette</a>) {</div>
<div class="line"><span class="lineno">  717</span>            biClrUsed = intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a0eec6adc25f2f71f5ae519e635b894c1">palette</a>-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#a81a0cc3197480e994c6b06f1f0567091">ncolors</a>;</div>
<div class="line"><span class="lineno">  718</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  719</span>            biClrUsed = 0;</div>
<div class="line"><span class="lineno">  720</span>        }</div>
<div class="line"><span class="lineno">  721</span>        biClrImportant = 0;</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>        <span class="comment">// Set the BMP info values</span></div>
<div class="line"><span class="lineno">  724</span>        <span class="keywordflow">if</span> (save32bit &amp;&amp; !saveLegacyBMP) {</div>
<div class="line"><span class="lineno">  725</span>            biSize = 124;</div>
<div class="line"><span class="lineno">  726</span>            <span class="comment">// Version 4 values</span></div>
<div class="line"><span class="lineno">  727</span>            biCompression = <a class="code hl_define" href="#a0e10b199170996b8388f8b86f4a6495e">BI_BITFIELDS</a>;</div>
<div class="line"><span class="lineno">  728</span>            <span class="comment">// The BMP format is always little endian, these masks stay the same</span></div>
<div class="line"><span class="lineno">  729</span>            bV4RedMask = 0x00ff0000;</div>
<div class="line"><span class="lineno">  730</span>            bV4GreenMask = 0x0000ff00;</div>
<div class="line"><span class="lineno">  731</span>            bV4BlueMask = 0x000000ff;</div>
<div class="line"><span class="lineno">  732</span>            bV4AlphaMask = 0xff000000;</div>
<div class="line"><span class="lineno">  733</span>            bV4CSType = <a class="code hl_define" href="#ae305cb6a1964b272c6c7ba44c5834fa9">LCS_sRGB</a>;</div>
<div class="line"><span class="lineno">  734</span>            bV4GammaRed = 0;</div>
<div class="line"><span class="lineno">  735</span>            bV4GammaGreen = 0;</div>
<div class="line"><span class="lineno">  736</span>            bV4GammaBlue = 0;</div>
<div class="line"><span class="lineno">  737</span>            <span class="comment">// Version 5 values</span></div>
<div class="line"><span class="lineno">  738</span>            bV5Intent = <a class="code hl_define" href="#a5101a7f6f0dc4d42a99eb9937d9b9879">LCS_GM_GRAPHICS</a>;</div>
<div class="line"><span class="lineno">  739</span>            bV5ProfileData = 0;</div>
<div class="line"><span class="lineno">  740</span>            bV5ProfileSize = 0;</div>
<div class="line"><span class="lineno">  741</span>            bV5Reserved = 0;</div>
<div class="line"><span class="lineno">  742</span>        }</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>        <span class="comment">// Write the BMP info values</span></div>
<div class="line"><span class="lineno">  745</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, biSize) ||</div>
<div class="line"><span class="lineno">  746</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a0b3169ebf5ca8666a0e3376cdfe7e899">SDL_WriteS32LE</a>(dst, biWidth) ||</div>
<div class="line"><span class="lineno">  747</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a0b3169ebf5ca8666a0e3376cdfe7e899">SDL_WriteS32LE</a>(dst, biHeight) ||</div>
<div class="line"><span class="lineno">  748</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a682687f8b947bbb3d0857223dfb441af">SDL_WriteU16LE</a>(dst, biPlanes) ||</div>
<div class="line"><span class="lineno">  749</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a682687f8b947bbb3d0857223dfb441af">SDL_WriteU16LE</a>(dst, biBitCount) ||</div>
<div class="line"><span class="lineno">  750</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, biCompression) ||</div>
<div class="line"><span class="lineno">  751</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, biSizeImage) ||</div>
<div class="line"><span class="lineno">  752</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, biXPelsPerMeter) ||</div>
<div class="line"><span class="lineno">  753</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, biYPelsPerMeter) ||</div>
<div class="line"><span class="lineno">  754</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, biClrUsed) ||</div>
<div class="line"><span class="lineno">  755</span>            !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, biClrImportant)) {</div>
<div class="line"><span class="lineno">  756</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  757</span>        }</div>
<div class="line"><span class="lineno">  758</span> </div>
<div class="line"><span class="lineno">  759</span>        <span class="comment">// Write the BMP info values</span></div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">if</span> (save32bit &amp;&amp; !saveLegacyBMP) {</div>
<div class="line"><span class="lineno">  761</span>            <span class="comment">// Version 4 values</span></div>
<div class="line"><span class="lineno">  762</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV4RedMask) ||</div>
<div class="line"><span class="lineno">  763</span>                !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV4GreenMask) ||</div>
<div class="line"><span class="lineno">  764</span>                !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV4BlueMask) ||</div>
<div class="line"><span class="lineno">  765</span>                !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV4AlphaMask) ||</div>
<div class="line"><span class="lineno">  766</span>                !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV4CSType)) {</div>
<div class="line"><span class="lineno">  767</span>                <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  768</span>            }</div>
<div class="line"><span class="lineno">  769</span>            <span class="keywordflow">for</span> (i = 0; i &lt; 3 * 3; i++) {</div>
<div class="line"><span class="lineno">  770</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV4Endpoints[i])) {</div>
<div class="line"><span class="lineno">  771</span>                    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  772</span>                }</div>
<div class="line"><span class="lineno">  773</span>            }</div>
<div class="line"><span class="lineno">  774</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV4GammaRed) ||</div>
<div class="line"><span class="lineno">  775</span>                !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV4GammaGreen) ||</div>
<div class="line"><span class="lineno">  776</span>                !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV4GammaBlue)) {</div>
<div class="line"><span class="lineno">  777</span>                <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  778</span>            }</div>
<div class="line"><span class="lineno">  779</span>            <span class="comment">// Version 5 values</span></div>
<div class="line"><span class="lineno">  780</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV5Intent) ||</div>
<div class="line"><span class="lineno">  781</span>                !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV5ProfileData) ||</div>
<div class="line"><span class="lineno">  782</span>                !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV5ProfileSize) ||</div>
<div class="line"><span class="lineno">  783</span>                !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bV5Reserved)) {</div>
<div class="line"><span class="lineno">  784</span>                <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  785</span>            }</div>
<div class="line"><span class="lineno">  786</span>        }</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>        <span class="comment">// Write the palette (in BGR color order)</span></div>
<div class="line"><span class="lineno">  789</span>        <span class="keywordflow">if</span> (intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a0eec6adc25f2f71f5ae519e635b894c1">palette</a>) {</div>
<div class="line"><span class="lineno">  790</span>            <a class="code hl_struct" href="../../d7/d0a/structSDL__Color.html">SDL_Color</a> *colors;</div>
<div class="line"><span class="lineno">  791</span>            <span class="keywordtype">int</span> ncolors;</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>            colors = intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a0eec6adc25f2f71f5ae519e635b894c1">palette</a>-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">colors</a>;</div>
<div class="line"><span class="lineno">  794</span>            ncolors = intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a0eec6adc25f2f71f5ae519e635b894c1">palette</a>-&gt;<a class="code hl_variable" href="../../d4/da3/structSDL__Palette.html#a81a0cc3197480e994c6b06f1f0567091">ncolors</a>;</div>
<div class="line"><span class="lineno">  795</span>            <span class="keywordflow">for</span> (i = 0; i &lt; ncolors; ++i) {</div>
<div class="line"><span class="lineno">  796</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7270e13716aa442d7bc48c13763c5758">SDL_WriteU8</a>(dst, colors[i].b) ||</div>
<div class="line"><span class="lineno">  797</span>                    !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7270e13716aa442d7bc48c13763c5758">SDL_WriteU8</a>(dst, colors[i].g) ||</div>
<div class="line"><span class="lineno">  798</span>                    !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7270e13716aa442d7bc48c13763c5758">SDL_WriteU8</a>(dst, colors[i].r) ||</div>
<div class="line"><span class="lineno">  799</span>                    !<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7270e13716aa442d7bc48c13763c5758">SDL_WriteU8</a>(dst, colors[i].a)) {</div>
<div class="line"><span class="lineno">  800</span>                    <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  801</span>                }</div>
<div class="line"><span class="lineno">  802</span>            }</div>
<div class="line"><span class="lineno">  803</span>        }</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>        <span class="comment">// Write the bitmap offset</span></div>
<div class="line"><span class="lineno">  806</span>        bfOffBits = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)(<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO</a>(dst) - fp_offset);</div>
<div class="line"><span class="lineno">  807</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(dst, fp_offset + 10, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  808</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  809</span>        }</div>
<div class="line"><span class="lineno">  810</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bfOffBits)) {</div>
<div class="line"><span class="lineno">  811</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  812</span>        }</div>
<div class="line"><span class="lineno">  813</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(dst, fp_offset + bfOffBits, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  814</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  815</span>        }</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span>        <span class="comment">// Write the bitmap image upside down</span></div>
<div class="line"><span class="lineno">  818</span>        bits = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a> + (intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#af33bcf87a1f5e10a99b3c7e8626b38c8">h</a> * intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a>);</div>
<div class="line"><span class="lineno">  819</span>        pad = ((bw % 4) ? (4 - (bw % 4)) : 0);</div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">while</span> (bits &gt; (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> *)intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">pixels</a>) {</div>
<div class="line"><span class="lineno">  821</span>            bits -= intermediate_surface-&gt;<a class="code hl_variable" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">pitch</a>;</div>
<div class="line"><span class="lineno">  822</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a48044084cdfdc30d838b90463ae86210">SDL_WriteIO</a>(dst, bits, bw) != bw) {</div>
<div class="line"><span class="lineno">  823</span>                <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  824</span>            }</div>
<div class="line"><span class="lineno">  825</span>            <span class="keywordflow">if</span> (pad) {</div>
<div class="line"><span class="lineno">  826</span>                <span class="keyword">const</span> <a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#a2944638813a090aa23e62f4da842c3e2">Uint8</a> padbyte = 0;</div>
<div class="line"><span class="lineno">  827</span>                <span class="keywordflow">for</span> (i = 0; i &lt; pad; ++i) {</div>
<div class="line"><span class="lineno">  828</span>                    <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a7270e13716aa442d7bc48c13763c5758">SDL_WriteU8</a>(dst, padbyte)) {</div>
<div class="line"><span class="lineno">  829</span>                        <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  830</span>                    }</div>
<div class="line"><span class="lineno">  831</span>                }</div>
<div class="line"><span class="lineno">  832</span>            }</div>
<div class="line"><span class="lineno">  833</span>        }</div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>        <span class="comment">// Write the BMP file size</span></div>
<div class="line"><span class="lineno">  836</span>        new_offset = <a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO</a>(dst);</div>
<div class="line"><span class="lineno">  837</span>        <span class="keywordflow">if</span> (new_offset &lt; 0) {</div>
<div class="line"><span class="lineno">  838</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  839</span>        }</div>
<div class="line"><span class="lineno">  840</span>        bfSize = (<a class="code hl_typedef" href="../../d2/d5b/SDL__stdinc_8h.html#add440eff171ea5f55cb00c4a9ab8672d">Uint32</a>)(new_offset - fp_offset);</div>
<div class="line"><span class="lineno">  841</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(dst, fp_offset + 2, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  842</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  843</span>        }</div>
<div class="line"><span class="lineno">  844</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a>(dst, bfSize)) {</div>
<div class="line"><span class="lineno">  845</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  846</span>        }</div>
<div class="line"><span class="lineno">  847</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO</a>(dst, fp_offset + bfSize, <a class="code hl_enumvalue" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>) &lt; 0) {</div>
<div class="line"><span class="lineno">  848</span>            <span class="keywordflow">goto</span> done;</div>
<div class="line"><span class="lineno">  849</span>        }</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>        <span class="comment">// Close it up..</span></div>
<div class="line"><span class="lineno">  852</span>        <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#aad2f8f10d26b8e510859df08c1410578">SDL_UnlockSurface</a>(intermediate_surface);</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>        was_error = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  855</span>    }</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>done:</div>
<div class="line"><span class="lineno">  858</span>    <span class="keywordflow">if</span> (intermediate_surface &amp;&amp; intermediate_surface != <a class="code hl_typedef" href="../../da/de2/egl_8h.html#a0720952aa1caded45b5bcdce589663a9">surface</a>) {</div>
<div class="line"><span class="lineno">  859</span>        <a class="code hl_function" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface</a>(intermediate_surface);</div>
<div class="line"><span class="lineno">  860</span>    }</div>
<div class="line"><span class="lineno">  861</span>    <span class="keywordflow">if</span> (closeio &amp;&amp; dst) {</div>
<div class="line"><span class="lineno">  862</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO</a>(dst)) {</div>
<div class="line"><span class="lineno">  863</span>            was_error = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  864</span>        }</div>
<div class="line"><span class="lineno">  865</span>    }</div>
<div class="line"><span class="lineno">  866</span>    <span class="keywordflow">if</span> (was_error) {</div>
<div class="line"><span class="lineno">  867</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  868</span>    }</div>
<div class="line"><span class="lineno">  869</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  870</span>}</div>
<div class="ttc" id="aSDL__blit_8h_html_a955429dbbafd4abab5a55242c7be88a6"><div class="ttname"><a href="../../dc/deb/SDL__blit_8h.html#a955429dbbafd4abab5a55242c7be88a6">SDL_COPY_COLORKEY</a></div><div class="ttdeci">#define SDL_COPY_COLORKEY</div><div class="ttdef"><b>Definition</b> SDL_blit.h:41</div></div>
<div class="ttc" id="aSDL__bmp_8c_html_a5101a7f6f0dc4d42a99eb9937d9b9879"><div class="ttname"><a href="#a5101a7f6f0dc4d42a99eb9937d9b9879">LCS_GM_GRAPHICS</a></div><div class="ttdeci">#define LCS_GM_GRAPHICS</div><div class="ttdef"><b>Definition</b> SDL_bmp.c:63</div></div>
<div class="ttc" id="aSDL__bmp_8c_html_ae305cb6a1964b272c6c7ba44c5834fa9"><div class="ttname"><a href="#ae305cb6a1964b272c6c7ba44c5834fa9">LCS_sRGB</a></div><div class="ttdeci">#define LCS_sRGB</div><div class="ttdef"><b>Definition</b> SDL_bmp.c:57</div></div>
<div class="ttc" id="aSDL__hints_8h_html_a5faa6d3126d17c1cac4a2f12894f1c5f"><div class="ttname"><a href="../../d9/d1c/SDL__hints_8h.html#a5faa6d3126d17c1cac4a2f12894f1c5f">SDL_GetHintBoolean</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_GetHintBoolean(const char *name, bool default_value)</div><div class="ttdef"><b>Definition</b> SDL_hints.c:311</div></div>
<div class="ttc" id="aSDL__hints_8h_html_a75c4ce4bba90833587eae21903d3d3fe"><div class="ttname"><a href="../../d9/d1c/SDL__hints_8h.html#a75c4ce4bba90833587eae21903d3d3fe">SDL_HINT_BMP_SAVE_LEGACY_FORMAT</a></div><div class="ttdeci">#define SDL_HINT_BMP_SAVE_LEGACY_FORMAT</div><div class="ttdef"><b>Definition</b> SDL_hints.h:576</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a0b3169ebf5ca8666a0e3376cdfe7e899"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a0b3169ebf5ca8666a0e3376cdfe7e899">SDL_WriteS32LE</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_WriteS32LE(SDL_IOStream *dst, Sint32 value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1629</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a2342f50c38f4e73538deffff42c5c530"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_WriteU32LE(SDL_IOStream *dst, Uint32 value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1623</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a48044084cdfdc30d838b90463ae86210"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a48044084cdfdc30d838b90463ae86210">SDL_WriteIO</a></div><div class="ttdeci">SDL_DECLSPEC size_t SDLCALL SDL_WriteIO(SDL_IOStream *context, const void *ptr, size_t size)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1365</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a682687f8b947bbb3d0857223dfb441af"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a682687f8b947bbb3d0857223dfb441af">SDL_WriteU16LE</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_WriteU16LE(SDL_IOStream *dst, Uint16 value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1601</div></div>
<div class="ttc" id="aSDL__iostream_8h_html_a7270e13716aa442d7bc48c13763c5758"><div class="ttname"><a href="../../d8/d35/SDL__iostream_8h.html#a7270e13716aa442d7bc48c13763c5758">SDL_WriteU8</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_WriteU8(SDL_IOStream *dst, Uint8 value)</div><div class="ttdef"><b>Definition</b> SDL_iostream.c:1591</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_a4d4ef3b8864a55ebc83539a6d0c6b15d"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#a4d4ef3b8864a55ebc83539a6d0c6b15d">SDL_ISPIXELFORMAT_ALPHA</a></div><div class="ttdeci">#define SDL_ISPIXELFORMAT_ALPHA(format)</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:478</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256a2f319eb2650f24957af424078e3d2beb"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a2f319eb2650f24957af424078e3d2beb">SDL_PIXELFORMAT_BGR24</a></div><div class="ttdeci">@ SDL_PIXELFORMAT_BGR24</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:597</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa5cb5f633303f8a2dff64aa561649256a3d7cd57731f65ebad8f13c9f1b9b4122"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a3d7cd57731f65ebad8f13c9f1b9b4122">SDL_PIXELFORMAT_BGRA32</a></div><div class="ttdeci">@ SDL_PIXELFORMAT_BGRA32</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:686</div></div>
<div class="ttc" id="aSDL__pixels_8h_html_aa66e860806303ec149fb8c213aeed488"><div class="ttname"><a href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a></div><div class="ttdeci">#define SDL_BITSPERPIXEL(format)</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:340</div></div>
<div class="ttc" id="aSDL__surface_8c_html_a4a47e8e6c37116eac3ae2c575b24dd5c"><div class="ttname"><a href="../../d4/d8e/SDL__surface_8c.html#a4a47e8e6c37116eac3ae2c575b24dd5c">SDL_SurfaceValid</a></div><div class="ttdeci">bool SDL_SurfaceValid(SDL_Surface *surface)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:45</div></div>
<div class="ttc" id="aSDL__surface_8h_html_a1a9835c7b362fc10ed0dab11f8346980"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#a1a9835c7b362fc10ed0dab11f8346980">SDL_LockSurface</a></div><div class="ttdeci">SDL_DECLSPEC bool SDLCALL SDL_LockSurface(SDL_Surface *surface)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:1751</div></div>
<div class="ttc" id="aSDL__surface_8h_html_a282ff9af2579b996b901088fadb4a115"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#a282ff9af2579b996b901088fadb4a115">SDL_ConvertSurface</a></div><div class="ttdeci">SDL_DECLSPEC SDL_Surface *SDLCALL SDL_ConvertSurface(SDL_Surface *surface, SDL_PixelFormat format)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:2264</div></div>
<div class="ttc" id="aSDL__surface_8h_html_aad2f8f10d26b8e510859df08c1410578"><div class="ttname"><a href="../../db/dac/SDL__surface_8h.html#aad2f8f10d26b8e510859df08c1410578">SDL_UnlockSurface</a></div><div class="ttdeci">SDL_DECLSPEC void SDLCALL SDL_UnlockSurface(SDL_Surface *surface)</div><div class="ttdef"><b>Definition</b> SDL_surface.c:1778</div></div>
<div class="ttc" id="astructSDL__Color_html"><div class="ttname"><a href="../../d7/d0a/structSDL__Color.html">SDL_Color</a></div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1113</div></div>
<div class="ttc" id="astructSDL__PixelFormatDetails_html_a02a59d45e8e7c4d07a27103d91125bb5"><div class="ttname"><a href="../../d3/d2d/structSDL__PixelFormatDetails.html#a02a59d45e8e7c4d07a27103d91125bb5">SDL_PixelFormatDetails::bytes_per_pixel</a></div><div class="ttdeci">Uint8 bytes_per_pixel</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1158</div></div>
<div class="ttc" id="astructSDL__PixelFormatDetails_html_a90632fa5bcc531ac920135f18fb878cc"><div class="ttname"><a href="../../d3/d2d/structSDL__PixelFormatDetails.html#a90632fa5bcc531ac920135f18fb878cc">SDL_PixelFormatDetails::bits_per_pixel</a></div><div class="ttdeci">Uint8 bits_per_pixel</div><div class="ttdef"><b>Definition</b> SDL_pixels.h:1157</div></div>
<div class="ttc" id="astructSDL__Surface_html_a0eec6adc25f2f71f5ae519e635b894c1"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#a0eec6adc25f2f71f5ae519e635b894c1">SDL_Surface::palette</a></div><div class="ttdeci">SDL_Palette * palette</div><div class="ttdef"><b>Definition</b> SDL_surface_c.h:67</div></div>
<div class="ttc" id="astructSDL__Surface_html_a5fa37325d77d65b2ed64ffc7cd01bb6c"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">SDL_Surface::pitch</a></div><div class="ttdeci">int pitch</div><div class="ttdef"><b>Definition</b> SDL_surface.h:140</div></div>
<div class="ttc" id="astructSDL__Surface_html_a9b0ec7185dcdb2a3530a9160a6ea83d9"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#a9b0ec7185dcdb2a3530a9160a6ea83d9">SDL_Surface::w</a></div><div class="ttdeci">int w</div><div class="ttdef"><b>Definition</b> SDL_surface.h:138</div></div>
<div class="ttc" id="astructSDL__Surface_html_ada4bbb4e87ef8c52fb5b234ce45b3978"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">SDL_Surface::pixels</a></div><div class="ttdeci">void * pixels</div><div class="ttdef"><b>Definition</b> SDL_surface.h:141</div></div>
<div class="ttc" id="astructSDL__Surface_html_af33bcf87a1f5e10a99b3c7e8626b38c8"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#af33bcf87a1f5e10a99b3c7e8626b38c8">SDL_Surface::h</a></div><div class="ttdeci">int h</div><div class="ttdef"><b>Definition</b> SDL_surface.h:139</div></div>
<div class="ttc" id="astructSDL__Surface_html_af701e5d88d9f231be3e8e061e4471768"><div class="ttname"><a href="../../d0/de5/structSDL__Surface.html#af701e5d88d9f231be3e8e061e4471768">SDL_Surface::fmt</a></div><div class="ttdeci">const SDL_PixelFormatDetails * fmt</div><div class="ttdef"><b>Definition</b> SDL_surface_c.h:61</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a0e10b199170996b8388f8b86f4a6495e">BI_BITFIELDS</a>, <a class="el" href="#a30c89822a72c59b21109955f16d74e29">BI_RGB</a>, <a class="el" href="../../d3/d2d/structSDL__PixelFormatDetails.html#a90632fa5bcc531ac920135f18fb878cc">SDL_PixelFormatDetails::bits_per_pixel</a>, <a class="el" href="../../d3/d2d/structSDL__PixelFormatDetails.html#a02a59d45e8e7c4d07a27103d91125bb5">SDL_PixelFormatDetails::bytes_per_pixel</a>, <a class="el" href="../../d4/da3/structSDL__Palette.html#ad757a50037f43533196e94942440b241">SDL_Palette::colors</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#af701e5d88d9f231be3e8e061e4471768">SDL_Surface::fmt</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#af33bcf87a1f5e10a99b3c7e8626b38c8">SDL_Surface::h</a>, <a class="el" href="#a5101a7f6f0dc4d42a99eb9937d9b9879">LCS_GM_GRAPHICS</a>, <a class="el" href="#ae305cb6a1964b272c6c7ba44c5834fa9">LCS_sRGB</a>, <a class="el" href="../../d4/da3/structSDL__Palette.html#a81a0cc3197480e994c6b06f1f0567091">SDL_Palette::ncolors</a>, <a class="el" href="../../d8/d5f/SDL__begin__code_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#a0eec6adc25f2f71f5ae519e635b894c1">SDL_Surface::palette</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#a5fa37325d77d65b2ed64ffc7cd01bb6c">SDL_Surface::pitch</a>, <a class="el" href="../../d0/de5/structSDL__Surface.html#ada4bbb4e87ef8c52fb5b234ce45b3978">SDL_Surface::pixels</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa66e860806303ec149fb8c213aeed488">SDL_BITSPERPIXEL</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a3ab799b70783f9e8bbad0e5e9a5eb6de">SDL_CloseIO()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#a282ff9af2579b996b901088fadb4a115">SDL_ConvertSurface()</a>, <a class="el" href="../../dc/deb/SDL__blit_8h.html#a955429dbbafd4abab5a55242c7be88a6">SDL_COPY_COLORKEY</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#a0151b0009da31c75b0ba8e87a718fc27">SDL_DestroySurface()</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#a5faa6d3126d17c1cac4a2f12894f1c5f">SDL_GetHintBoolean()</a>, <a class="el" href="../../d9/d1c/SDL__hints_8h.html#a75c4ce4bba90833587eae21903d3d3fe">SDL_HINT_BMP_SAVE_LEGACY_FORMAT</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#a5875c9c083a88408e11abeaa8391dfa5">SDL_InvalidParamError</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#af9d2dcbe6c5ec47a1053ed54be1b11c4a8089fa1ee6ce3dd1eca0c6aab84d4325">SDL_IO_SEEK_SET</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#a4d4ef3b8864a55ebc83539a6d0c6b15d">SDL_ISPIXELFORMAT_ALPHA</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#a1a9835c7b362fc10ed0dab11f8346980">SDL_LockSurface()</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a2f319eb2650f24957af424078e3d2beb">SDL_PIXELFORMAT_BGR24</a>, <a class="el" href="../../d9/d3f/SDL__pixels_8h.html#aa5cb5f633303f8a2dff64aa561649256a3d7cd57731f65ebad8f13c9f1b9b4122">SDL_PIXELFORMAT_BGRA32</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a759e8675f14009868c2d895930bbd29e">SDL_SeekIO()</a>, <a class="el" href="../../da/d16/SDL__error_8h.html#ac23553088fda91b9d123eed70e977c43">SDL_SetError()</a>, <a class="el" href="../../d4/d8e/SDL__surface_8c.html#a4a47e8e6c37116eac3ae2c575b24dd5c">SDL_SurfaceValid()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#ab4ba1c0aa896e9b98ee25dc6493051b1">SDL_TellIO()</a>, <a class="el" href="../../db/dac/SDL__surface_8h.html#aad2f8f10d26b8e510859df08c1410578">SDL_UnlockSurface()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a48044084cdfdc30d838b90463ae86210">SDL_WriteIO()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a0b3169ebf5ca8666a0e3376cdfe7e899">SDL_WriteS32LE()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a682687f8b947bbb3d0857223dfb441af">SDL_WriteU16LE()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a2342f50c38f4e73538deffff42c5c530">SDL_WriteU32LE()</a>, <a class="el" href="../../d8/d35/SDL__iostream_8h.html#a7270e13716aa442d7bc48c13763c5758">SDL_WriteU8()</a>, and <a class="el" href="../../d0/de5/structSDL__Surface.html#a9b0ec7185dcdb2a3530a9160a6ea83d9">SDL_Surface::w</a>.</p>

<p class="reference">Referenced by <a class="el" href="../../db/dac/SDL__surface_8h.html#a84592b52496f65a58b79bfb67c05ce7a">SDL_SaveBMP()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/dc3/SDL__bmp_8c_af0a2eb4b50ca5db2da58753f5c52708f_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" loading="lazy" frameborder="0" src="../../d8/dc3/SDL__bmp_8c_af0a2eb4b50ca5db2da58753f5c52708f_icgraph.svg" width="480" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="../../dir_50980eb3d68ca1a5cefc02d16026552f.html">SDL-main</a></li><li class="navelem"><a href="../../dir_93dff7e69d031a1b18a384e0d03ab66f.html">src</a></li><li class="navelem"><a href="../../dir_b7b7438138b39ba7ca73db38a6ad36be.html">video</a></li><li class="navelem"><a href="../../d8/dc3/SDL__bmp_8c.html">SDL_bmp.c</a></li>
    <li class="footer">Generated on <span class="timestamp"></span> for SDL3 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
